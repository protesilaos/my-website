---
layout: page
title: 'Modus Themes'
subtitle: 'Accessible themes for GNU Emacs, conforming with the highest standard for colour contrast between background and foreground values (WCAG AAA)'
excerpt: "The Modus themes for Emacs meet the highest accessibility standard for colour contrast. This is their official manual."
permalink: /emacs/modus-themes
redirect_from:
  - /modus-themes
---

IMAGES HERE: <a href="https://protesilaos.com/emacs/modus-themes-pictures">https://protesilaos.com/emacs/modus-themes-pictures</a>

<hr/>

<h2>Official manual</h2>

<p>
This manual, written by Protesilaos Stavrou, describes the
customization options for the Modus themes, and provides every other
piece of information pertinent to them.
</p>

<p>
The documentation furnished herein corresponds to stable version
4.7.0, released on 2025-04-17.  Any reference
to a newer feature which does not yet form part of the latest tagged
commit, is explicitly marked as such.
</p>

<p>
Current development target is 4.8.0-dev.
</p>

<ul class="org-ul">
<li>Package name (GNU ELPA): <code>modus-themes</code></li>
<li>Official manual: <a href="https://protesilaos.com/emacs/modus-themes">https://protesilaos.com/emacs/modus-themes</a></li>
<li>Change log: <a href="https://protesilaos.com/emacs/modus-themes-changelog">https://protesilaos.com/emacs/modus-themes-changelog</a></li>
<li>Color palette: <a href="https://protesilaos.com/emacs/modus-themes-colors">https://protesilaos.com/emacs/modus-themes-colors</a></li>
<li>Sample pictures: <a href="https://protesilaos.com/emacs/modus-themes-pictures">https://protesilaos.com/emacs/modus-themes-pictures</a></li>
<li>Git repositories:
<ul class="org-ul">
<li>GitHub: <a href="https://github.com/protesilaos/modus-themes">https://github.com/protesilaos/modus-themes</a></li>
<li>GitLab: <a href="https://gitlab.com/protesilaos/modus-themes">https://gitlab.com/protesilaos/modus-themes</a></li>
</ul></li>
<li>Backronym: My Old Display Unexpectedly Sharpened &#x2026; themes.</li>
</ul>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:b14c3fcb-13dd-4144-9d92-2c58b3ed16d3">1. COPYING</a></li>
<li><a href="#h:f0f3dbcb-602d-40cf-b918-8f929c441baf">2. Overview</a>
<ul>
<li><a href="#h:69b92089-069c-4ba1-9d94-cc3415fc4f87">2.1. How do the themes look like</a></li>
<li><a href="#h:2cc37c36-6c1a-48b2-a010-1050b270ee18">2.2. Learn about the latest changes</a></li>
</ul>
</li>
<li><a href="#h:1af85373-7f81-4c35-af25-afcef490c111">3. Installation</a>
<ul>
<li><a href="#h:da3414b7-1426-46b8-8e76-47b845b76fd0">3.1. Install manually from source</a></li>
<li><a href="#h:c4b10085-149f-43e2-bd4d-347f33aee054">3.2. Install from the archives</a></li>
<li><a href="#h:da640eb1-95dd-4e86-bb4e-1027b27885f0">3.3. Install on GNU/Linux</a>
<ul>
<li><a href="#h:7e570360-9ee6-4bc5-8c04-9dc11418a3e4">3.3.1. Debian 11 Bullseye</a></li>
<li><a href="#h:a4ca52cd-869f-46a5-9e16-4d9665f5b88e">3.3.2. GNU Guix</a></li>
</ul>
</li>
<li><a href="#h:e6268471-e847-4c9d-998f-49a83257b7f1">3.4. Dealing with byte compilation errors</a></li>
</ul>
</li>
<li><a href="#h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">4. Enable and load</a>
<ul>
<li><a href="#h:b66b128d-54a4-4265-b59f-4d1ea2feb073">4.1. The <code>require-theme</code> for built-in Emacs themes</a></li>
<li><a href="#h:e979734c-a9e1-4373-9365-0f2cd36107b8">4.2. Sample configuration with and without use-package</a></li>
<li><a href="#h:e68560b3-7fb0-42bc-a151-e015948f8a35">4.3. Differences between loading and enabling</a></li>
</ul>
</li>
<li><a href="#h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f">5. Customization options</a>
<ul>
<li><a href="#h:9001527a-4e2c-43e0-98e8-3ef72d770639">5.1. Custom reload theme</a></li>
<li><a href="#h:adb0c49a-f1f9-4690-868b-013a080eed68">5.2. Disable other themes</a></li>
<li><a href="#h:b25714f6-0fbe-41f6-89b5-6912d304091e">5.3. Bold constructs</a></li>
<li><a href="#h:977c900d-0d6d-4dbb-82d9-c2aae69543d6">5.4. Italic constructs</a></li>
<li><a href="#h:4fbfed66-5a89-447a-a07d-a03f6819c5bd">5.5. Option for which themes to toggle</a></li>
<li><a href="#h:a10c0202-3683-4fad-9897-433c25e255f6">5.6. Option for which themes to rotate</a></li>
<li><a href="#h:115e6c23-ee35-4a16-8cef-e2fcbb08e28b">5.7. Mixed fonts</a></li>
<li><a href="#h:db5a9a7c-2928-4a28-b0f0-6f2b9bd52ba1">5.8. Command prompts</a></li>
<li><a href="#h:f1c20c02-7b34-4c35-9c65-99170efb2882">5.9. Completion UIs</a></li>
<li><a href="#h:b7e328c0-3034-4db7-9cdf-d5ba12081ca2">5.10. Org mode blocks</a></li>
<li><a href="#h:271eff19-97aa-4090-9415-a6463c2f9ae1">5.11. Heading styles</a></li>
<li><a href="#h:16cf666c-5e65-424c-a855-7ea8a4a1fcac">5.12. UI typeface</a></li>
<li><a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">5.13. Palette overrides</a></li>
<li><a href="#h:287fb971-a866-4d88-9993-56e902dd63c4">5.14. Palette extension</a></li>
</ul>
</li>
<li><a href="#h:f4d4b71b-2ca5-4c3d-b0b4-9bfd7aa7fb4d">6. Preview theme colors</a></li>
<li><a href="#h:33460ae8-984b-40fd-8baa-383cc5fc2698">7. Use colors from the Modus themes palette</a>
<ul>
<li><a href="#h:1cc552c1-5f5f-4a56-ae78-7b69e8512c4e">7.1. Get a single color from the palette with <code>modus-themes-get-color-value</code></a></li>
<li><a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">7.2. Use theme colors in code with <code>modus-themes-with-colors</code></a></li>
</ul>
</li>
<li><a href="#h:f4651d55-8c07-46aa-b52b-bed1e53463bb">8. Advanced customization</a>
<ul>
<li><a href="#h:b0bc811c-227e-42ec-bf67-15e1f41eb7bc">8.1. DIY Palette override presets</a></li>
<li><a href="#h:6c3f87a8-3573-43de-89e0-53f567c0ede1">8.2. DIY Add support for <code>engrave-faces</code></a></li>
<li><a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">8.3. DIY Stylistic variants using palette overrides</a>
<ul>
<li><a href="#h:80ddba52-e188-411f-8cc0-480ebd75befe">8.3.1. DIY Make the mode line borderless</a></li>
<li><a href="#h:e8d781be-eefc-4a81-ac4e-5ed156190df7">8.3.2. DIY Make the active mode line colorful</a></li>
<li><a href="#h:096658d7-a0bd-4a99-b6dc-9b20a20cda37">8.3.3. DIY Make the tab bar more or less colorful</a></li>
<li><a href="#h:c312dcac-36b6-4a1f-b1f5-ab1c9abe27b0">8.3.4. DIY Make the fringe invisible or another color</a></li>
<li><a href="#h:6c1d1dea-5cbf-4d92-b7bb-570a7a23ffe9">8.3.5. DIY Make links use subtle or no underlines</a></li>
<li><a href="#h:bd75b43a-0bf1-45e7-b8b4-20944ca8b7f8">8.3.6. DIY Make prompts more or less colorful</a></li>
<li><a href="#h:d959f789-0517-4636-8780-18123f936f91">8.3.7. DIY Make completion matches more or less colorful</a></li>
<li><a href="#h:26f53daa-0065-48dc-88ab-6a718d16cd95">8.3.8. DIY Make comments yellow and strings green</a></li>
<li><a href="#h:c8767172-bf11-4c96-81dc-e736c464fc9c">8.3.9. DIY Make code syntax use the old alt-syntax style</a></li>
<li><a href="#h:943063da-7b27-4ba4-9afe-f8fe77652fd1">8.3.10. DIY Make use of alternative styles for code syntax</a></li>
<li><a href="#h:259cf8f5-48ec-4b13-8a69-5d6387094468">8.3.11. DIY Make matching parenthesis more or less intense</a></li>
<li><a href="#h:4f6b6ca3-f5bb-4830-8312-baa232305360">8.3.12. DIY Make box buttons more or less gray</a></li>
<li><a href="#h:b57bb50b-a863-4ea8-bb38-6de2275fa868">8.3.13. DIY Make TODO and DONE more or less intense</a></li>
<li><a href="#h:11297984-85ea-4678-abe9-a73aeab4676a">8.3.14. DIY Make headings more or less colorful</a></li>
<li><a href="#h:f44cc6e3-b0f1-4a5e-8a90-9e48fa557b50">8.3.15. DIY Make Org block colors more or less colorful</a></li>
<li><a href="#h:a5af0452-a50f-481d-bf60-d8143f98105f">8.3.16. DIY Make Org agenda more or less colorful</a></li>
<li><a href="#h:bb5b396f-5532-4d52-ab13-149ca24854f1">8.3.17. DIY Make inline code in prose use alternative styles</a></li>
<li><a href="#h:7da7a4ad-5d3a-4f11-9796-5a1abed0f0c4">8.3.18. DIY Make mail citations and headers more or less colorful</a></li>
<li><a href="#h:c8605d37-66e1-42aa-986e-d7514c3af6fe">8.3.19. DIY Make the region preserve text colors, plus other styles</a></li>
<li><a href="#h:b5cab69d-d7cb-451c-8ff9-1f545ceb6caf">8.3.20. DIY Make mouse highlights more or less colorful</a></li>
<li><a href="#h:03dbd5af-6bae-475e-85a2-cec189f69598">8.3.21. DIY Make language underlines less colorful</a></li>
<li><a href="#h:b6466f51-cb58-4007-9ebe-53a27af655c7">8.3.22. DIY Make line numbers use alternative styles</a></li>
<li><a href="#h:b3761482-bcbf-4990-a41e-4866fb9dad15">8.3.23. DIY Make diffs use only a foreground</a></li>
<li><a href="#h:16389ea1-4cb6-4b18-9409-384324113541">8.3.24. DIY Make deuteranopia diffs red and blue instead of yellow and blue</a></li>
</ul>
</li>
<li><a href="#h:fbb5e254-afd6-4313-bb05-93b3b4f67358">8.4. DIY More accurate colors in terminal emulators</a></li>
<li><a href="#h:6b8211b0-d11b-4c00-9543-4685ec3b742f">8.5. DIY Range of color with terminal emulators</a></li>
<li><a href="#h:a897b302-8e10-4a26-beab-3caaee1e1193">8.6. DIY Per-theme customization settings</a></li>
<li><a href="#h:a5140c9c-18b2-45db-8021-38d0b5074116">8.7. DIY Do not extend the region background</a></li>
<li><a href="#h:5a0c58cc-f97f-429c-be08-927b9fbb0a9c">8.8. DIY Add padding to the mode line</a></li>
<li><a href="#h:7a93cb6f-4eca-4d56-a85c-9dcd813d6b0f">8.9. DIY Remap face with local value</a></li>
<li><a href="#h:defcf4fc-8fa8-4c29-b12e-7119582cc929">8.10. DIY Font configurations for Org and others</a></li>
<li><a href="#h:2793a224-2109-4f61-a106-721c57c01375">8.11. DIY Configure bold and italic faces</a></li>
<li><a href="#h:89f0678d-c5c3-4a57-a526-668b2bb2d7ad">8.12. DIY Custom Org todo keyword and priority faces</a></li>
<li><a href="#h:26026302-47f4-4471-9004-9665470e7029">8.13. DIY Custom Org emphasis faces</a></li>
<li><a href="#h:8c842804-43b7-4287-b4e9-8c07d04d1f89">8.14. DIY Use colored Org source blocks per language</a></li>
<li><a href="#h:02e25930-e71a-493d-828a-8907fc80f874">8.15. DIY Measure color contrast</a></li>
<li><a href="#h:1d1ef4b4-8600-4a09-993c-6de3af0ddd26">8.16. DIY Load theme depending on time of day</a></li>
<li><a href="#h:ff69dfe1-29c0-447a-915c-b5ff7c5509cd">8.17. DIY Backdrop for pdf-tools</a></li>
<li><a href="#h:b40aca50-a3b2-4c43-be58-2c26fcd14237">8.18. DIY Toggle themes without reloading them</a></li>
<li><a href="#h:43bcb5d0-e25f-470f-828c-662cee9e21f1">8.19. DIY Use more spacious margins or padding in Emacs frames</a></li>
<li><a href="#h:2ef83a21-2f0a-441e-9634-473feb940743">8.20. DIY Custom hl-todo colors</a></li>
<li><a href="#h:439c9e46-52e2-46be-b1dc-85841dd99671">8.21. DIY Add support for solaire-mode</a></li>
<li><a href="#h:caa5a5c4-18fb-4b9f-91f9-883f216fce41">8.22. DIY Add support for meow-mode</a></li>
<li><a href="#h:e94bdd17-1c2d-41b5-86c5-83462bd8f30c">8.23. DIY Add support for combobulate</a></li>
<li><a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">8.24. DIY Use a hook at the post-load-theme phase</a>
<ul>
<li><a href="#h:86f6906b-f090-46cc-9816-1fe8aeb38776">8.24.1. DIY A theme-agnostic hook for theme loading</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:a9c8f29d-7f72-4b54-b74b-ddefe15d6a19">9. Face coverage</a>
<ul>
<li><a href="#h:60ed4275-60d6-49f8-9287-9a64e54bea0e">9.1. Supported packages</a></li>
<li><a href="#h:2cb359c7-3a84-4262-bab3-dcdc1d0034d7">9.2. Indirectly covered packages</a></li>
</ul>
</li>
<li><a href="#h:4c4d901a-84d7-4f20-bd99-0808c2b06eba">10. Notes on individual packages</a>
<ul>
<li><a href="#h:b2db46fb-32f4-44fd-8e11-d2b261cf51ae">10.1. Note on calendar.el weekday and weekend colors</a></li>
<li><a href="#h:a195e37c-e58c-4148-b254-8ba1ed8a731a">10.2. Note on git-gutter in Doom Emacs</a></li>
<li><a href="#h:d0a3157b-9c04-46e8-8742-5fb2a7ae8798">10.3. Note on php-mode multiline comments</a></li>
<li><a href="#h:420f5a33-c7a9-4112-9b04-eaf2cbad96bd">10.4. Note on underlines in compilation buffers</a></li>
<li><a href="#h:dd8478da-f56a-45cd-b199-b836c85c3c5a">10.5. Note on inline Latex in Org buffers</a></li>
<li><a href="#h:8eb4b758-d318-4480-9ead-357a571beb93">10.6. Note on dimmer.el</a></li>
<li><a href="#h:2a602816-bc1b-45bf-9675-4cbbd7bf6cab">10.7. Note on display-fill-column-indicator-mode</a></li>
<li><a href="#h:24bab397-dcb2-421d-aa6e-ec5bd622b913">10.8. Note on highlight-parentheses.el</a></li>
<li><a href="#h:99cf0d6c-e478-4e26-9932-3bf3427d13f6">10.9. Note on mmm-mode.el background colors</a></li>
<li><a href="#h:a94272e0-99da-4149-9e80-11a7e67a2cf2">10.10. Note for prism</a></li>
<li><a href="#h:20cef8c4-d11f-4053-8b2c-2872925780b1">10.11. Note on company-mode overlay pop-up</a></li>
<li><a href="#h:98bdf319-1e32-4469-8a01-771200fba65c">10.12. Note on ERC escaped color sequences</a></li>
<li><a href="#h:9130a8ba-d8e3-41be-a58b-3cb1eb7b6d17">10.13. Note on powerline or spaceline</a></li>
<li><a href="#h:4cc767dc-ffef-4c5c-9f10-82eb7b8921bf">10.14. Note on SHR colors</a></li>
<li><a href="#h:e6c5451f-6763-4be7-8fdb-b4706a422a4c">10.15. Note on SHR fonts</a></li>
<li><a href="#h:8e636056-356c-4ca7-bc78-ebe61031f585">10.16. Note on Ement colors and fonts</a></li>
<li><a href="#h:2659d13e-b1a5-416c-9a89-7c3ce3a76574">10.17. Note on pdf-tools link hints</a></li>
<li><a href="#h:636af312-54a5-4918-84a6-0698e85a3c6d">10.18. Note on the Notmuch logo</a></li>
<li><a href="#h:2d74236a-e41c-4616-8735-75f949a67334">10.19. Note on goto-address-mode faces</a></li>
</ul>
</li>
<li><a href="#h:b3384767-30d3-4484-ba7f-081729f03a47">11. Frequently Asked Questions</a>
<ul>
<li><a href="#h:5ce7ae2e-9348-4e55-b4cf-9302345b1826">11.1. Is the contrast ratio about adjacent colors?</a></li>
<li><a href="#h:44284e1f-fab8-4c4f-92f0-544728a7c91e">11.2. What does it mean to avoid exaggerations?</a></li>
<li><a href="#h:0b26cb47-9733-4cb1-87d9-50850cb0386e">11.3. Why are colors mostly variants of blue, magenta, cyan?</a></li>
<li><a href="#h:f60cc2ae-129d-47c0-9849-4f6bbd87d8be">11.4. What is the best setup for legibility?</a></li>
<li><a href="#h:a956dbd3-8fd2-4f5d-8b01-5f881268cf2b">11.5. Are these color schemes?</a></li>
<li><a href="#h:7156b949-917d-488e-9a72-59f70d80729c">11.6. Port the Modus themes to other platforms?</a></li>
</ul>
</li>
<li><a href="#h:9c3cd842-14b7-44d7-84b2-a5c8bc3fc3b1">12. Contributing</a>
<ul>
<li><a href="#h:89504f1c-c9a1-4bd9-ab39-78fd0eddb47c">12.1. Sources of the themes</a></li>
<li><a href="#h:6536c8d5-3f98-43ab-a787-b94120e735e8">12.2. Issues you can help with</a></li>
<li><a href="#h:111773e2-f26f-4b68-8c4f-9794ca6b9633">12.3. Patches require copyright assignment to the FSF</a></li>
</ul>
</li>
<li><a href="#h:95c3da23-217f-404e-b5f3-56c75760ebcf">13. Acknowledgements</a></li>
<li><a href="#h:3077c3d2-7f90-4228-8f0a-73124f4026f6">14. GNU Free Documentation License</a></li>
<li><a href="#h:55104b26-8e94-46cf-9975-43ea00316489">15. Indices</a>
<ul>
<li><a href="#h:6bec5005-529c-4521-ae05-3d990baffb5b">15.1. Function index</a></li>
<li><a href="#h:16ad8df6-b015-40a9-9259-03d4f7a23ee4">15.2. Variable index</a></li>
<li><a href="#h:6aa7a656-884b-4c39-b759-087e412eec13">15.3. Concept index</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-h:b14c3fcb-13dd-4144-9d92-2c58b3ed16d3" class="outline-2">
<h2 id="h:b14c3fcb-13dd-4144-9d92-2c58b3ed16d3"><span class="section-number-2">1.</span> COPYING</h2>
<div class="outline-text-2" id="text-h:b14c3fcb-13dd-4144-9d92-2c58b3ed16d3">
<p>
Copyright (C) 2020-2025 Free Software Foundation, Inc.
</p>

<blockquote>
<p>
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being “A GNU Manual,” and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled “GNU Free Documentation License.”
</p>

<p>
(a) The FSF’s Back-Cover Text is: “You have the freedom to copy and
modify this GNU manual.”
</p>
</blockquote>
</div>
</div>
<div id="outline-container-h:f0f3dbcb-602d-40cf-b918-8f929c441baf" class="outline-2">
<h2 id="h:f0f3dbcb-602d-40cf-b918-8f929c441baf"><span class="section-number-2">2.</span> Overview</h2>
<div class="outline-text-2" id="text-h:f0f3dbcb-602d-40cf-b918-8f929c441baf">
<p>
The Modus themes are designed for accessible readability.  They
conform with the highest standard for color contrast between
combinations of background and foreground values.  For small sized
text, this corresponds to the WCAG AAA standard, which specifies a
minimum rate of distance in relative luminance of 7:1.
</p>

<p>
The Modus themes consist of eight themes, divided into four subgroups.
</p>

<dl class="org-dl">
<dt>Main themes</dt><dd><code>modus-operandi</code> is the project&rsquo;s main light theme,
while <code>modus-vivendi</code> is its dark counterpart.  These two themes are
part of the project since its inception.  They are designed to cover
a broad range of needs and are, in the opinion of the author, the
reference for what a highly legible &ldquo;default&rdquo; theme should look
like.</dd>

<dt>Tinted themes</dt><dd><code>modus-operandi-tinted</code> and <code>modus-vivendi-tinted</code>
are variants of the two main themes.  They slightly tone down the
intensity of the background and provide a bit more color variety.
<code>modus-operandi-tinted</code> has a set of base tones that are shades of
light ochre (earthly colors), while <code>modus-vivendi-tinted</code> gives a
night sky impression.</dd>

<dt>Deuteranopia themes</dt><dd><code>modus-operandi-deuteranopia</code> and its
companion <code>modus-vivendi-deuteranopia</code> are optimized for users with
red-green color deficiency.  This means that they do not use red and
green hues for color-coding purposes, such as for diff removed and
added lines.  Instead, they implement colors that are discernible by
users with deueteranopia or deuteranomaly (mostly yellow and blue
hues).</dd>

<dt>Tritanopia themes</dt><dd><code>modus-operandi-tritanopia</code> and its counterpart
<code>modus-vivendi-tritanopia</code> are optimized for users with blue-yellow
color deficiency.  The idea is the same as with the deuteranopia
variants: color coding relies only on hues that are accessible to
people with tritanopia or tritanomaly, namely, shades of red and
cyan.</dd>
</dl>

<p>
To ensure that users have a consistently accessible experience, the
themes strive to achieve as close to full face coverage as possible,
while still targeting a curated list of well-maintained packages
(<a href="#h:a9c8f29d-7f72-4b54-b74b-ddefe15d6a19">Face coverage</a>).
</p>

<p>
The overarching objective of this project is to always offer
accessible color combinations.  There shall never be a compromise on
this principle.  If there arises an inescapable trade-off between
usability and stylistic considerations, we will always opt for the
former.
</p>

<p>
Starting with version 0.12.0 and onwards, the themes are built into GNU
Emacs.
</p>
</div>
<div id="outline-container-h:69b92089-069c-4ba1-9d94-cc3415fc4f87" class="outline-3">
<h3 id="h:69b92089-069c-4ba1-9d94-cc3415fc4f87"><span class="section-number-3">2.1.</span> How do the themes look like</h3>
<div class="outline-text-3" id="text-h:69b92089-069c-4ba1-9d94-cc3415fc4f87">
<p>
Check the web page with <a href="https://protesilaos.com/emacs/modus-themes-pictures/">the screen shots</a>.  Note that the themes are
highly customizable (<a href="#h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f">Customization options</a>).
</p>
</div>
</div>
<div id="outline-container-h:2cc37c36-6c1a-48b2-a010-1050b270ee18" class="outline-3">
<h3 id="h:2cc37c36-6c1a-48b2-a010-1050b270ee18"><span class="section-number-3">2.2.</span> Learn about the latest changes</h3>
<div class="outline-text-3" id="text-h:2cc37c36-6c1a-48b2-a010-1050b270ee18">
<p>
Please refer to the <a href="https://protesilaos.com/emacs/modus-themes-changelog">web page with the change log</a>.  It is comprehensive
and covers everything that goes into every tagged release of the themes.
</p>
</div>
</div>
</div>
<div id="outline-container-h:1af85373-7f81-4c35-af25-afcef490c111" class="outline-2">
<h2 id="h:1af85373-7f81-4c35-af25-afcef490c111"><span class="section-number-2">3.</span> Installation</h2>
<div class="outline-text-2" id="text-h:1af85373-7f81-4c35-af25-afcef490c111">
<p>
The Modus themes are distributed with Emacs starting with version 28.1.
On older versions of Emacs, they can be installed using Emacs&rsquo; package
manager or manually from their code repository.  There also exist
packages for distributions of GNU/Linux.
</p>

<p>
Emacs 28 ships with <code>modus-themes</code> version <code>1.6.0</code>.  Emacs 29 includes
version <code>3.0.0</code>.  Emacs 30 provides a newer, refactored version that
thoroughly refashions how the themes are implemented and customized.
Such major versions are not backward-compatible due to the limited
resources at the maintainer&rsquo;s disposal to support multiple versions of
Emacs and of the themes across the years.
</p>
</div>
<div id="outline-container-h:da3414b7-1426-46b8-8e76-47b845b76fd0" class="outline-3">
<h3 id="h:da3414b7-1426-46b8-8e76-47b845b76fd0"><span class="section-number-3">3.1.</span> Install manually from source</h3>
<div class="outline-text-3" id="text-h:da3414b7-1426-46b8-8e76-47b845b76fd0">
<p>
In the following example, we are assuming that your Emacs files are
stored in ~/.emacs.d and that you want to place the Modus
themes in ~/.emacs.d/modus-themes.
</p>

<ol class="org-ol">
<li>Get the source and store it in the desired path by running the
following in the command line shell:</li>
</ol>

<pre class="example">
$ git clone https://gitlab.com/protesilaos/modus-themes.git ~/.emacs.d/modus-themes
</pre>


<ol class="org-ol">
<li>Add that path to your known Elisp libraries&rsquo; list, by placing this
snippet of Emacs Lisp in your init file (e.g. init.el):</li>
</ol>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path "~/.emacs.d/modus-themes")
</pre>
</div>

<p>
The themes are now ready to be used: <a href="#h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">Enable and load</a>.
</p>
</div>
</div>
<div id="outline-container-h:c4b10085-149f-43e2-bd4d-347f33aee054" class="outline-3">
<h3 id="h:c4b10085-149f-43e2-bd4d-347f33aee054"><span class="section-number-3">3.2.</span> Install from the archives</h3>
<div class="outline-text-3" id="text-h:c4b10085-149f-43e2-bd4d-347f33aee054">
<p>
The <code>modus-themes</code> package is available from the GNU ELPA archive, which
is configured by default.
</p>

<p>
Prior to querying any package archive, make sure to update the index,
with M-x package-refresh-contents.  Then all you need to do
is type M-x package-install and specify the <code>modus-themes</code>.
</p>

<p>
Once installed, the themes are ready to be used: <a href="#h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">Enable and load</a>.
</p>
</div>
</div>
<div id="outline-container-h:da640eb1-95dd-4e86-bb4e-1027b27885f0" class="outline-3">
<h3 id="h:da640eb1-95dd-4e86-bb4e-1027b27885f0"><span class="section-number-3">3.3.</span> Install on GNU/Linux</h3>
<div class="outline-text-3" id="text-h:da640eb1-95dd-4e86-bb4e-1027b27885f0">
<p>
The themes are also available from the archives of some distributions of
GNU/Linux.  These should correspond to a tagged release rather than
building directly from the latest Git commit.  It all depends on the
distro&rsquo;s packaging policies.
</p>
</div>
<div id="outline-container-h:7e570360-9ee6-4bc5-8c04-9dc11418a3e4" class="outline-4">
<h4 id="h:7e570360-9ee6-4bc5-8c04-9dc11418a3e4"><span class="section-number-4">3.3.1.</span> Debian 11 Bullseye</h4>
<div class="outline-text-4" id="text-h:7e570360-9ee6-4bc5-8c04-9dc11418a3e4">
<p>
The themes are part of Debian 11 Bullseye.  Get them with:
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo apt install elpa-modus-themes
</pre>
</div>

<p>
They are now ready to be used: <a href="#h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">Enable and load</a>.
</p>

<p>
NOTE that Debian&rsquo;s package is severely out-of-date as of this writing
2022-07-24 09:57 +0300.
</p>
</div>
</div>
<div id="outline-container-h:a4ca52cd-869f-46a5-9e16-4d9665f5b88e" class="outline-4">
<h4 id="h:a4ca52cd-869f-46a5-9e16-4d9665f5b88e"><span class="section-number-4">3.3.2.</span> GNU Guix</h4>
<div class="outline-text-4" id="text-h:a4ca52cd-869f-46a5-9e16-4d9665f5b88e">
<p>
Users of Guix can get the themes with this command:
</p>

<div class="org-src-container">
<pre class="src src-sh">guix package -i emacs-modus-themes
</pre>
</div>

<p>
They are now ready to be used: <a href="#h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">Enable and load</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-h:e6268471-e847-4c9d-998f-49a83257b7f1" class="outline-3">
<h3 id="h:e6268471-e847-4c9d-998f-49a83257b7f1"><span class="section-number-3">3.4.</span> Dealing with byte compilation errors</h3>
<div class="outline-text-3" id="text-h:e6268471-e847-4c9d-998f-49a83257b7f1">
<p>
From time to time, we receive bug reports pertaining to errors with
byte compilation.  These seldom have to do with faulty code in the
themes: it might be a shortcoming of package.el, some
regression in the current development target of Emacs, a
misconfiguration in an otherwise exotic setup, and the like.
</p>

<p>
The common solution with a stable version of Emacs is to:
</p>

<ol class="org-ol">
<li>Delete the <code>modus-themes</code> package.</li>
<li>Close the current Emacs session.</li>
<li>Install the <code>modus-themes</code> again.</li>
</ol>

<p>
For those building Emacs directly from source, the solution may involve
reverting to an earlier commit in emacs.git.
</p>

<p>
At any rate, if you encounter such an issue please report it: we will
either fix the bug on our end if it is truly ours, or help forward it to
the relevant upstream maintainer.  Whatever you do, please understand
that a build failure does not mean we are necessarily doing something
wrong.
</p>

<p>
<a href="#h:6536c8d5-3f98-43ab-a787-b94120e735e8">Issues you can help with</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-h:3f3c3728-1b34-437d-9d0c-b110f5b161a9" class="outline-2">
<h2 id="h:3f3c3728-1b34-437d-9d0c-b110f5b161a9"><span class="section-number-2">4.</span> Enable and load</h2>
<div class="outline-text-2" id="text-h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">
<p>
NOTE that Emacs can load multiple themes, which typically produces
undesirable results and undoes the work of the designer.  Use the
<code>disable-theme</code> command if you are trying other themes beside the
Modus collection (<a href="#h:adb0c49a-f1f9-4690-868b-013a080eed68">Option for disabling other themes while loading Modus</a>).
</p>

<p>
Users of the built-in themes cannot <code>require</code> the package as usual
because there is no package to speak of.  Instead, things are simpler
as built-in themes are considered safe.  All one needs is to load the
theme of their preference by adding either form to their init file:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(load-theme 'modus-operandi)            ; Light theme
(load-theme 'modus-vivendi)             ; Dark theme
</pre>
</div>

<p>
Remember that there are multiple Modus themes (<a href="#h:f0f3dbcb-602d-40cf-b918-8f929c441baf">Overview</a>).  Adapt the
above snippet accordingly.
</p>

<p>
Users of packaged variants of the themes must add a few more lines to
ensure that everything works as intended.  First, one has to require the
main library before loading one of the themes:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'modus-themes)
</pre>
</div>

<p>
One can activate a theme with something like the following expression,
replacing <code>modus-operandi</code> with their preferred Modus theme:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(load-theme 'modus-operandi :no-confirm)
</pre>
</div>

<p>
Changes to the available customization options must always be evaluated
before loading a theme (<a href="#h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f">Customization Options</a>).  Reload a theme for
new changes to take effect.
</p>

<p>
This is how a basic setup could look like (<a href="#h:b66b128d-54a4-4265-b59f-4d1ea2feb073">The require-theme for built-in Emacs themes</a>):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;;; For the built-in themes which cannot use `require'.
(require-theme 'modus-themes)

;; Add all your customizations prior to loading the themes.
(setq modus-themes-italic-constructs t
      modus-themes-bold-constructs nil)

;; Load the theme of your choice.
(load-theme 'modus-operandi)

;; Optionally define a key to switch between Modus themes.  Also check
;; the user option `modus-themes-to-toggle'.
(define-key global-map (kbd "&lt;f5&gt;") #'modus-themes-toggle)



;;; For packaged versions which must use `require'.

(require 'modus-themes)

;; Add all your customizations prior to loading the themes
(setq modus-themes-italic-constructs t
      modus-themes-bold-constructs nil)

;; Load the theme of your choice.
(load-theme 'modus-operandi :no-confirm)

(define-key global-map (kbd "&lt;f5&gt;") #'modus-themes-toggle)
</pre>
</div>

<p>
<a href="#h:e979734c-a9e1-4373-9365-0f2cd36107b8">Sample configuration with and without use-package</a>.
</p>

<p>
To disable other themes before loading a Modus theme, use something
like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(mapc #'disable-theme custom-enabled-themes)
(load-theme 'modus-operandi :no-confirm)
</pre>
</div>

<p>
Instead of using the basic <code>load-theme</code> function, users can rely on
the <code>modus-themes-load-theme</code>.  It accepts a single argument, which is
a symbol representing the Modus theme of choice, such as:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(modus-themes-load-theme 'modus-operandi)
</pre>
</div>

<p>
The <code>modus-themes-load-theme</code> takes care to disable other themes, if
the user opts in (<a href="#h:adb0c49a-f1f9-4690-868b-013a080eed68">Option for disabling other themes while loading Modus</a>).
After loading the theme of choice, this function calls the
hook <code>modus-themes-after-load-theme-hook</code> (alias <code>modus-themes-post-load-hook</code>).
Users can add their own functions to this hook to make further
customizations (<a href="#h:f4651d55-8c07-46aa-b52b-bed1e53463bb">Advanced customization</a>).
</p>

<p>
The commands <code>modus-themes-toggle</code> and <code>modus-themes-select</code> use
<code>modus-themes-load-theme</code> internally (<a href="#h:4fbfed66-5a89-447a-a07d-a03f6819c5bd">Option for which themes to toggle</a>).
The aforementioned hold true for them as well.
</p>
</div>
<div id="outline-container-h:b66b128d-54a4-4265-b59f-4d1ea2feb073" class="outline-3">
<h3 id="h:b66b128d-54a4-4265-b59f-4d1ea2feb073"><span class="section-number-3">4.1.</span> The <code>require-theme</code> for built-in Emacs themes</h3>
<div class="outline-text-3" id="text-h:b66b128d-54a4-4265-b59f-4d1ea2feb073">
<p>
The version of the Modus themes that is included in Emacs CANNOT use
the standard <code>require</code>.  This is because the built-in themes are not
included in the <code>load-path</code> (not my decision).  The <code>require-theme</code>
function must be used in this case as a replacement.  For example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require-theme 'modus-themes)

;; All customizations here
(setq modus-themes-bold-constructs t
      modus-themes-italic-constructs t)

;; Maybe define some palette overrides, such as by using our presets
(setq modus-themes-common-palette-overrides
      modus-themes-preset-overrides-intense)

;; Load the theme of choice (built-in themes are always "safe" so they
;; do not need the `no-require' argument of `load-theme').
(load-theme 'modus-operandi)

(define-key global-map (kbd "&lt;f5&gt;") #'modus-themes-toggle)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e979734c-a9e1-4373-9365-0f2cd36107b8" class="outline-3">
<h3 id="h:e979734c-a9e1-4373-9365-0f2cd36107b8"><span class="section-number-3">4.2.</span> Sample configuration with and without use-package</h3>
<div class="outline-text-3" id="text-h:e979734c-a9e1-4373-9365-0f2cd36107b8">
<p>
What follows is a variant of what we demonstrate in the previous
section (<a href="#h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">Enable and load</a>).
</p>

<p>
It is common for Emacs users to rely on <code>use-package</code> for declaring
package configurations in their setup.  We use this as an example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;;; For the built-in themes which cannot use `require'.
(use-package emacs
  :config
  (require-theme 'modus-themes) ; `require-theme' is ONLY for the built-in Modus themes

  ;; Add all your customizations prior to loading the themes
  (setq modus-themes-italic-constructs t
        modus-themes-bold-constructs nil)

  ;; Maybe define some palette overrides, such as by using our presets
  (setq modus-themes-common-palette-overrides
        modus-themes-preset-overrides-intense)

  ;; Load the theme of your choice.
  (load-theme 'modus-operandi)

  (define-key global-map (kbd "&lt;f5&gt;") #'modus-themes-toggle))



;;; For packaged versions which must use `require'.
(use-package modus-themes
  :ensure t
  :config
  ;; Add all your customizations prior to loading the themes
  (setq modus-themes-italic-constructs t
        modus-themes-bold-constructs nil)

  ;; Maybe define some palette overrides, such as by using our presets
  (setq modus-themes-common-palette-overrides
        modus-themes-preset-overrides-intense)

  ;; Load the theme of your choice.
  (load-theme 'modus-operandi)

  (define-key global-map (kbd "&lt;f5&gt;") #'modus-themes-toggle))
</pre>
</div>

<p>
The same without <code>use-package</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'modus-themes) ; OR for the built-in themes: (require-theme 'modus-themes)

;; Add all your customizations prior to loading the themes
(setq modus-themes-italic-constructs t
      modus-themes-bold-constructs nil)

;; Maybe define some palette overrides, such as by using our presets
(setq modus-themes-common-palette-overrides
      modus-themes-preset-overrides-intense)

;; Load the theme of your choice:
(load-theme 'modus-operandi :no-confirm)

(define-key global-map (kbd "&lt;f5&gt;") #'modus-themes-toggle)
</pre>
</div>

<p>
<a href="#h:e68560b3-7fb0-42bc-a151-e015948f8a35">Differences between loading and enabling</a>.
</p>

<p>
Note: make sure not to customize the variable <code>custom-theme-load-path</code>
or <code>custom-theme-directory</code> after the themes&rsquo; package declaration.  That
will lead to failures in loading the files.  If either or both of those
variables need to be changed, their values should be defined before the
package declaration of the themes.
</p>
</div>
</div>
<div id="outline-container-h:e68560b3-7fb0-42bc-a151-e015948f8a35" class="outline-3">
<h3 id="h:e68560b3-7fb0-42bc-a151-e015948f8a35"><span class="section-number-3">4.3.</span> Differences between loading and enabling</h3>
<div class="outline-text-3" id="text-h:e68560b3-7fb0-42bc-a151-e015948f8a35">
<p>
The reason we recommend <code>load-theme</code> instead of the other option of
<code>enable-theme</code> is that the former does a kind of &ldquo;reset&rdquo; on the face
specs.  It quite literally loads (or reloads) the theme.  Whereas the
<code>enable-theme</code> function simply puts an already loaded theme to the top
of the list of enabled items, reusing whatever state was last loaded.
</p>

<p>
As such, <code>load-theme</code> reads all customizations that may happen during
any given Emacs session: even after the initial setup of a theme.
Examples are calls to <code>custom-set-faces</code>, as well as new values assigned
to the options the Modus themes provide (<a href="#h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f">Customization Options</a>).
</p>

<p>
Our tests show that <code>enable-theme</code> does not read such variables anew, so
it might appear to the unsuspecting user that the themes are somehow
broken whenever they try to assign a new value to a customization option
or some face.
</p>

<p>
This &ldquo;reset&rdquo; that <code>load-theme</code> brings about does, however, come at the
cost of being somewhat slower than <code>enable-theme</code>.  Users who have a
stable setup and who seldom update their variables during a given Emacs
session, are better off using something like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'modus-themes)

;; Activate your desired themes here
(load-theme 'modus-operandi t t)
(load-theme 'modus-vivendi t t)

;; Enable the preferred one
(enable-theme 'modus-operandi)
</pre>
</div>

<p>
<a href="#h:b40aca50-a3b2-4c43-be58-2c26fcd14237">Toggle themes without reloading them</a>.
</p>

<p>
<a href="#h:e979734c-a9e1-4373-9365-0f2cd36107b8">Sample configuration with and without use-package</a>.
</p>

<p>
With the above granted, other sections of the manual discuss how to
configure custom faces, where <code>load-theme</code> is expected, though
<code>enable-theme</code> could still apply in stable setups:
</p>

<p>
<a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with modus-themes-with-colors</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f" class="outline-2">
<h2 id="h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f"><span class="section-number-2">5.</span> Customization options</h2>
<div class="outline-text-2" id="text-h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f">
<p>
The Modus themes are highly configurable, though they should work well
without any further tweaks.  We provide a variety of user options.
The following code block provides an overview.  In addition to those
variables, the themes support a comprehensive system of overrides: it
can be used to make thoroughgoing changes to the looks of the themes
(<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>).  We document everything at length in
the pages of this manual and also provide ready-to-use code samples.
</p>

<p>
Remember that all customization options must be evaluated before loading
a theme (<a href="#h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">Enable and load</a>).  If the theme is already active, it must be
reloaded for changes to take effect.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; In all of the following, WEIGHT is a symbol such as `semibold',
;; `light', `bold', or anything mentioned in `modus-themes-weights'.
(setq modus-themes-italic-constructs t
      modus-themes-bold-constructs nil
      modus-themes-mixed-fonts t
      modus-themes-variable-pitch-ui nil
      modus-themes-custom-auto-reload t
      modus-themes-disable-other-themes t

      ;; Options for `modus-themes-prompts' are either nil (the
      ;; default), or a list of properties that may include any of those
      ;; symbols: `italic', `WEIGHT'
      modus-themes-prompts '(italic bold)

      ;; The `modus-themes-completions' is an alist that reads two
      ;; keys: `matches', `selection'.  Each accepts a nil value (or
      ;; empty list) or a list of properties that can include any of
      ;; the following (for WEIGHT read further below):
      ;;
      ;; `matches'   :: `underline', `italic', `WEIGHT'
      ;; `selection' :: `underline', `italic', `WEIGHT'
      modus-themes-completions
      '((matches . (extrabold))
        (selection . (semibold italic text-also)))

      modus-themes-org-blocks 'gray-background ; {nil,'gray-background,'tinted-background}

      ;; The `modus-themes-headings' is an alist: read the manual's
      ;; node about it or its doc string.  Basically, it supports
      ;; per-level configurations for the optional use of
      ;; `variable-pitch' typography, a height value as a multiple of
      ;; the base font size (e.g. 1.5), and a `WEIGHT'.
      modus-themes-headings
      '((1 . (variable-pitch 1.5))
        (2 . (1.3))
        (agenda-date . (1.3))
        (agenda-structure . (variable-pitch light 1.8))
        (t . (1.1))))

;; Remember that more (MUCH MORE) can be done with overrides, which we
;; document extensively in this manual.
</pre>
</div>
</div>
<div id="outline-container-h:9001527a-4e2c-43e0-98e8-3ef72d770639" class="outline-3">
<h3 id="h:9001527a-4e2c-43e0-98e8-3ef72d770639"><span class="section-number-3">5.1.</span> Option for reloading the theme on custom change</h3>
<div class="outline-text-3" id="text-h:9001527a-4e2c-43e0-98e8-3ef72d770639">
<p>
Brief: Toggle reloading of the active theme when an option is changed
through the Custom UI.
</p>

<p>
Symbol: <code>modus-themes-custom-auto-reload</code> (<code>boolean</code> type)
</p>

<p>
Possible values:
</p>

<ol class="org-ol">
<li><code>nil</code></li>
<li><code>t</code> (default)</li>
</ol>

<p>
All theme user options take effect when a theme is loaded.  Any
subsequent changes require the theme to be reloaded.
</p>

<p>
When this variable has a non-<code>nil</code> value, any change made via the Custom
UI or related functions such as <code>customize-set-variable</code> and <code>setopt</code>
(Emacs 29), will trigger a reload automatically.
</p>

<p>
With a <code>nil</code> value, changes to user options have no further consequences:
the user must manually reload the theme (<a href="#h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">Enable and load</a>).
</p>
</div>
</div>
<div id="outline-container-h:adb0c49a-f1f9-4690-868b-013a080eed68" class="outline-3">
<h3 id="h:adb0c49a-f1f9-4690-868b-013a080eed68"><span class="section-number-3">5.2.</span> Option for disabling other themes while loading Modus</h3>
<div class="outline-text-3" id="text-h:adb0c49a-f1f9-4690-868b-013a080eed68">
<p>
Brief: Disable all other themes when loading a Modus theme.
</p>

<p>
Symbol: <code>modus-themes-disable-other-themes</code> (<code>boolean</code> type)
</p>

<p>
Possible values:
</p>

<ol class="org-ol">
<li><code>nil</code></li>
<li><code>t</code> (default)</li>
</ol>

<p>
When the value is non-<code>nil</code>, the commands <code>modus-themes-toggle</code> and
<code>modus-themes-select</code>, as well as the <code>modus-themes-load-theme</code>
function, will disable all other themes while loading the specified
Modus theme (<a href="#h:4fbfed66-5a89-447a-a07d-a03f6819c5bd">Option for which themes to toggle</a>).  This is done to
ensure that Emacs does not blend two or more themes: such blends lead
to awkward results that undermine the work of the designer.
</p>

<p>
When the value is <code>nil</code>, the aforementioned commands and function will
only disable other themes within the Modus collection.
</p>

<p>
This option is provided because Emacs themes are not necessarily
limited to colors/faces: they can consist of an arbitrary set of
customizations.  Users who use such customization bundles must set
this variable to a <code>nil</code> value.
</p>
</div>
</div>
<div id="outline-container-h:b25714f6-0fbe-41f6-89b5-6912d304091e" class="outline-3">
<h3 id="h:b25714f6-0fbe-41f6-89b5-6912d304091e"><span class="section-number-3">5.3.</span> Option for more bold constructs</h3>
<div class="outline-text-3" id="text-h:b25714f6-0fbe-41f6-89b5-6912d304091e">
<p>
Brief: Use bold for code syntax highlighting and related.
</p>

<p>
Symbol: <code>modus-themes-bold-constructs</code> (<code>boolean</code> type)
</p>

<p>
Possible values:
</p>

<ol class="org-ol">
<li><code>nil</code> (default)</li>
<li><code>t</code></li>
</ol>

<p>
The default is to use a bold typographic weight only when it is
required.
</p>

<p>
With a non-<code>nil</code> value (<code>t</code>) display several syntactic constructs in
bold weight.  This concerns keywords and other important aspects of
code syntax.  It also affects certain mode line indicators and command
prompts.
</p>

<p>
Advanced users may also want to configure the exact attributes of the
<code>bold</code> face.
</p>

<p>
<a href="#h:2793a224-2109-4f61-a106-721c57c01375">Configure bold and italic faces</a>.
</p>
</div>
</div>
<div id="outline-container-h:977c900d-0d6d-4dbb-82d9-c2aae69543d6" class="outline-3">
<h3 id="h:977c900d-0d6d-4dbb-82d9-c2aae69543d6"><span class="section-number-3">5.4.</span> Option for more italic constructs</h3>
<div class="outline-text-3" id="text-h:977c900d-0d6d-4dbb-82d9-c2aae69543d6">
<p>
Brief: Use italics for code syntax highlighting and related.
</p>

<p>
Symbol: <code>modus-themes-italic-constructs</code> (<code>boolean</code> type)
</p>

<p>
Possible values:
</p>

<ol class="org-ol">
<li><code>nil</code> (default)</li>
<li><code>t</code></li>
</ol>

<p>
The default is to not use slanted text forms (italics) unless it is
absolutely necessary.
</p>

<p>
With a non-<code>nil</code> value (<code>t</code>) choose to render more faces in italics.  This
typically affects documentation strings and code comments.
</p>

<p>
Advanced users may also want to configure the exact attributes of the
<code>italic</code> face.
</p>

<p>
<a href="#h:2793a224-2109-4f61-a106-721c57c01375">Configure bold and italic faces</a>.
</p>
</div>
</div>
<div id="outline-container-h:4fbfed66-5a89-447a-a07d-a03f6819c5bd" class="outline-3">
<h3 id="h:4fbfed66-5a89-447a-a07d-a03f6819c5bd"><span class="section-number-3">5.5.</span> Option for which themes to toggle</h3>
<div class="outline-text-3" id="text-h:4fbfed66-5a89-447a-a07d-a03f6819c5bd">
<p>
Brief: Specify which two themes to toggle between when using the command
<code>modus-themes-toggle</code>.
</p>

<p>
Symbol: <code>modus-themes-to-toggle</code> (<code>list</code> type)
</p>

<p>
Default value: <code>'(modus-operandi modus-vivendi)</code>
</p>

<p>
Possible values:
</p>

<ul class="org-ul">
<li><code>modus-operandi</code></li>
<li><code>modus-operandi-tinted</code></li>
<li><code>modus-operandi-deuteranopia</code></li>
<li><code>modus-operandi-tritanopia</code></li>
<li><code>modus-vivendi</code></li>
<li><code>modus-vivendi-tinted</code></li>
<li><code>modus-vivendi-deuteranopia</code></li>
<li><code>modus-vivendi-tritanopia</code></li>
</ul>
</div>
</div>
<div id="outline-container-h:a10c0202-3683-4fad-9897-433c25e255f6" class="outline-3">
<h3 id="h:a10c0202-3683-4fad-9897-433c25e255f6"><span class="section-number-3">5.6.</span> Option for which themes to rotate</h3>
<div class="outline-text-3" id="text-h:a10c0202-3683-4fad-9897-433c25e255f6">
<p>
Brief: Specify which themes to rotate among when using the command
<code>modus-themes-rotate</code>.
</p>

<p>
Symbol: <code>modus-themes-to-rotate</code> (<code>list</code> type)
</p>

<p>
Default value: <code>modus-themes-items</code> (which includes all the Modus themes)
</p>

<p>
Possible values:
</p>

<ul class="org-ul">
<li><code>modus-operandi</code></li>
<li><code>modus-operandi-tinted</code></li>
<li><code>modus-operandi-deuteranopia</code></li>
<li><code>modus-operandi-tritanopia</code></li>
<li><code>modus-vivendi</code></li>
<li><code>modus-vivendi-tinted</code></li>
<li><code>modus-vivendi-deuteranopia</code></li>
<li><code>modus-vivendi-tritanopia</code></li>
</ul>
</div>
</div>
<div id="outline-container-h:115e6c23-ee35-4a16-8cef-e2fcbb08e28b" class="outline-3">
<h3 id="h:115e6c23-ee35-4a16-8cef-e2fcbb08e28b"><span class="section-number-3">5.7.</span> Option for font mixing</h3>
<div class="outline-text-3" id="text-h:115e6c23-ee35-4a16-8cef-e2fcbb08e28b">
<p>
Brief: Toggle the use of monospaced fonts for spacing-sensitive
constructs (affects font families).
</p>

<p>
Symbol: <code>modus-themes-mixed-fonts</code> (<code>boolean</code> type)
</p>

<p>
Possible values:
</p>

<ol class="org-ol">
<li><code>nil</code> (default)</li>
<li><code>t</code></li>
</ol>

<p>
When set to non-<code>nil</code> (<code>t</code>), configure some spacing-sensitive faces like Org
tables and code blocks to always inherit from the <code>fixed-pitch</code> face.
This is to ensure that certain constructs like code blocks and tables
remain monospaced even when users opt for a mode that remaps typeface
families, such as the built-in M-x variable-pitch-mode.  Otherwise
the layout can appear broken, due to how spacing is done.
</p>

<p>
For a consistent experience, user may need to specify the font family of
the <code>fixed-pitch</code> face.
</p>

<p>
<a href="#h:defcf4fc-8fa8-4c29-b12e-7119582cc929">Font configurations for Org and others</a>.
</p>
</div>
</div>
<div id="outline-container-h:db5a9a7c-2928-4a28-b0f0-6f2b9bd52ba1" class="outline-3">
<h3 id="h:db5a9a7c-2928-4a28-b0f0-6f2b9bd52ba1"><span class="section-number-3">5.8.</span> Option for command prompt styles</h3>
<div class="outline-text-3" id="text-h:db5a9a7c-2928-4a28-b0f0-6f2b9bd52ba1">
<p>
Brief: Control the style of command prompts (e.g. minibuffer, shell, IRC
clients).
</p>

<p>
Symbol: <code>modus-themes-prompts</code> (<code>choice</code> type, list of properties)
</p>

<p>
Possible values are expressed as a list of properties (default is <code>nil</code> or
an empty list).  The list can include any of the following symbols:
</p>

<ul class="org-ul">
<li><code>italic</code></li>
<li><code>italic</code></li>
<li>A font weight, which must be supported by the underlying typeface:
<ul class="org-ul">
<li><code>thin</code></li>
<li><code>ultralight</code></li>
<li><code>extralight</code></li>
<li><code>light</code></li>
<li><code>semilight</code></li>
<li><code>regular</code></li>
<li><code>medium</code></li>
<li><code>semibold</code></li>
<li><code>bold</code></li>
<li><code>heavy</code></li>
<li><code>extrabold</code></li>
<li><code>ultrabold</code></li>
</ul></li>
</ul>

<p>
The default (a <code>nil</code> value or an empty list) means to only use a subtle
colored foreground color.
</p>

<p>
The <code>italic</code> property adds a slant to the font&rsquo;s forms (italic or
oblique forms, depending on the typeface).
</p>

<p>
The symbol of a font weight attribute such as <code>light</code>, <code>semibold</code>, et
cetera, adds the given weight to links.  Valid symbols are defined in
the variable <code>modus-themes-weights</code>.  The absence of a weight means
that the one of the underlying text will be used.
</p>

<p>
Combinations of any of those properties are expressed as a list, like in
these examples:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(bold italic)
(italic semibold)
</pre>
</div>

<p>
The order in which the properties are set is not significant.
</p>

<p>
In user configuration files the form may look like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-themes-prompts '(extrabold italic))
</pre>
</div>

<p>
<a href="#h:bd75b43a-0bf1-45e7-b8b4-20944ca8b7f8">Make prompts more or less colorful</a>.
</p>
</div>
</div>
<div id="outline-container-h:f1c20c02-7b34-4c35-9c65-99170efb2882" class="outline-3">
<h3 id="h:f1c20c02-7b34-4c35-9c65-99170efb2882"><span class="section-number-3">5.9.</span> Option for completion framework aesthetics</h3>
<div class="outline-text-3" id="text-h:f1c20c02-7b34-4c35-9c65-99170efb2882">
<p>
Brief: Set the overall style of completion framework interfaces.
</p>

<p>
Symbol: <code>modus-themes-completions</code> (<code>alist</code> type properties)
</p>

<p>
This affects Company, Corfu, Flx, Icomplete/Fido, Ido, Ivy, Orderless,
Vertico, and the standard <code>*Completions*</code> buffer.  The value is an
alist of expressions, each of which takes the form of <code>(KEY . LIST-OF-PROPERTIES)</code>.
<code>KEY</code> is a symbol, while <code>PROPERTIES</code> is a list.  Here is a sample,
followed by a description of the particularities:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-themes-completions
      '((matches . (extrabold underline))
        (selection . (semibold italic))))
</pre>
</div>

<p>
The <code>matches</code> key refers to the highlighted characters that correspond
to the user&rsquo;s input.  When its properties are <code>nil</code> or an empty list,
matching characters in the user interface will have a bold weight and
a colored foreground.  The list of properties may include any of the
following symbols regardless of the order they may appear in:
</p>

<ul class="org-ul">
<li><code>underline</code> to draw a line below the characters;</li>

<li><code>italic</code> to use a slanted font (italic or oblique forms);</li>

<li>The symbol of a font weight attribute such as <code>light</code>,
<code>semibold</code>, et cetera.  Valid symbols are defined in the
variable <code>modus-themes-weights</code>.  The absence of a weight means
that bold will be used.</li>
</ul>

<p>
The <code>selection</code> key applies to the current line or currently matched
candidate, depending on the specifics of the user interface.  When its
properties are <code>nil</code> or an empty list, it has a subtle gray background,
a bold weight, and the base foreground value for the text.  The list
of properties it accepts is as follows (order is not significant):
</p>

<ul class="org-ul">
<li><code>underline</code> to draw a line below the characters;</li>

<li><code>italic</code> to use a slanted font (italic or oblique forms);</li>

<li>The symbol of a font weight attribute such as <code>light</code>,
<code>semibold</code>, et cetera.  Valid symbols are defined in the
variable <code>modus-themes-weights</code>.  The absence of a weight means
that bold will be used.</li>
</ul>

<p>
Apart from specifying each key separately, a catch-all list is
accepted.  This is only useful when the desired aesthetic is the same
across all keys that are not explicitly referenced.  For example,
this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-themes-completions
      '((t . (extrabold underline))))
</pre>
</div>

<p>
Is the same as:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-themes-completions
      '((matches . (extrabold underline))
        (selection . (extrabold underline))))
</pre>
</div>

<p>
<a href="#h:d959f789-0517-4636-8780-18123f936f91">Make completion matches more or less colorful</a>.
</p>
</div>
</div>
<div id="outline-container-h:b7e328c0-3034-4db7-9cdf-d5ba12081ca2" class="outline-3">
<h3 id="h:b7e328c0-3034-4db7-9cdf-d5ba12081ca2"><span class="section-number-3">5.10.</span> Option for org-mode block styles</h3>
<div class="outline-text-3" id="text-h:b7e328c0-3034-4db7-9cdf-d5ba12081ca2">
<p>
As part of version <code>4.4.0</code>, the <code>modus-themes-org-blocks</code> is no more.
Users can apply palette overrides to set a style that fits their
preference (purple, blue, yellow, green, etc.). It is more flexible
and more powerful (<a href="#h:f44cc6e3-b0f1-4a5e-8a90-9e48fa557b50">DIY Make Org block colors more or less colorful</a>)
</p>

<p>
For the option to change the background of Org source blocks, we
provide the relevant setup (<a href="#h:8c842804-43b7-4287-b4e9-8c07d04d1f89">DIY Use colored Org source blocks per language</a>).
</p>
</div>
</div>
<div id="outline-container-h:271eff19-97aa-4090-9415-a6463c2f9ae1" class="outline-3">
<h3 id="h:271eff19-97aa-4090-9415-a6463c2f9ae1"><span class="section-number-3">5.11.</span> Option for the headings&rsquo; overall style</h3>
<div class="outline-text-3" id="text-h:271eff19-97aa-4090-9415-a6463c2f9ae1">
<p>
Brief: Heading styles with optional list of values per heading level.
</p>

<p>
Symbol: <code>modus-themes-headings</code> (<code>alist</code> type, multiple properties)
</p>

<p>
This is an alist that accepts a <code>(KEY . LIST-OF-VALUES)</code> combination.
The <code>KEY</code> is either a number, representing the heading&rsquo;s level (0
through 8) or <code>t</code>, which pertains to the fallback style.  The named
keys <code>agenda-date</code> and <code>agenda-structure</code> apply to the Org agenda.
</p>

<p>
Level 0 is a special heading: it is used for what counts as a document
title or equivalent, such as the <code>#+title</code> construct we find in Org
files.  Levels 1-8 are regular headings.
</p>

<p>
The <code>LIST-OF-VALUES</code> covers symbols that refer to properties, as
described below.  Here is a complete sample with various stylistic
combinations, followed by a presentation of all available properties:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-themes-headings
      '((1 . (variable-pitch 1.5))
        (2 . (1.3))
        (agenda-date . (1.3))
        (agenda-structure . (variable-pitch light 1.8))
        (t . (1.1))))
</pre>
</div>

<p>
Properties:
</p>

<ul class="org-ul">
<li>A font weight, which must be supported by the underlying typeface:
<ul class="org-ul">
<li><code>thin</code></li>
<li><code>ultralight</code></li>
<li><code>extralight</code></li>
<li><code>light</code></li>
<li><code>semilight</code></li>
<li><code>regular</code></li>
<li><code>medium</code></li>
<li><code>semibold</code></li>
<li><code>bold</code> (default)</li>
<li><code>heavy</code></li>
<li><code>extrabold</code></li>
<li><code>ultrabold</code></li>
</ul></li>
<li>A floating point as a height multiple of the default or a cons cell in
the form of <code>(height . FLOAT)</code>.</li>
</ul>

<p>
By default (a <code>nil</code> value for this variable), all headings have a bold
typographic weight and use a desaturated text color.
</p>

<p>
A <code>variable-pitch</code> property changes the font family of the heading to that
of the <code>variable-pitch</code> face (normally a proportionately spaced typeface).
</p>

<p>
The symbol of a weight attribute adjusts the font of the heading
accordingly, such as <code>light</code>, <code>semibold</code>, etc.  Valid symbols are
defined in the variable <code>modus-themes-weights</code>.  The absence of a weight
means that bold will be used by virtue of inheriting the <code>bold</code> face.
</p>

<p>
<a href="#h:2793a224-2109-4f61-a106-721c57c01375">Configure bold and italic faces</a>.
</p>

<p>
A number, expressed as a floating point (e.g. 1.5), adjusts the height
of the heading to that many times the base font size.  The default
height is the same as 1.0, though it need not be explicitly stated.
Instead of a floating point, an acceptable value can be in the form of a
cons cell like <code>(height . FLOAT)</code> or <code>(height FLOAT)</code>, where FLOAT is
the given number.
</p>

<p>
Combinations of any of those properties are expressed as a list, like in
these examples:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(semibold)
(variable-pitch semibold 1.3)
(variable-pitch semibold (height 1.3)) ; same as above
(variable-pitch semibold (height . 1.3)) ; same as above
</pre>
</div>

<p>
The order in which the properties are set is not significant.
</p>

<p>
In user configuration files the form may look like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-themes-headings
      '((1 . (variable-pitch 1.5))
        (2 . (1.3))
        (agenda-date . (1.3))
        (agenda-structure . (variable-pitch light 1.8))
        (t . (1.1))))
</pre>
</div>

<p>
When defining the styles per heading level, it is possible to pass a
non-<code>nil</code> value (<code>t</code>) instead of a list of properties.  This will retain the
original aesthetic for that level.  For example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-themes-headings
      '((1 . t)           ; keep the default style
        (2 . (semibold 1.2))
        (t . (rainbow)))) ; style for all other headings

(setq modus-themes-headings
      '((1 . (variable-pitch 1.5))
        (2 . (semibold))
        (t . t))) ; default style for all other levels
</pre>
</div>

<p>
Note that the text color of headings, of their background, and
overline can all be set via the overrides.  It is possible to have any
color combination for any heading level (something that could not be
done in older versions of the themes).
</p>

<p>
<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>.
</p>

<p>
<a href="#h:11297984-85ea-4678-abe9-a73aeab4676a">Make headings more or less colorful</a>.
</p>
</div>
</div>
<div id="outline-container-h:16cf666c-5e65-424c-a855-7ea8a4a1fcac" class="outline-3">
<h3 id="h:16cf666c-5e65-424c-a855-7ea8a4a1fcac"><span class="section-number-3">5.12.</span> Option for variable-pitch font in UI elements</h3>
<div class="outline-text-3" id="text-h:16cf666c-5e65-424c-a855-7ea8a4a1fcac">
<p>
Brief: Toggle the use of proportionately spaced (<code>variable-pitch</code>) fonts
in the User Interface.
</p>

<p>
Symbol: <code>modus-themes-variable-pitch-ui</code> (<code>boolean</code> type)
</p>

<p>
Possible values:
</p>

<ol class="org-ol">
<li><code>nil</code> (default)</li>
<li><code>t</code></li>
</ol>

<p>
This option concerns User Interface elements that are under the direct
control of Emacs.  In particular: the mode line, header line, tab bar,
and tab line.
</p>

<p>
The default is to use the same font as the rest of Emacs, which usually
is a monospaced family.
</p>

<p>
With a non-<code>nil</code> value (<code>t</code>) apply a proportionately spaced typeface.  This
is done by assigning the <code>variable-pitch</code> face to the relevant items.
</p>

<p>
<a href="#h:defcf4fc-8fa8-4c29-b12e-7119582cc929">Font configurations for Org and others</a>.
</p>
</div>
</div>
<div id="outline-container-h:34c7a691-19bb-4037-8d2f-67a07edab150" class="outline-3">
<h3 id="h:34c7a691-19bb-4037-8d2f-67a07edab150"><span class="section-number-3">5.13.</span> Option for palette overrides</h3>
<div class="outline-text-3" id="text-h:34c7a691-19bb-4037-8d2f-67a07edab150">
<p>
This section describes palette overrides in detail.  For a simpler
alternative, use the presets we provide (<a href="#h:b0bc811c-227e-42ec-bf67-15e1f41eb7bc">Palette override presets</a>).
</p>

<p>
Each Modus theme specifies a color palette that declares named color
values and semantic color mappings:
</p>

<ul class="org-ul">
<li>Named colors consist of a symbol and a string that specifies a
hexadecimal RGB value.  For example: <code>(blue-warmer "#354fcf")</code>.</li>

<li>The semantic color mappings associate an abstract construct with a
given named color from the palette, like <code>(heading-2 yellow-faint)</code>.
Both elements of the list are symbols, though the <code>cadr</code> (value) can
be a string that specifies a color, such as <code>(heading-2 "#354fcf")</code>.</li>
</ul>

<p>
Both of those subsets can be overridden, thus refashioning the theme.
Overrides are either shared, by being stored in the user option
<code>modus-themes-common-palette-overrides</code>, or they are specific to the
theme they name.  In the latter case, the naming scheme of each
palette variable is <code>THEME-NAME-palette-overrides</code>, thus yielding:
</p>

<ul class="org-ul">
<li><code>modus-operandi-palette-overrides</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-operandi-deuteranopia-palette-overrides</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-operandi-tinted-palette-overrides</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-operandi-tritanopia-palette-overrides</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-vivendi-palette-overrides</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-vivendi-deuteranopia-palette-overrides</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-vivendi-tinted-palette-overrides</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-vivendi-tritanopia-palette-overrides</code></li>
</ul>

<p>
Theme-specific overrides take precedence over the shared ones.  It is
strongly advised that shared overrides do NOT alter color values, as
those will not be appropriate for both dark and light themes.  Common
overrides are best limited to the semantic color mappings as those use
the color value that corresponds to the active theme (e.g. make the
cursor <code>blue-warmer</code> in all themes, whatever the value of
<code>blue-warmer</code> is in each theme).
</p>

<p>
The value of any overrides&rsquo; variable must mirror a theme&rsquo;s palette.
Palette variables are named after their theme as <code>THEME-NAME-palette</code>.
For example, the <code>modus-operandi-palette</code> is like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defconst modus-operandi-palette
    '(
;;; Basic values

      (bg-main     "#ffffff")
      (bg-dim      "#f0f0f0")
      (fg-main     "#000000")

      ;; ...

      (red         "#a60000")
      (red-warmer  "#972500")
      (red-cooler  "#a0132f")
      (red-faint   "#7f0000")
      (red-intense "#d00000")

      ;; ...

;;;; Mappings

      ;; ...

      (cursor fg-main)
      (builtin magenta-warmer)
      (comment fg-dim)
      (constant blue-cooler)
      (docstring green-faint)
      (fnname magenta)
      (keyword magenta-cooler)

      ;; ...
      ))
</pre>
</div>

<p>
The <code>modus-operandi-palette-overrides</code> targets the entries that need
to be changed.  For example, to make the main foreground color a dark
gray instead of pure black, use a shade of red for comments, and apply
a cyan hue to keywords:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-operandi-palette-overrides
      '((fg-main "#333333")
        (comment red-faint)
        (keyword cyan-cooler)))
</pre>
</div>

<p>
Changes take effect upon theme reload (<a href="#h:9001527a-4e2c-43e0-98e8-3ef72d770639">Custom reload theme</a>).
Overrides are removed by setting their variable to a <code>nil</code> value.
</p>

<p>
The common accented foregrounds in each palette follow a predictable
naming scheme: <code>HUE{,-warmer,-cooler,-faint,-intense}</code>.  <code>HUE</code> is one
of the six basic colors: red, green, blue, yellow, magenta, cyan.
</p>

<p>
Named colors that are meant to be used as backgrounds contain <code>bg</code> in
their name, such as <code>bg-red-intense</code>.  While special purpose
foregrounds that are meant to be combined with such backgrounds,
contain <code>fg</code> in their name, such as <code>fg-removed</code> which complements
<code>bg-removed</code>.
</p>

<p>
Named colors can be previewed, such as with the command
<code>modus-themes-list-colors</code> (<a href="#h:f4d4b71b-2ca5-4c3d-b0b4-9bfd7aa7fb4d">Preview theme colors</a>).
</p>

<p>
For a video tutorial that users of all skill levels can approach,
watch: <a href="https://protesilaos.com/codelog/2022-12-17-modus-themes-v4-demo/">https://protesilaos.com/codelog/2022-12-17-modus-themes-v4-demo/</a>.
</p>
</div>
</div>
<div id="outline-container-h:287fb971-a866-4d88-9993-56e902dd63c4" class="outline-3">
<h3 id="h:287fb971-a866-4d88-9993-56e902dd63c4"><span class="section-number-3">5.14.</span> Option to extend the palette</h3>
<div class="outline-text-3" id="text-h:287fb971-a866-4d88-9993-56e902dd63c4">
<p>
It is possible to extend the palette of each theme. For example, the
user may define their own <code>cherry</code> color with a value of <code>#a0134f</code> and
then apply it as an override (<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>). Those
colors may also be used in custom code that leverages either the
<code>modus-themes-with-colors</code> macro or the function
<code>modus-themes-get-color-value</code>.
</p>

<p>
The palette extension can be done in the form of a common set of
definitions that are shared among the themes or on a per-theme basis.
</p>

<p>
The common values are stored in the user option <code>modus-themes-common-palette-user</code>.
As for per-theme variables, we have the following user options:
</p>

<ul class="org-ul">
<li><code>modus-operandi-palette-user</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-operandi-tinted-palette-user</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-operandi-deuteranopia-palette-user</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-operandi-tritanopia-palette-user</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-vivendi-palette-user</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-vivendi-tinted-palette-user</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-vivendi-deuteranopia-palette-user</code></li>
</ul>

<ul class="org-ul">
<li><code>modus-vivendi-tritanopia-palette-user</code></li>
</ul>

<p>
Examples demonstrating how to use the aforementioned:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;;; Common customizations

;; Define two new colors in the common "user" palette of all the Modus themes.
(setq modus-themes-common-palette-user
      '((cherry "#a0134f")
        (plum "#6f459a")))

;; Use them in the overrides.
(setq modus-themes-common-palette-overrides
      '((cursor cherry)
        (string plum)))

;;; Per-theme customizations

;; Define two new colors in the "user" palette of `modus-operandi'.
;; Other themes will not use these.
(setq modus-operandi-palette-user
      '((cherry "#a0134f")
        (plum "#6f459a")))

;; Use them in the overrides.
(setq modus-operandi-palette-overrides
      '((cursor cherry)
        (string plum)))


;; Tweaks on a per-theme basis give the user maximum flexibility. For
;; example, they can have the above for `modus-operandi' while they use
;; these for `modus-vivendi':
(setq modus-vivendi-palette-user
      '((apricot "#dfb350")
        (kiwi "#80d458")))

(setq modus-vivendi-palette-overrides
      '((cursor apricot)
        (string kiwi)))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:f4d4b71b-2ca5-4c3d-b0b4-9bfd7aa7fb4d" class="outline-2">
<h2 id="h:f4d4b71b-2ca5-4c3d-b0b4-9bfd7aa7fb4d"><span class="section-number-2">6.</span> Preview theme colors</h2>
<div class="outline-text-2" id="text-h:f4d4b71b-2ca5-4c3d-b0b4-9bfd7aa7fb4d">
<p>
The command <code>modus-themes-list-colors</code> uses minibuffer completion to
select an item from the Modus themes and then produces a buffer with
previews of all of its color palette entries.
</p>

<p>
The command <code>modus-themes-list-colors-current</code> skips the minibuffer
selection process to produce a preview for the current Modus theme.
</p>

<p>
When called with a prefix argument (<code>C-u</code> with the default key
bindings), these commands will show a preview of the palette&rsquo;s
semantic color mappings instead of the full palette (<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>).
</p>

<p>
Aliases for these commands are <code>modus-themes-preview-colors</code> and
<code>modus-themes-preview-colors-current</code>.
</p>

<p>
Each row includes a foreground and background rendition of the given
color value. For example a line with <code>#a60000</code> (a shade of red) will
show a column with a red background combined with a suitable
foreground followed by another column with a red foreground against
the current theme&rsquo;s background. The intent is to illustrate which
values are suitable as a background or foreground.
</p>

<p>
The name of the buffer describes the given Modus theme and what the
contents are, such as <code>*modus-operandi-list-all*</code> for the entirety of
the palette (named colors as well as semantic color mappings) and
<code>=*modus-operandi-list-mappings*</code> for the mappings only.
</p>
</div>
</div>
<div id="outline-container-h:33460ae8-984b-40fd-8baa-383cc5fc2698" class="outline-2">
<h2 id="h:33460ae8-984b-40fd-8baa-383cc5fc2698"><span class="section-number-2">7.</span> Use colors from the Modus themes palette</h2>
<div class="outline-text-2" id="text-h:33460ae8-984b-40fd-8baa-383cc5fc2698">
<p>
The Modus themes provide the means to access the palette of (i) the
active theme or (ii) any theme in the Modus collection. These are
useful for Do-It-Yourself customizations (<a href="#h:f4651d55-8c07-46aa-b52b-bed1e53463bb">Advanced customization</a>),
though it can also be helpful in other cases, such as to reuse a color
value in some other application.
</p>

<dl class="org-dl">
<dt>Function</dt><dd><a href="#h:1cc552c1-5f5f-4a56-ae78-7b69e8512c4e">Get a single color from the palette with <code>modus-themes-get-color-value</code></a></dd>
<dt>Macro</dt><dd><a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with <code>modus-themes-with-colors</code></a>.</dd>
</dl>
</div>
<div id="outline-container-h:1cc552c1-5f5f-4a56-ae78-7b69e8512c4e" class="outline-3">
<h3 id="h:1cc552c1-5f5f-4a56-ae78-7b69e8512c4e"><span class="section-number-3">7.1.</span> Get a single color from the palette with <code>modus-themes-get-color-value</code></h3>
<div class="outline-text-3" id="text-h:1cc552c1-5f5f-4a56-ae78-7b69e8512c4e">
<p>
The fuction <code>modus-themes-get-color-value</code> can be called from Lisp to
return the value of a color from the active Modus theme palette. It
takea a <code>COLOR</code> argument and an optional <code>OVERRIDES</code>. It also accepts
a third <code>THEME</code> argument, to get the color from the given theme.
</p>

<p>
<code>COLOR</code> is a symbol that represents a named color entry in the
palette (<a href="#h:f4d4b71b-2ca5-4c3d-b0b4-9bfd7aa7fb4d">Preview theme colors</a>).
</p>

<p>
If the value is the name of another color entry in the palette (so a
mapping), this function recurs until it finds the underlying color
value.
</p>

<p>
With an optional <code>OVERRIDES</code> argument as a non-<code>nil</code> value, it
accounts for palette overrides. Else it reads only the default palette
(<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>)
</p>

<p>
With an optional <code>THEME</code> as a symbol among the <code>modus-themes-items</code>
(alias <code>modus-themes-collection</code>), it uses the palette of that theme.
Else it uses the current Modus theme.
</p>

<p>
If <code>COLOR</code> is not present in the palette, this function returns the
<code>unspecified</code> symbol, which is safe when used as a face attribute&rsquo;s
value.
</p>

<p>
An example with <code>modus-operandi</code> to show how this function behaves
with/without overrides and when recursive mappings are introduced.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Here we show the recursion of palette mappings.  In general, it is
;; better for the user to specify named colors to avoid possible
;; confusion with their configuration, though those still work as
;; expected.
(setq modus-themes-common-palette-overrides
      '((cursor red)
        (fg-mode-line-active cursor)
        (border-mode-line-active fg-mode-line-active)))

;; Ignore the overrides and get the original value.
(modus-themes-get-color-value 'border-mode-line-active)
;; =&gt; "#5a5a5a"

;; Read from the overrides and deal with any recursion to find the
;; underlying value.
(modus-themes-get-color-value 'border-mode-line-active :overrides)
;; =&gt; "#a60000"
</pre>
</div>
</div>
</div>
<div id="outline-container-h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae" class="outline-3">
<h3 id="h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae"><span class="section-number-3">7.2.</span> Use theme colors in code with <code>modus-themes-with-colors</code></h3>
<div class="outline-text-3" id="text-h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">
<p>
[ Note that for common cases the following is not not needed.  Just rely on
  the comprehensive overrides we provide (<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>). ]
</p>

<p>
Advanced users may want to apply many colors from the palette of the
active Modus theme in their custom code. In such a case, retrieving
each value with the function <code>modus-themes-get-color-value</code> is
inefficient (<a href="#h:1cc552c1-5f5f-4a56-ae78-7b69e8512c4e">Get a single color from the palette</a>). The Lisp macro
<code>modus-themes-with-colors</code> provides the requisite functionality. It
supplies the current theme&rsquo;s palette to the code called from inside of
it. For example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(modus-themes-with-colors
  (list blue-warmer magenta-cooler fg-added warning variable fg-heading-4))
;; =&gt; ("#354fcf" "#531ab6" "#005000" "#884900" "#005e8b" "#721045")
</pre>
</div>

<p>
The above return value is for <code>modus-operandi</code> when that is the active
theme. Switching to another theme and evaluating this code anew will
return the relevant results for that theme (remember that since
version 4, the Modus themes consist of many items (<a href="#h:f0f3dbcb-602d-40cf-b918-8f929c441baf">Overview</a>)). The
same with <code>modus-vivendi</code> as the active theme:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(modus-themes-with-colors
  (list blue-warmer magenta-cooler fg-added warning variable fg-heading-4))
;; =&gt; ("#79a8ff" "#b6a0ff" "#a0e0a0" "#fec43f" "#00d3d0" "#feacd0")
</pre>
</div>

<p>
The <code>modus-themes-with-colors</code> has access to the whole palette of the
active theme, meaning that it can instantiate both (i) named colors
like <code>blue-warmer</code> and (ii) semantic color mappings like <code>warning</code>.
We provide commands to inspect those (<a href="#h:f4d4b71b-2ca5-4c3d-b0b4-9bfd7aa7fb4d">Preview theme colors</a>).
</p>

<p>
Others sections in this manual show how to use the aforementioned
macro (<a href="#h:f4651d55-8c07-46aa-b52b-bed1e53463bb">Advanced customization</a>). In practice, the use of a hook will
also be needed (<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">DIY Use a hook at the post-load-theme phase</a>).
</p>
</div>
</div>
</div>
<div id="outline-container-h:f4651d55-8c07-46aa-b52b-bed1e53463bb" class="outline-2">
<h2 id="h:f4651d55-8c07-46aa-b52b-bed1e53463bb"><span class="section-number-2">8.</span> Advanced customization</h2>
<div class="outline-text-2" id="text-h:f4651d55-8c07-46aa-b52b-bed1e53463bb">
<p>
Unlike the predefined customization options which follow a clear
pattern of allowing the user to quickly specify their preference, the
themes also provide a more flexible, albeit a bit more difficult,
mechanism to control things with precision (<a href="#h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f">Customization Options</a>).
</p>

<p>
This section is of interest only to users who are prepared to maintain
their own local tweaks and who are willing to deal with any possible
incompatibilities between versioned releases of the themes. As such,
they are labeled as &ldquo;do-it-yourself&rdquo; or &ldquo;DIY&rdquo;.
</p>
</div>
<div id="outline-container-h:b0bc811c-227e-42ec-bf67-15e1f41eb7bc" class="outline-3">
<h3 id="h:b0bc811c-227e-42ec-bf67-15e1f41eb7bc"><span class="section-number-3">8.1.</span> DIY Palette override presets</h3>
<div class="outline-text-3" id="text-h:b0bc811c-227e-42ec-bf67-15e1f41eb7bc">
<p>
This section shows how to refashion the themes by opting in to the
stylistic presets we provide.  Those presets override the default
color mappings to amplify, tone down, or refashion the overall
coloration of the themes.
</p>

<p>
To make almost all aspects of the themes less intense, use this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Always remember to reload the theme for changes to take effect!
(setq modus-themes-common-palette-overrides modus-themes-preset-overrides-faint)
</pre>
</div>

<p>
With <code>modus-themes-preset-overrides-faint</code> the grays are toned down,
gray backgrounds are removed from some contexts, and almost all accent
colors are desaturated.  It makes the themes less attention-grabbing.
</p>

<p>
On the opposite end of the stylistic spectrum, we have this
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Always remember to reload the theme for changes to take effect!
(setq modus-themes-common-palette-overrides modus-themes-preset-overrides-intense)
</pre>
</div>

<p>
The <code>modus-themes-preset-overrides-intense</code> makes many background
colors accented instead of gray and increases coloration in a number
of places.  Colors stand out more and are made easier to spot.
</p>

<p>
For some stylistic variation try the &ldquo;cooler&rdquo; and &ldquo;warmer&rdquo; presets:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; This:
(setq modus-themes-common-palette-overrides modus-themes-preset-overrides-cooler)

;; Or:
(setq modus-themes-common-palette-overrides modus-themes-preset-overrides-warmer)
</pre>
</div>

<p>
Note that the user is not limited to those presets.  The system of
overrides we provide makes it possible to tweak the value of each
individual named color and to change how values are assigned to
semantic color mappings (<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>).  Subsequent
sections provide examples (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).
</p>

<p>
It is also possible to use those presets as a basis and, for example,
add to them code from the subsequent sections of this manual.  This is
the general idea (extra space for didactic purposes):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-themes-common-palette-overrides
      `(
        ;; From the section "Make the mode line borderless"
        (border-mode-line-active unspecified)
        (border-mode-line-inactive unspecified)

        ;; From the section "Make matching parenthesis more or less intense"
        (bg-paren-match bg-magenta-intense)
        (underline-paren-match fg-main)

        ;; And expand the preset here.  Note that the ,@ works because
        ;; we use the backtick for this list, instead of a straight
        ;; quote.
        ,@modus-themes-preset-overrides-intense))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6c3f87a8-3573-43de-89e0-53f567c0ede1" class="outline-3">
<h3 id="h:6c3f87a8-3573-43de-89e0-53f567c0ede1"><span class="section-number-3">8.2.</span> DIY Add support for <code>engrave-faces</code></h3>
<div class="outline-text-3" id="text-h:6c3f87a8-3573-43de-89e0-53f567c0ede1">
<p>
The <code>engraved-faces</code> package is used as part of an Org export process
to produce decent colors in the output. Its default style though
requires changes to use the colors of the active Modus theme.
</p>

<p>
In the code below we show how to map everything that <code>engrave-faces</code>
defines to the corresponding entry in the palette of the active Modus
theme. We then use a hook to ensure that the value is updated after we
switch to another theme in the collection (<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">DIY Use a hook at the post-load-theme phase</a>).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-engraved-faces (&amp;rest _)
  (modus-themes-with-colors
    (setq engrave-faces-themes
          `((default .
                     (;; faces.el --- excluding: bold, italic, bold-italic, underline, and some others
                      (default                             :short "default"             :slug "D"   :foreground ,fg-main :background ,bg-main :family "Monospace")
                      (variable-pitch                      :short "var-pitch"           :slug "vp"  :foreground ,fg-main                       :family "Sans Serif")
                      (shadow                              :short "shadow"              :slug "h"   :foreground ,fg-dim)
                      (success                             :short "success"             :slug "sc"  :foreground ,green :weight bold)
                      (warning                             :short "warning"             :slug "w"   :foreground ,warning :weight bold)
                      (error                               :short "error"               :slug "e"   :foreground ,err :weight bold)
                      (link                                :short "link"                :slug "l"   :foreground ,fg-link)
                      (link-visited                        :short "link"                :slug "lv"  :foreground ,fg-link-visited)
                      (highlight                           :short "link"                :slug "hi"  :foreground ,info)
                      ;; font-lock.el
                      (font-lock-comment-face              :short "fl-comment"          :slug "c"   :foreground ,comment)
                      (font-lock-comment-delimiter-face    :short "fl-comment-delim"    :slug "cd"  :foreground ,comment)
                      (font-lock-string-face               :short "fl-string"           :slug "s"   :foreground ,string)
                      (font-lock-doc-face                  :short "fl-doc"              :slug "d"   :foreground ,docstring)
                      (font-lock-doc-markup-face           :short "fl-doc-markup"       :slug "m"   :foreground ,docmarkup)
                      (font-lock-keyword-face              :short "fl-keyword"          :slug "k"   :foreground ,keyword)
                      (font-lock-builtin-face              :short "fl-builtin"          :slug "b"   :foreground ,builtin)
                      (font-lock-function-name-face        :short "fl-function"         :slug "f"   :foreground ,fnname)
                      (font-lock-variable-name-face        :short "fl-variable"         :slug "v"   :foreground ,variable)
                      (font-lock-type-face                 :short "fl-type"             :slug "t"   :foreground ,type)
                      (font-lock-constant-face             :short "fl-constant"         :slug "o"   :foreground ,constant)
                      (font-lock-warning-face              :short "fl-warning"          :slug "wr"  :foreground ,warning :weight bold)
                      (font-lock-negation-char-face        :short "fl-neg-char"         :slug "nc")
                      (font-lock-preprocessor-face         :short "fl-preprocessor"     :slug "pp"  :foreground ,preprocessor)
                      (font-lock-regexp-grouping-construct :short "fl-regexp"           :slug "rc"                        :weight bold)
                      (font-lock-regexp-grouping-backslash :short "fl-regexp-backslash" :slug "rb"                        :weight bold)
                      ;; org-faces.el
                      (org-block                           :short "org-block"           :slug "ob") ; forcing no background is preferable
                      (org-block-begin-line                :short "org-block-begin"     :slug "obb") ; forcing no background is preferable
                      (org-block-end-line                  :short "org-block-end"       :slug "obe") ; forcing no background is preferable
                      ;; outlines
                      (outline-1                           :short "outline-1"           :slug "Oa"  :foreground ,fg-heading-1)
                      (outline-2                           :short "outline-2"           :slug "Ob"  :foreground ,fg-heading-2)
                      (outline-3                           :short "outline-3"           :slug "Oc"  :foreground ,fg-heading-3)
                      (outline-4                           :short "outline-4"           :slug "Od"  :foreground ,fg-heading-4)
                      (outline-5                           :short "outline-5"           :slug "Oe"  :foreground ,fg-heading-5)
                      (outline-6                           :short "outline-6"           :slug "Of"  :foreground ,fg-heading-6)
                      (outline-7                           :short "outline-7"           :slug "Og"  :foreground ,fg-heading-7)
                      (outline-8                           :short "outline-8"           :slug "Oh"  :foreground ,fg-heading-8)
                      ;; highlight-numbers.el
                      (highlight-numbers-number            :short "hl-number"           :slug "hn"  :foreground ,number)
                      ;; highlight-quoted.el
                      (highlight-quoted-quote              :short "hl-qquote"           :slug "hq"  :foreground ,string)
                      (highlight-quoted-symbol             :short "hl-qsymbol"          :slug "hs"  :foreground ,constant)
                      ;; rainbow-delimiters.el
                      (rainbow-delimiters-depth-1-face     :short "rd-1"                :slug "rda" :foreground ,rainbow-0)
                      (rainbow-delimiters-depth-2-face     :short "rd-2"                :slug "rdb" :foreground ,rainbow-1)
                      (rainbow-delimiters-depth-3-face     :short "rd-3"                :slug "rdc" :foreground ,rainbow-2)
                      (rainbow-delimiters-depth-4-face     :short "rd-4"                :slug "rdd" :foreground ,rainbow-3)
                      (rainbow-delimiters-depth-5-face     :short "rd-5"                :slug "rde" :foreground ,rainbow-4)
                      (rainbow-delimiters-depth-6-face     :short "rd-6"                :slug "rdf" :foreground ,rainbow-5)
                      (rainbow-delimiters-depth-7-face     :short "rd-7"                :slug "rdg" :foreground ,rainbow-6)
                      (rainbow-delimiters-depth-8-face     :short "rd-8"                :slug "rdh" :foreground ,rainbow-7)
                      (rainbow-delimiters-depth-9-face     :short "rd-9"                :slug "rdi" :foreground ,rainbow-8)
                      ;; ansi-color
                      (ansi-color-yellow                   :short "ansi-yellow"         :slug "any" :foreground ,fg-term-yellow)
                      (ansi-color-red                      :short "ansi-red"            :slug "anr" :foreground ,fg-term-red)
                      (ansi-color-black                    :short "ansi-black"          :slug "anb" :foreground ,fg-term-black)
                      (ansi-color-green                    :short "ansi-green"          :slug "ang" :foreground ,fg-term-green)
                      (ansi-color-blue                     :short "ansi-blue"           :slug "anB" :foreground ,fg-term-blue)
                      (ansi-color-cyan                     :short "ansi-cyan"           :slug "anc" :foreground ,fg-term-cyan)
                      (ansi-color-white                    :short "ansi-white"          :slug "anw" :foreground ,fg-term-white)
                      (ansi-color-magenta                  :short "ansi-magenta"        :slug "anm" :foreground ,fg-term-magenta)
                      (ansi-color-bright-yellow            :short "ansi-bright-yellow"  :slug "ANy" :foreground ,fg-term-yellow-bright)
                      (ansi-color-bright-red               :short "ansi-bright-red"     :slug "ANr" :foreground ,fg-term-red-bright)
                      (ansi-color-bright-black             :short "ansi-bright-black"   :slug "ANb" :foregroun  ,fg-term-black-bright)
                      (ansi-color-bright-green             :short "ansi-bright-green"   :slug "ANg" :foreground ,fg-term-green-bright)
                      (ansi-color-bright-blue              :short "ansi-bright-blue"    :slug "ANB" :foreground ,fg-term-blue-bright)
                      (ansi-color-bright-cyan              :short "ansi-bright-cyan"    :slug "ANc" :foreground ,fg-term-cyan-bright)
                      (ansi-color-bright-white             :short "ansi-bright-white"   :slug "ANw" :foregroun  ,fg-term-white-bright)
                      (ansi-color-bright-magenta           :short "ansi-bright-magenta" :slug "ANm" :foregroun  ,fg-term-magenta-bright)))))))

(add-hook 'enable-theme-functions #'my-modus-themes-engraved-faces)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:df1199d8-eaba-47db-805d-6b568a577bf3" class="outline-3">
<h3 id="h:df1199d8-eaba-47db-805d-6b568a577bf3"><span class="section-number-3">8.3.</span> DIY Stylistic variants using palette overrides</h3>
<div class="outline-text-3" id="text-h:df1199d8-eaba-47db-805d-6b568a577bf3">
<p>
This section contains practical examples of overriding the palette of
the themes (<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>).  Users can copy the code to
their init file, evaluate it, and then re-load the theme for changes
to take effect.  To apply overrides at startup simply define them
before the call that loads the theme.  Remember that we also provide
presets that are easier to apply (<a href="#h:b0bc811c-227e-42ec-bf67-15e1f41eb7bc">Palette override presets</a>).
</p>
</div>
<div id="outline-container-h:80ddba52-e188-411f-8cc0-480ebd75befe" class="outline-4">
<h4 id="h:80ddba52-e188-411f-8cc0-480ebd75befe"><span class="section-number-4">8.3.1.</span> DIY Make the mode line borderless</h4>
<div class="outline-text-4" id="text-h:80ddba52-e188-411f-8cc0-480ebd75befe">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  To
hide the border around the active and inactive mode lines, we need to
set their color to that of the underlying background.
</p>

<p>
<a href="#h:e8d781be-eefc-4a81-ac4e-5ed156190df7">Make the active mode line colorful</a>.
</p>

<p>
<a href="#h:5a0c58cc-f97f-429c-be08-927b9fbb0a9c">Add padding to mode line</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Remove the border
(setq modus-themes-common-palette-overrides
      '((border-mode-line-active unspecified)
        (border-mode-line-inactive unspecified)))

;; Keep the border but make it the same color as the background of the
;; mode line (thus appearing borderless).  The difference with the
;; above is that this version is a bit thicker because the border are
;; still there.
(setq modus-themes-common-palette-overrides
      '((border-mode-line-active bg-mode-line-active)
        (border-mode-line-inactive bg-mode-line-inactive)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:e8d781be-eefc-4a81-ac4e-5ed156190df7" class="outline-4">
<h4 id="h:e8d781be-eefc-4a81-ac4e-5ed156190df7"><span class="section-number-4">8.3.2.</span> DIY Make the active mode line colorful</h4>
<div class="outline-text-4" id="text-h:e8d781be-eefc-4a81-ac4e-5ed156190df7">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).
Here we show some snippets that apply different stylistic variants.
Of course, it is possible to use theme-specific overrides to, say,
have a blue mode line for <code>modus-operandi</code> and a red one for
<code>modus-vivendi</code>.
</p>

<p>
<a href="#h:80ddba52-e188-411f-8cc0-480ebd75befe">Make the mode line borderless</a>.
</p>

<p>
<a href="#h:5a0c58cc-f97f-429c-be08-927b9fbb0a9c">Add padding to mode line</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Blue background, neutral foreground, intense blue border
(setq modus-themes-common-palette-overrides
      '((bg-mode-line-active bg-blue-intense)
        (fg-mode-line-active fg-main)
        (border-mode-line-active blue-intense)))

;; Subtle blue background, neutral foreground, intense blue border
(setq modus-themes-common-palette-overrides
      '((bg-mode-line-active bg-blue-subtle)
        (fg-mode-line-active fg-main)
        (border-mode-line-active blue-intense)))

;; Sage (green/cyan) background, neutral foreground, slightly distinct green border
(setq modus-themes-common-palette-overrides
      '((bg-mode-line-active bg-sage)
        (fg-mode-line-active fg-main)
        (border-mode-line-active bg-green-intense)))

;; As above, but with a purple style
(setq modus-themes-common-palette-overrides
      '((bg-mode-line-active bg-lavender)
        (fg-mode-line-active fg-main)
        (border-mode-line-active bg-magenta-intense)))

;; As above, but with an earthly style
(setq modus-themes-common-palette-overrides
      '((bg-mode-line-active bg-ochre)
        (fg-mode-line-active fg-main)
        (border-mode-line-active bg-yellow-intense)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:096658d7-a0bd-4a99-b6dc-9b20a20cda37" class="outline-4">
<h4 id="h:096658d7-a0bd-4a99-b6dc-9b20a20cda37"><span class="section-number-4">8.3.3.</span> DIY Make the tab bar more or less colorful</h4>
<div class="outline-text-4" id="text-h:096658d7-a0bd-4a99-b6dc-9b20a20cda37">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).
Here we show how to affect the colors of the built-in <code>tab-bar-mode</code>
and <code>tab-line-mode</code>.
</p>

<p>
For consistent theme-wide results, consider changing the mode line,
fringes, and line numbers.  These are shown in other sections of this
manual.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make the `tab-bar-mode' mode subtle while keepings its original
;; gray aesthetic.
(setq modus-themes-common-palette-overrides
      '((bg-tab-bar bg-main)
        (bg-tab-current bg-active)
        (bg-tab-other bg-dim)))

;; Like the above, but the current tab has a colorful background and
;; the inactive tabs have a slightly more noticeable gray background.
(setq modus-themes-common-palette-overrides
      '((bg-tab-bar bg-main)
        (bg-tab-current bg-cyan-intense)
        (bg-tab-other bg-inactive)))

;; Make the tabs colorful, using a monochromatic pattern (e.g. shades
;; of cyan).
(setq modus-themes-common-palette-overrides
      '((bg-tab-bar bg-cyan-nuanced)
        (bg-tab-current bg-cyan-intense)
        (bg-tab-other bg-cyan-subtle)))

;; Like the above, but with a dichromatic pattern (cyan and magenta).
(setq modus-themes-common-palette-overrides
      '((bg-tab-bar bg-cyan-nuanced)
        (bg-tab-current bg-magenta-intense)
        (bg-tab-other bg-cyan-subtle)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:c312dcac-36b6-4a1f-b1f5-ab1c9abe27b0" class="outline-4">
<h4 id="h:c312dcac-36b6-4a1f-b1f5-ab1c9abe27b0"><span class="section-number-4">8.3.4.</span> DIY Make the fringe invisible or another color</h4>
<div class="outline-text-4" id="text-h:c312dcac-36b6-4a1f-b1f5-ab1c9abe27b0">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).
Here we show how to make the fringe invisible or how to assign to it a
different color.  The &ldquo;fringe&rdquo; is a small area to the right and left
side of the Emacs window which shows indicators such as for truncation
or continuation lines.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make the fringe invisible
(setq modus-themes-common-palette-overrides
      '((fringe unspecified)))

;; Make the fringe more intense
(setq modus-themes-common-palette-overrides
      '((fringe bg-active)))

;; Make the fringe colorful, but nuanced
(setq modus-themes-common-palette-overrides
      '((fringe bg-blue-nuanced)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:6c1d1dea-5cbf-4d92-b7bb-570a7a23ffe9" class="outline-4">
<h4 id="h:6c1d1dea-5cbf-4d92-b7bb-570a7a23ffe9"><span class="section-number-4">8.3.5.</span> DIY Make links use subtle or no underlines</h4>
<div class="outline-text-4" id="text-h:6c1d1dea-5cbf-4d92-b7bb-570a7a23ffe9">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
this example, we showcase the special use of the <code>unspecified</code> symbol
that underline mappings can read correctly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Subtle underlines
(setq modus-themes-common-palette-overrides
      '((underline-link border)
        (underline-link-visited border)
        (underline-link-symbolic border)))

;; No underlines
(setq modus-themes-common-palette-overrides
      '((underline-link unspecified)
        (underline-link-visited unspecified)
        (underline-link-symbolic unspecified)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:bd75b43a-0bf1-45e7-b8b4-20944ca8b7f8" class="outline-4">
<h4 id="h:bd75b43a-0bf1-45e7-b8b4-20944ca8b7f8"><span class="section-number-4">8.3.6.</span> DIY Make prompts more or less colorful</h4>
<div class="outline-text-4" id="text-h:bd75b43a-0bf1-45e7-b8b4-20944ca8b7f8">
<p>
This section contains practical examples of overriding the palette of
the themes (<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>).  In the following code
block we show how to add or remove color from prompts.
</p>

<p>
<a href="#h:db5a9a7c-2928-4a28-b0f0-6f2b9bd52ba1">Option for command prompt styles</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Keep the background unspecified (like the default), but use a faint
;; foreground color.
(setq modus-themes-common-palette-overrides
      '((fg-prompt cyan-faint)
        (bg-prompt unspecified)))

;; Add a nuanced background to prompts that complements their foreground.
(setq modus-themes-common-palette-overrides
      '((fg-prompt cyan)
        (bg-prompt bg-cyan-nuanced)))

;; Add a yellow background and adjust the foreground accordingly.
(setq modus-themes-common-palette-overrides
      '((fg-prompt fg-main)
        (bg-prompt bg-yellow-subtle))) ; try to replace "subtle" with "intense"
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:d959f789-0517-4636-8780-18123f936f91" class="outline-4">
<h4 id="h:d959f789-0517-4636-8780-18123f936f91"><span class="section-number-4">8.3.7.</span> DIY Make completion matches more or less colorful</h4>
<div class="outline-text-4" id="text-h:d959f789-0517-4636-8780-18123f936f91">
<p>
This section contains practical examples of overriding the palette of
the themes (<a href="#h:34c7a691-19bb-4037-8d2f-67a07edab150">Option for palette overrides</a>).   Here we demonstrate how
to activate background coloration for completion matches.  We show
three different degrees of intensity.
</p>

<p>
<a href="#h:f1c20c02-7b34-4c35-9c65-99170efb2882">Option for completion framework aesthetics</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Add a nuanced background color to completion matches, while keeping
;; their foreground intact (foregrounds do not need to be specified in
;; this case, but we do it for didactic purposes).
(setq modus-themes-common-palette-overrides
      '((fg-completion-match-0 blue)
        (fg-completion-match-1 magenta-warmer)
        (fg-completion-match-2 cyan)
        (fg-completion-match-3 red)
        (bg-completion-match-0 bg-blue-nuanced)
        (bg-completion-match-1 bg-magenta-nuanced)
        (bg-completion-match-2 bg-cyan-nuanced)
        (bg-completion-match-3 bg-red-nuanced)))

;; Add intense background colors to completion matches and adjust the
;; foregrounds accordingly.
(setq modus-themes-common-palette-overrides
      '((fg-completion-match-0 fg-main)
        (fg-completion-match-1 fg-main)
        (fg-completion-match-2 fg-main)
        (fg-completion-match-3 fg-main)
        (bg-completion-match-0 bg-blue-intense)
        (bg-completion-match-1 bg-yellow-intense)
        (bg-completion-match-2 bg-cyan-intense)
        (bg-completion-match-3 bg-red-intense)))

;; Like the above, but with subtle backgrounds.
(setq modus-themes-common-palette-overrides
      '((fg-completion-match-0 fg-main)
        (fg-completion-match-1 fg-main)
        (fg-completion-match-2 fg-main)
        (fg-completion-match-3 fg-main)
        (bg-completion-match-0 bg-blue-subtle)
        (bg-completion-match-1 bg-yellow-subtle)
        (bg-completion-match-2 bg-cyan-subtle)
        (bg-completion-match-3 bg-red-subtle)))
</pre>
</div>

<p>
Adding to the above, it is possible to, say, reduce the number of
colors to two:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; No backgrounds (like the default) and just use two colors.
(setq modus-themes-common-palette-overrides
      '((fg-completion-match-0 blue)
        (fg-completion-match-1 yellow)
        (fg-completion-match-2 blue)
        (fg-completion-match-3 yellow)
        (bg-completion-match-0 unspecified)
        (bg-completion-match-1 unspecified)
        (bg-completion-match-2 unspecified)
        (bg-completion-match-3 unspecified)))

;; Again, a two-color style but this time with backgrounds
(setq modus-themes-common-palette-overrides
      '((fg-completion-match-0 blue)
        (fg-completion-match-1 yellow)
        (fg-completion-match-2 blue)
        (fg-completion-match-3 yellow)
        (bg-completion-match-0 bg-blue-nuanced)
        (bg-completion-match-1 bg-yellow-nuanced)
        (bg-completion-match-2 bg-blue-nuanced)
        (bg-completion-match-3 bg-yellow-nuanced)))
</pre>
</div>

<p>
The user can mix and match to their liking.
</p>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:26f53daa-0065-48dc-88ab-6a718d16cd95" class="outline-4">
<h4 id="h:26f53daa-0065-48dc-88ab-6a718d16cd95"><span class="section-number-4">8.3.8.</span> DIY Make comments yellow and strings green</h4>
<div class="outline-text-4" id="text-h:26f53daa-0065-48dc-88ab-6a718d16cd95">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
previous versions of the themes, we provided an option for yellow-ish
comments and green-ish strings.  For some users, those were still not
good enough, as the exact values were hardcoded.  Here we show how to
reproduce the effect, but also how to tweak it to one&rsquo;s liking.
</p>

<p>
<a href="#h:c8767172-bf11-4c96-81dc-e736c464fc9c">Make code syntax use the old alt-syntax style</a>.
</p>

<p>
<a href="#h:943063da-7b27-4ba4-9afe-f8fe77652fd1">Make use of alternative styles for code syntax</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Yellow comments and green strings like older versions of the Modus
;; themes
(setq modus-themes-common-palette-overrides
      '((comment yellow-cooler)
        (string green-cooler)))

;; Faint yellow comments and a different shade of green for strings
(setq modus-themes-common-palette-overrides
      '((comment yellow-faint)
        (string green-warmer)))

;; Green comments and yellow strings, because now the user has the
;; freedom to do it
(setq modus-themes-common-palette-overrides
      '((comment green)
        (string yellow-cooler)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:c8767172-bf11-4c96-81dc-e736c464fc9c" class="outline-4">
<h4 id="h:c8767172-bf11-4c96-81dc-e736c464fc9c"><span class="section-number-4">8.3.9.</span> DIY Make code syntax use the old alt-syntax style</h4>
<div class="outline-text-4" id="text-h:c8767172-bf11-4c96-81dc-e736c464fc9c">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
this section we show how to reproduce what previous versions of the
Modus themes provided as a stylistic alternative for code syntax.  The
upside of using overrides for this purpose is that we can tweak the
style to our liking, but first let&rsquo;s start with its recreation:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; The old "alt-syntax" (before version 4.0.0 of the Modus themes)
(setq modus-themes-common-palette-overrides
      '((builtin magenta)
        (comment fg-dim)
        (constant magenta-cooler)
        (docstring magenta-faint)
        (docmarkup green-faint)
        (fnname magenta-warmer)
        (keyword cyan)
        (preprocessor cyan-cooler)
        (string red-cooler)
        (type magenta-cooler)
        (variable blue-warmer)
        (rx-construct magenta-warmer)
        (rx-backslash blue-cooler)))
</pre>
</div>

<p>
The &ldquo;alt-syntax&rdquo; could optionally use green strings and yellow
comments (<a href="#h:26f53daa-0065-48dc-88ab-6a718d16cd95">Make comments yellow and strings green</a>):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Same as above, but with yellow comments and green strings
(setq modus-themes-common-palette-overrides
      '((builtin magenta)
        (comment yellow-faint)
        (constant magenta-cooler)
        (docstring green-faint)
        (docmarkup magenta-faint)
        (fnname magenta-warmer)
        (keyword cyan)
        (preprocessor cyan-cooler)
        (string green-cooler)
        (type magenta-cooler)
        (variable blue-warmer)
        (rx-construct magenta-warmer)
        (rx-backslash blue-cooler)))
</pre>
</div>

<p>
The standard &ldquo;alt-syntax&rdquo; has red strings.  As such, it is interesting
to experiment with faintly red colored comments:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Like the old "alt-syntax" but with faint red comments
(setq modus-themes-common-palette-overrides
      '((builtin magenta)
        (comment red-faint)
        (constant magenta-cooler)
        (docstring magenta-faint)
        (docmarkup green-faint)
        (fnname magenta-warmer)
        (keyword cyan)
        (preprocessor cyan-cooler)
        (string red-cooler)
        (type magenta-cooler)
        (variable blue-warmer)
        (rx-construct magenta-warmer)
        (rx-backslash blue-cooler)))
</pre>
</div>

<p>
The user can always mix and match styles to their liking.
</p>

<p>
<a href="#h:943063da-7b27-4ba4-9afe-f8fe77652fd1">Make use of alternative styles for code syntax</a>.
</p>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:943063da-7b27-4ba4-9afe-f8fe77652fd1" class="outline-4">
<h4 id="h:943063da-7b27-4ba4-9afe-f8fe77652fd1"><span class="section-number-4">8.3.10.</span> DIY Make use of alternative styles for code syntax</h4>
<div class="outline-text-4" id="text-h:943063da-7b27-4ba4-9afe-f8fe77652fd1">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  The
idea here is to change how named colors are mapped to code syntax.
Each of the following snippets give the <code>modus-themes</code> a different
feel while editing code.
</p>

<p>
Note that my <code>modus-themes</code> and <code>ef-themes</code> do not use the same
palettes, so some things are different.  If you copy from the latter
to the former, double-check that the entries exist in the given Modus
theme palette.
</p>

<p>
<a href="#h:26f53daa-0065-48dc-88ab-6a718d16cd95">Make comments yellow and strings green</a>.
</p>

<p>
<a href="#h:c8767172-bf11-4c96-81dc-e736c464fc9c">Make code syntax use the old alt-syntax style</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Mimic `ef-night' theme (from my `ef-themes') for code syntax
;; highlighting, while still using the Modus colors (and other
;; mappings).
(setq modus-themes-common-palette-overrides
      '((builtin green-cooler)
        (comment yellow-faint)
        (constant magenta-cooler)
        (fnname cyan-cooler)
        (keyword blue-warmer)
        (preprocessor red-warmer)
        (docstring cyan-faint)
        (string blue-cooler)
        (type magenta-cooler)
        (variable cyan)))

;; Mimic `ef-summer' theme (from my `ef-themes') for code syntax
;; highlighting, while still using the Modus colors (and other
;; mappings).
(setq modus-themes-common-palette-overrides
      '((builtin magenta)
        (comment yellow-faint)
        (constant red-cooler)
        (fnname magenta-warmer)
        (keyword magenta-cooler)
        (preprocessor green-warmer)
        (docstring cyan-faint)
        (string yellow-warmer)
        (type cyan-warmer)
        (variable blue-warmer)))

;; Mimic `ef-bio' theme (from my `ef-themes') for code syntax
;; highlighting, while still using the Modus colors (and other
;; mappings).
(setq modus-themes-common-palette-overrides
      '((builtin green)
        (comment yellow-faint)
        (constant blue)
        (fnname green-warmer)
        (keyword green-cooler)
        (preprocessor green)
        (docstring green-faint)
        (string magenta-cooler)
        (type cyan-warmer)
        (variable blue-warmer)))

;; Mimic `ef-trio-light' theme (from my `ef-themes') for code syntax
;; highlighting, while still using the Modus colors (and other
;; mappings).
(setq modus-themes-common-palette-overrides
      '((builtin magenta-cooler)
        (comment yellow-faint)
        (constant magenta-warmer)
        (fnname blue-warmer)
        (keyword magenta)
        (preprocessor red-cooler)
        (docstring magenta-faint)
        (string green-cooler)
        (type cyan-cooler)
        (variable cyan-warmer)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:259cf8f5-48ec-4b13-8a69-5d6387094468" class="outline-4">
<h4 id="h:259cf8f5-48ec-4b13-8a69-5d6387094468"><span class="section-number-4">8.3.11.</span> DIY Make matching parenthesis more or less intense</h4>
<div class="outline-text-4" id="text-h:259cf8f5-48ec-4b13-8a69-5d6387094468">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
this code block we show how to change the background of matching
delimiters when <code>show-paren-mode</code> is enabled.  We also demonstrate how
to enable underlines for those highlights.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Change the background to a shade of magenta
(setq modus-themes-common-palette-overrides
      '((bg-paren-match bg-magenta-intense)))

;; Enable underlines by applying a color to them
(setq modus-themes-common-palette-overrides
      '((bg-paren-match bg-magenta-intense)
        (underline-paren-match fg-main)))

;; Do not use any background color and instead apply an intense red
;; foreground.
(setq modus-themes-common-palette-overrides
      '((bg-paren-match unspecified)
        (fg-paren-match red-intense)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:4f6b6ca3-f5bb-4830-8312-baa232305360" class="outline-4">
<h4 id="h:4f6b6ca3-f5bb-4830-8312-baa232305360"><span class="section-number-4">8.3.12.</span> DIY Make box buttons more or less gray</h4>
<div class="outline-text-4" id="text-h:4f6b6ca3-f5bb-4830-8312-baa232305360">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  By
default, the boxed buttons that appear in M-x customize and
related are distinct shades of gray.  The following set of overrides
removes the gray from the active buttons and amplifies it for the
inactive ones.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-themes-common-palette-overrides
      '((bg-button-active bg-main)
        (fg-button-active fg-main)
        (bg-button-inactive bg-inactive)
        (fg-button-inactive "gray50")))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:b57bb50b-a863-4ea8-bb38-6de2275fa868" class="outline-4">
<h4 id="h:b57bb50b-a863-4ea8-bb38-6de2275fa868"><span class="section-number-4">8.3.13.</span> DIY Make TODO and DONE more or less intense</h4>
<div class="outline-text-4" id="text-h:b57bb50b-a863-4ea8-bb38-6de2275fa868">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).
Here we show how to affect just the <code>TODO</code> and <code>DONE</code> keywords that we
encounter in Org buffers.  The idea is to make those pop out more or
to subdue them.
</p>

<p>
<a href="#h:11297984-85ea-4678-abe9-a73aeab4676a">Make headings more or less colorful</a>.
</p>

<p>
<a href="#h:bb5b396f-5532-4d52-ab13-149ca24854f1">Make inline code in prose use alternative styles</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Increase intensity
(setq modus-themes-common-palette-overrides
      '((prose-done green-intense)
        (prose-todo red-intense)))

;; Tone down intensity
(setq modus-themes-common-palette-overrides
      '((prose-done green-faint)   ; OR replace `green-faint' with `olive'
        (prose-todo red-faint)))   ; OR replace `red-faint' with `rust'

;; Keep TODO at its default (so no override for it), but make DONE
;; gray.
(setq modus-themes-common-palette-overrides
      '((prose-done fg-dim)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:11297984-85ea-4678-abe9-a73aeab4676a" class="outline-4">
<h4 id="h:11297984-85ea-4678-abe9-a73aeab4676a"><span class="section-number-4">8.3.14.</span> DIY Make headings more or less colorful</h4>
<div class="outline-text-4" id="text-h:11297984-85ea-4678-abe9-a73aeab4676a">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).
Here we show how to alter the looks of headings, such as in Org mode.
Using overrides here offers far more flexibility than what we could
achieve with previous versions of the themes: the user can mix and
match styles at will.
</p>

<p>
<a href="#h:b57bb50b-a863-4ea8-bb38-6de2275fa868">Make TODO and DONE more intense</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Apply more colorful foreground to some headings (headings 0-8).
;; Level 0 is for Org #+title and related.
(setq modus-themes-common-palette-overrides
      '((fg-heading-1 blue-warmer)
        (fg-heading-2 yellow-cooler)
        (fg-heading-3 cyan-cooler)))

;; Like the above, but with gradient colors
(setq modus-themes-common-palette-overrides
      '((fg-heading-1 blue)
        (fg-heading-2 cyan)
        (fg-heading-3 green)))

;; Add color to level 1 heading, but use the main foreground for
;; others
(setq modus-themes-common-palette-overrides
      '((fg-heading-1 blue)
        (fg-heading-2 fg-main)
        (fg-heading-3 fg-main)))

;; Apply colorful foreground, background, and overline (headings 0-8)
(setq modus-themes-common-palette-overrides
      '((fg-heading-1 blue-warmer)
        (bg-heading-1 bg-blue-nuanced)
        (overline-heading-1 blue)))

;; Apply gray scale foreground, background, and overline (headings 0-8)
(setq modus-themes-common-palette-overrides
      '((fg-heading-1 fg-main)
        (bg-heading-1 bg-dim)
        (overline-heading-1 border)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:f44cc6e3-b0f1-4a5e-8a90-9e48fa557b50" class="outline-4">
<h4 id="h:f44cc6e3-b0f1-4a5e-8a90-9e48fa557b50"><span class="section-number-4">8.3.15.</span> DIY Make Org block colors more or less colorful</h4>
<div class="outline-text-4" id="text-h:f44cc6e3-b0f1-4a5e-8a90-9e48fa557b50">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>). Here
we show how to change the presentation of Org blocks (and other such
blocks like Markdown fenced code sections, though the exact
presentation depends on each major mode).
</p>

<p>
The default style of Org blocks is a subtle gray background for the
contents and for the delimiter lines (the <code>#+begin_</code> and <code>#+end_</code>
parts). The text of the delimiter lines is a subtle gray foreground
color.
</p>

<p>
<a href="#h:bb5b396f-5532-4d52-ab13-149ca24854f1">Make inline code in prose use alternative styles</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make code blocks (in Org, for example) use a more colorful style
;; for their delimiter lines as well as their contents.  Give this a
;; purple feel.  Make the delimiter lines distinct from the contents.
(setq modus-themes-common-palette-overrides
      '((bg-prose-block-contents bg-magenta-nuanced)
        (bg-prose-block-delimiter bg-lavender)
        (fg-prose-block-delimiter fg-main)))

;; As above, but with a more blue feel.
(setq modus-themes-common-palette-overrides
      '((bg-prose-block-contents bg-blue-nuanced)
        (bg-prose-block-delimiter bg-lavender)
        (fg-prose-block-delimiter fg-main)))

;; As above, but with a green feel.
(setq modus-themes-common-palette-overrides
      '((bg-prose-block-contents bg-green-nuanced)
        (bg-prose-block-delimiter bg-sage)
        (fg-prose-block-delimiter fg-main)))

;; As above, but with a yellow/gold feel.
(setq modus-themes-common-palette-overrides
      '((bg-prose-block-contents bg-yellow-nuanced)
        (bg-prose-block-delimiter bg-ochre)
        (fg-prose-block-delimiter fg-main)))

;; As above, but with a slightly more red feel.
(setq modus-themes-common-palette-overrides
      '((bg-prose-block-contents bg-red-nuanced)
        (bg-prose-block-delimiter bg-ochre)
        (fg-prose-block-delimiter fg-main)))
</pre>
</div>

<p>
The previous examples differentiate the delimiter lines from the
block&rsquo;s contents. Though we can mimic the default aesthetic of a
uniform background, while changing the applicable colors. Here are
some nice combinations:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Solid green style.
(setq modus-themes-common-palette-overrides
      '((bg-prose-block-contents bg-green-nuanced)
        (bg-prose-block-delimiter bg-green-nuanced)
        (fg-prose-block-delimiter green-warmer)))

;; Solid yellow style.
(setq modus-themes-common-palette-overrides
      '((bg-prose-block-contents bg-yellow-nuanced)
        (bg-prose-block-delimiter bg-yellow-nuanced)
        (fg-prose-block-delimiter yellow-cooler)))

;; Solid cyan style.
(setq modus-themes-common-palette-overrides
      '((bg-prose-block-contents bg-cyan-nuanced)
        (bg-prose-block-delimiter bg-cyan-nuanced)
        (fg-prose-block-delimiter cyan-cooler)))
</pre>
</div>

<p>
[ Combine the above with a suitable mode line style for maximum effect
  (<a href="#h:e8d781be-eefc-4a81-ac4e-5ed156190df7">DIY Make the active mode line colorful</a>). ]
</p>

<p>
Finally, the following makes code blocks have no distinct background.
The minimal styles are applied to the delimiter lines, which only use
a subtle gray foreground. This was the default for the Modus themes up
until version 4.3.0.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make code blocks more minimal, so that (i) the delimiter lines have
;; no background, (ii) the delimiter foreground is a subtle gray, and
;; (iii) the block contents have no distinct background either.  This
;; was the default in versions of the Modus themes before 4.4.0
(setq modus-themes-common-palette-overrides
      '((bg-prose-block-contents unspecified)
        (bg-prose-block-delimiter unspeficied)
        (fg-prose-block-delimiter fg-dim)))
</pre>
</div>

<p>
<a href="#h:8c842804-43b7-4287-b4e9-8c07d04d1f89">DIY Use colored Org source blocks per language</a>.
</p>
</div>
</div>
<div id="outline-container-h:a5af0452-a50f-481d-bf60-d8143f98105f" class="outline-4">
<h4 id="h:a5af0452-a50f-481d-bf60-d8143f98105f"><span class="section-number-4">8.3.16.</span> DIY Make Org agenda more or less colorful</h4>
<div class="outline-text-4" id="text-h:a5af0452-a50f-481d-bf60-d8143f98105f">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).
Here we provide three distinct code blocks.  The first adds
alternative and more varied colors to the Org agenda (and related).
The second uses faint coloration.  The third makes the agenda use
various shades of blue.  Mix and match at will, while also combining
these styles with what we show in the other chapters with practical
stylistic variants.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make the Org agenda use alternative and varied colors.
(setq modus-themes-common-palette-overrides
      '((date-common cyan)   ; default value (for timestamps and more)
        (date-deadline red-warmer)
        (date-event magenta-warmer)
        (date-holiday blue) ; for M-x calendar
        (date-now yellow-warmer)
        (date-scheduled magenta-cooler)
        (date-weekday cyan-cooler)
        (date-weekend blue-faint)))
</pre>
</div>

<p>
An example with faint coloration:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make the Org agenda use faint colors.
(setq modus-themes-common-palette-overrides
      '((date-common cyan-faint) ; for timestamps and more
        (date-deadline red-faint)
        (date-event fg-alt) ; default
        (date-holiday magenta) ; default (for M-x calendar)
        (date-now fg-main) ; default
        (date-scheduled yellow-faint)
        (date-weekday fg-alt)
        (date-weekend fg-dim)))
</pre>
</div>

<p>
A third example that makes the agenda more blue:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make the Org agenda use more blue instead of yellow and red.
(setq modus-themes-common-palette-overrides
      '((date-common cyan) ; default value (for timestamps and more)
        (date-deadline blue-cooler)
        (date-event blue-faint)
        (date-holiday blue) ; for M-x calendar
        (date-now blue-faint)
        (date-scheduled blue)
        (date-weekday fg-main)
        (date-weekend fg-dim)))
</pre>
</div>

<p>
Yet another example that also affects <code>DONE</code> and <code>TODO</code> keywords:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Change dates to a set of more subtle combinations.  Deadlines are a
;; shade of magenta, scheduled dates are a shade of green that
;; complements that of the deadlines, weekday headings use the main
;; foreground color while weekends are a shade of gray.  The DONE
;; keyword is a faint blue-gray while TODO is yellow.
(setq modus-themes-common-palette-overrides
      '((date-deadline magenta-warmer)
        (date-scheduled green-cooler)
        (date-weekday fg-main)
        (date-event fg-dim)
        (date-now blue)
        (prose-done fg-alt)
        (prose-todo yellow)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:bb5b396f-5532-4d52-ab13-149ca24854f1" class="outline-4">
<h4 id="h:bb5b396f-5532-4d52-ab13-149ca24854f1"><span class="section-number-4">8.3.17.</span> DIY Make inline code in prose use alternative styles</h4>
<div class="outline-text-4" id="text-h:bb5b396f-5532-4d52-ab13-149ca24854f1">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
the following code block we show how to affect constructs such as
Org&rsquo;s verbatim, code, and macro entries.  We also provide mappings for
tables, property drawers, tags, and code block delimiters, though we
do not show every possible permutation.
</p>

<ul class="org-ul">
<li><a href="#h:b57bb50b-a863-4ea8-bb38-6de2275fa868">Make TODO and DONE more or less intense</a>.</li>
<li><a href="#h:f44cc6e3-b0f1-4a5e-8a90-9e48fa557b50">DIY Make Org block colors more or less colorful</a>.</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; A nuanced accented background, combined with a suitable foreground.
(setq modus-themes-common-palette-overrides
      '((bg-prose-code bg-green-nuanced)
        (fg-prose-code green-cooler)

        (bg-prose-verbatim bg-magenta-nuanced)
        (fg-prose-verbatim magenta-warmer)

        (bg-prose-macro bg-blue-nuanced)
        (fg-prose-macro magenta-cooler)))

;; A more noticeable accented background, combined with a suitable foreground.
(setq modus-themes-common-palette-overrides
      '((bg-prose-code bg-sage)
        (fg-prose-code green-faint)

        (bg-prose-verbatim bg-ochre)
        (fg-prose-verbatim red-faint)

        (bg-prose-macro bg-lavender)
        (fg-prose-macro blue-faint)))

;; Leave the backgrounds without a color and simply make the foregrounds more intense.
(setq modus-themes-common-palette-overrides
      '((bg-prose-code unspecified)
        (fg-prose-code green-intense)

        (bg-prose-verbatim unspecified)
        (fg-prose-verbatim magenta-intense)

        (bg-prose-macro unspecified)
        (fg-prose-macro cyan-intense)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:7da7a4ad-5d3a-4f11-9796-5a1abed0f0c4" class="outline-4">
<h4 id="h:7da7a4ad-5d3a-4f11-9796-5a1abed0f0c4"><span class="section-number-4">8.3.18.</span> DIY Make mail citations and headers more or less colorful</h4>
<div class="outline-text-4" id="text-h:7da7a4ad-5d3a-4f11-9796-5a1abed0f0c4">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
this section we show how to change the coloration of email message
headers and citations.  Before we show the code, this is the anatomy
of a message:
</p>

<pre class="example" id="org68d181a">
From: Protesilaos &lt;info@protesilaos.com&gt;
To: Modus-Themes Development &lt;~protesilaos/modus-themes@lists.sr.ht&gt;
Subject: Test subject
--- Headers above this line; message and citations below ---
This is some sample text

&gt; &gt; Older quote
&gt; Newer quote
</pre>

<p>
We thus have the following:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Reduce the intensity of mail citations and headers
(setq modus-themes-common-palette-overrides
      '((mail-cite-0 cyan-faint)
        (mail-cite-1 yellow-faint)
        (mail-cite-2 green-faint)
        (mail-cite-3 red-faint)
        (mail-part olive)
        (mail-recipient indigo)
        (mail-subject maroon)
        (mail-other slate)))

;; Make mail citations more intense; adjust the headers accordingly
(setq modus-themes-common-palette-overrides
      '((mail-cite-0 blue)
        (mail-cite-1 yellow)
        (mail-cite-2 green)
        (mail-cite-3 magenta)
        (mail-part magenta-cooler)
        (mail-recipient cyan)
        (mail-subject red-warmer)
        (mail-other cyan-cooler)))

;; Make all citations faint and neutral; make most headers green but
;; use red for the subject lie so that it stands out
(setq modus-themes-common-palette-overrides
      '((mail-cite-0 fg-dim)
        (mail-cite-1 fg-alt)
        (mail-cite-2 fg-dim)
        (mail-cite-3 fg-alt)
        (mail-part yellow-cooler)
        (mail-recipient green-cooler)
        (mail-subject red-cooler)
        (mail-other green)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:c8605d37-66e1-42aa-986e-d7514c3af6fe" class="outline-4">
<h4 id="h:c8605d37-66e1-42aa-986e-d7514c3af6fe"><span class="section-number-4">8.3.19.</span> DIY Make the region preserve text colors, plus other styles</h4>
<div class="outline-text-4" id="text-h:c8605d37-66e1-42aa-986e-d7514c3af6fe">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).
Here we show how to make the region respect the underlying text colors
or how to make the background more/less intense while combining it
with an appropriate foreground value.
</p>

<p>
<a href="#h:a5140c9c-18b2-45db-8021-38d0b5074116">Do not extend the region background</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; A background with no specific foreground (use foreground of
;; underlying text)
(setq modus-themes-common-palette-overrides
      '((bg-region bg-ochre) ; try to replace `bg-ochre' with `bg-lavender', `bg-sage'
        (fg-region unspecified)))

;; Subtle gray with a prominent blue foreground
(setq modus-themes-common-palette-overrides
      '((bg-region bg-dim)
        (fg-region blue-cooler)))

;; Intense magenta background combined with the main foreground
(setq modus-themes-common-palette-overrides
      '((bg-region bg-magenta-intense)
        (fg-region fg-main)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:b5cab69d-d7cb-451c-8ff9-1f545ceb6caf" class="outline-4">
<h4 id="h:b5cab69d-d7cb-451c-8ff9-1f545ceb6caf"><span class="section-number-4">8.3.20.</span> DIY Make mouse highlights more or less colorful</h4>
<div class="outline-text-4" id="text-h:b5cab69d-d7cb-451c-8ff9-1f545ceb6caf">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
the following code block we show how to affect the semantic color
mapping that covers mouse hover effects and related highlights:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make the background an intense yellow
(setq modus-themes-common-palette-overrides
      '((bg-hover bg-yellow-intense)))

;; Make the background subtle green
(setq modus-themes-common-palette-overrides
      '((bg-hover bg-green-subtle)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:03dbd5af-6bae-475e-85a2-cec189f69598" class="outline-4">
<h4 id="h:03dbd5af-6bae-475e-85a2-cec189f69598"><span class="section-number-4">8.3.21.</span> DIY Make language underlines less colorful</h4>
<div class="outline-text-4" id="text-h:03dbd5af-6bae-475e-85a2-cec189f69598">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).
Here we show how to affect the color of the underlines that are used
by code linters and prose spell checkers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make the underlines less intense
(setq modus-themes-common-palette-overrides
      '((underline-err red-faint)
        (underline-warning yellow-faint)
        (underline-note cyan-faint)))

;; Change the color-coding of the underlines
(setq modus-themes-common-palette-overrides
      '((underline-err yellow-intense)
        (underline-warning magenta-intense)
        (underline-note green-intense)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:b6466f51-cb58-4007-9ebe-53a27af655c7" class="outline-4">
<h4 id="h:b6466f51-cb58-4007-9ebe-53a27af655c7"><span class="section-number-4">8.3.22.</span> DIY Make line numbers use alternative styles</h4>
<div class="outline-text-4" id="text-h:b6466f51-cb58-4007-9ebe-53a27af655c7">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
this section we show how to affect the <code>display-line-numbers-mode</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Make line numbers less intense
(setq modus-themes-common-palette-overrides
      '((fg-line-number-inactive "gray50")
        (fg-line-number-active fg-main)
        (bg-line-number-inactive unspecified)
        (bg-line-number-active unspecified)))

;; Like the above, but use a shade of red for the current line number
(setq modus-themes-common-palette-overrides
      '((fg-line-number-inactive "gray50")
        (fg-line-number-active red-cooler)
        (bg-line-number-inactive unspecified)
        (bg-line-number-active unspecified)))

;; Make all numbers more intense, use a more pronounce gray
;; background, and make the current line have a colored background
(setq modus-themes-common-palette-overrides
      '((fg-line-number-inactive fg-main)
        (fg-line-number-active fg-main)
        (bg-line-number-inactive bg-inactive)
        (bg-line-number-active bg-cyan-intense)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:b3761482-bcbf-4990-a41e-4866fb9dad15" class="outline-4">
<h4 id="h:b3761482-bcbf-4990-a41e-4866fb9dad15"><span class="section-number-4">8.3.23.</span> DIY Make diffs use only a foreground</h4>
<div class="outline-text-4" id="text-h:b3761482-bcbf-4990-a41e-4866fb9dad15">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
this section we show how to change diff buffers (e.g. in <code>magit</code>) to
only use color-coded text without any added background.  What we
basically do is to disable the applicable backgrounds and then
intensify the foregrounds.  Since the deuteranopia-optimized themes do
not use the red-green color coding, we make an extra set of
adjustments for them by overriding their palettes directly instead of
just using the &ldquo;common&rdquo; overrides.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Diffs with only foreground colors.  Word-wise ("refined") diffs
;; have a gray background to draw attention to themselves.
(setq modus-themes-common-palette-overrides
      '((bg-added           unspecified)
        (bg-added-faint     unspecified)
        (bg-added-refine    bg-inactive)
        (fg-added           green)
        (fg-added-intense   green-intense)

        (bg-changed         unspecified)
        (bg-changed-faint   unspecified)
        (bg-changed-refine  bg-inactive)
        (fg-changed         yellow)
        (fg-changed-intense yellow-intense)

        (bg-removed         unspecified)
        (bg-removed-faint   unspecified)
        (bg-removed-refine  bg-inactive)
        (fg-removed         red)
        (fg-removed-intense red-intense)

        (bg-diff-context    unspecified)))

;; Because deuteranopia cannot use the typical red-yellow-green
;; combination, we need to arrange for a yellow-purple-blue sequence.
;; Notice that the above covers the "common" overrides, so we do not
;; need to reproduce the whole list of them.
(setq modus-operandi-deuteranopia-palette-overrides
      '((fg-added           blue)
        (fg-added-intense   blue-intense)

        (fg-changed         magenta-cooler)
        (fg-changed-intense magenta-intense)

        (fg-removed         yellow-warmer)
        (fg-removed-intense yellow-intense)))

(setq modus-vivendi-deuteranopia-palette-overrides
      '((fg-added           blue)
        (fg-added-intense   blue-intense)

        (fg-changed         magenta-cooler)
        (fg-changed-intense magenta-intense)

        (fg-removed         yellow)
        (fg-removed-intense yellow-intense)))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:16389ea1-4cb6-4b18-9409-384324113541" class="outline-4">
<h4 id="h:16389ea1-4cb6-4b18-9409-384324113541"><span class="section-number-4">8.3.24.</span> DIY Make deuteranopia diffs red and blue instead of yellow and blue</h4>
<div class="outline-text-4" id="text-h:16389ea1-4cb6-4b18-9409-384324113541">
<p>
This is one of our practical examples to override the semantic colors
of the Modus themes (<a href="#h:df1199d8-eaba-47db-805d-6b568a577bf3">Stylistic variants using palette overrides</a>).  In
this section we show how to implement a red+blue color coding for
diffs in the themes <code>modus-operandi-deuteranopia</code> and
<code>modus-vivendi-deuteranopia</code>.  As those themes are optimized for users
with red-green color deficiency, they do not use the typical red+green
color coding for diffs, defaulting instead to yellow+blue which are
discernible.  Users with deuteranomaly or, generally, those who like a
different aesthetic, can use the following to make diffs use the
red+yellow+blue color coding for removed, changed, and added lines
respectively.  This is achieved by overriding the &ldquo;changed&rdquo; and
&ldquo;removed&rdquo; entries to use the colors of regular <code>modus-operandi</code> and
<code>modus-vivendi</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq modus-operandi-deuteranopia-palette-overrides
      '((bg-changed         "#ffdfa9")
        (bg-changed-faint   "#ffefbf")
        (bg-changed-refine  "#fac090")
        (bg-changed-fringe  "#d7c20a")
        (fg-changed         "#553d00")
        (fg-changed-intense "#655000")

        (bg-removed         "#ffd8d5")
        (bg-removed-faint   "#ffe9e9")
        (bg-removed-refine  "#f3b5af")
        (bg-removed-fringe  "#d84a4f")
        (fg-removed         "#8f1313")
        (fg-removed-intense "#aa2222")))

(setq modus-vivendi-deuteranopia-palette-overrides
      '((bg-changed         "#363300")
        (bg-changed-faint   "#2a1f00")
        (bg-changed-refine  "#4a4a00")
        (bg-changed-fringe  "#8a7a00")
        (fg-changed         "#efef80")
        (fg-changed-intense "#c0b05f")

        (bg-removed         "#4f1119")
        (bg-removed-faint   "#380a0f")
        (bg-removed-refine  "#781a1f")
        (bg-removed-fringe  "#b81a1f")
        (fg-removed         "#ffbfbf")
        (fg-removed-intense "#ff9095")))
</pre>
</div>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
</div>
<div id="outline-container-h:fbb5e254-afd6-4313-bb05-93b3b4f67358" class="outline-3">
<h3 id="h:fbb5e254-afd6-4313-bb05-93b3b4f67358"><span class="section-number-3">8.4.</span> DIY More accurate colors in terminal emulators</h3>
<div class="outline-text-3" id="text-h:fbb5e254-afd6-4313-bb05-93b3b4f67358">
<p>
[ This is based on partial information.  Please help verify and/or
  expand these findings. ]
</p>

<p>
The graphical version of Emacs can reproduce color values accurately.
Whereas things get more tricky when Emacs is used in a terminal
emulator, because the terminals&rsquo; own capabilities determine the number
of colors that may be displayed: the Modus themes don&rsquo;t look as good in
that case.
</p>

<p>
There is, however, a way to instruct supported terminal emulators to use
more accurate colors.  In a shell prompt type <code>toe -a | grep direct</code> to
get a list of relevant terminfo entries.  There should be items such as
<code>xterm-direct</code>, <code>alacritty-direct</code>, <code>kitty-direct</code>.  Once you find the one
that corresponds to your terminal, call Emacs with an environment
variable like <code>TERM=xterm-direct</code>.  Example that can be adapted to shell
aliases:
</p>

<pre class="example">
TERM=xterm-direct emacsclient -nw
</pre>


<p>
Another example that can be bound to a key:
</p>

<pre class="example">
TERM=xterm-direct uxterm -e emacsclient -nw
</pre>
</div>
</div>
<div id="outline-container-h:6b8211b0-d11b-4c00-9543-4685ec3b742f" class="outline-3">
<h3 id="h:6b8211b0-d11b-4c00-9543-4685ec3b742f"><span class="section-number-3">8.5.</span> DIY Range of color with terminal emulators</h3>
<div class="outline-text-3" id="text-h:6b8211b0-d11b-4c00-9543-4685ec3b742f">
<p>
[ This is based on partial information.  Please help verify and/or
  expand these findings. ]
</p>

<p>
When Emacs runs in a non-windowed session its color reproduction
capacity is framed or determined by the underlying terminal emulator
(<a href="#h:fbb5e254-afd6-4313-bb05-93b3b4f67358">More accurate colors in terminal emulators</a>).  Emacs cannot produce a
color that lies outside the range of what the terminal&rsquo;s color palette
renders possible.
</p>

<p>
This is immediately noticeable when the terminal&rsquo;s first 16 codes do not
include a pure black value for the <code>termcol0</code> entry and a pure white for
<code>termcol15</code>.  Emacs cannot set the correct background (white for
<code>modus-operandi</code>; black for <code>modus-vivendi</code>) or foreground (inverse of
the background).  It thus falls back to the closest approximation, which
seldom is appropriate for the purposes of the Modus themes.
</p>

<p>
In such a case, the user is expected to update their terminal&rsquo;s color
palette such as by adapting these resources (<a href="#h:f4d4b71b-2ca5-4c3d-b0b4-9bfd7aa7fb4d">Preview theme colors</a>):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">! Theme: modus-operandi
! Description: XTerm port of modus-operandi (Modus themes for GNU Emacs)
! Author: Protesilaos Stavrou, &lt;https://protesilaos.com&gt;
xterm*background: #ffffff
xterm*foreground: #000000
xterm*color0:     #000000
xterm*color1:     #a60000
xterm*color2:     #005e00
xterm*color3:     #813e00
xterm*color4:     #0031a9
xterm*color5:     #721045
xterm*color6:     #00538b
xterm*color7:     #bfbfbf
xterm*color8:     #595959
xterm*color9:     #972500
xterm*color10:    #315b00
xterm*color11:    #70480f
xterm*color12:    #2544bb
xterm*color13:    #5317ac
xterm*color14:    #005a5f
xterm*color15:    #ffffff

! Theme: modus-vivendi
! Description: XTerm port of modus-vivendi (Modus themes for GNU Emacs)
! Author: Protesilaos Stavrou, &lt;https://protesilaos.com&gt;
xterm*background: #000000
xterm*foreground: #ffffff
xterm*color0:     #000000
xterm*color1:     #ff8059
xterm*color2:     #44bc44
xterm*color3:     #d0bc00
xterm*color4:     #2fafff
xterm*color5:     #feacd0
xterm*color6:     #00d3d0
xterm*color7:     #bfbfbf
xterm*color8:     #595959
xterm*color9:     #ef8b50
xterm*color10:    #70b900
xterm*color11:    #c0c530
xterm*color12:    #79a8ff
xterm*color13:    #b6a0ff
xterm*color14:    #6ae4b9
xterm*color15:    #ffffff
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a897b302-8e10-4a26-beab-3caaee1e1193" class="outline-3">
<h3 id="h:a897b302-8e10-4a26-beab-3caaee1e1193"><span class="section-number-3">8.6.</span> DIY Per-theme customization settings</h3>
<div class="outline-text-3" id="text-h:a897b302-8e10-4a26-beab-3caaee1e1193">
<p>
If you prefer to maintain different customization options between the
two themes, it is best you write your own functions that first set those
options and then load the relevant theme.  The following code does
exactly that by simply differentiating the two themes on the choice of
bold constructs in code syntax (enabled for one, disabled for the
other).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-demo-modus-operandi ()
  (interactive)
  (setq modus-themes-bold-constructs t) ; ENABLE bold
  (modus-themes-load-theme 'modus-operandi))

(defun my-demo-modus-vivendi ()
  (interactive)
  (setq modus-themes-bold-constructs nil) ; DISABLE bold
  (modus-themes-load-theme 'modus-vivendi))

(defun my-demo-modus-themes-toggle ()
  (if (eq (car custom-enabled-themes) 'modus-operandi)
      (my-demo-modus-vivendi)
    (my-demo-modus-operandi)))
</pre>
</div>

<p>
Then assign <code>my-demo-modus-themes-toggle</code> to a key instead of the
equivalent the themes provide.
</p>

<p>
For a more elaborate design, it is better to inspect the source code of
<code>modus-themes-toggle</code> and relevant functions.
</p>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:a5140c9c-18b2-45db-8021-38d0b5074116" class="outline-3">
<h3 id="h:a5140c9c-18b2-45db-8021-38d0b5074116"><span class="section-number-3">8.7.</span> DIY Do not extend the region background</h3>
<div class="outline-text-3" id="text-h:a5140c9c-18b2-45db-8021-38d0b5074116">
<p>
By the default, the background of the <code>region</code> face extends from the
end of the line to the edge of the window.  To limit it to the end of
the line, we need to override the face&rsquo;s <code>:extend</code> attribute.  Adding
this to the Emacs configuration file will suffice:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Do not extend `region' background past the end of the line.
(custom-set-faces
 '(region ((t :extend nil))))
</pre>
</div>

<p>
<a href="#h:c8605d37-66e1-42aa-986e-d7514c3af6fe">Make the region preserve text colors, plus other styles</a>.
</p>
</div>
</div>
<div id="outline-container-h:5a0c58cc-f97f-429c-be08-927b9fbb0a9c" class="outline-3">
<h3 id="h:5a0c58cc-f97f-429c-be08-927b9fbb0a9c"><span class="section-number-3">8.8.</span> DIY Add padding to the mode line</h3>
<div class="outline-text-3" id="text-h:5a0c58cc-f97f-429c-be08-927b9fbb0a9c">
<p>
[ Consider using the <code>spacious-padding</code> package from GNU ELPA (by
  Protesilaos) for more than just the mode line. ]
</p>

<p>
Emacs faces do not have a concept of &ldquo;padding&rdquo; for the space between
the text and its box boundaries.  We can approximate the effect by
adding a <code>:box</code> attribute, making its border several pixels thick, and
using the mode line&rsquo;s background color for it.  This way the thick
border will not stand out and will appear as a continuation of the
mode line.
</p>

<p>
<a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with modus-themes-with-colors</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-custom-faces (&amp;rest _)
  (modus-themes-with-colors
    (custom-set-faces
     ;; Add "padding" to the mode lines
     `(mode-line ((,c :box (:line-width 10 :color ,bg-mode-line-active))))
     `(mode-line-inactive ((,c :box (:line-width 10 :color ,bg-mode-line-inactive)))))))

(add-hook 'modus-themes-after-load-theme-hook #'my-modus-themes-custom-faces)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>

<p>
The above has the effect of removing the border around the mode lines.
In older versions of the themes, we provided the option for a padded
mode line which could also have borders around it.  Those were not
real border, however, but an underline and an overline.  Adjusting the
above:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-custom-faces (&amp;rest _)
  (modus-themes-with-colors
    (custom-set-faces
     ;; Add "padding" to the mode lines
     `(mode-line ((,c :underline ,border-mode-line-active
                      :overline ,border-mode-line-active
                      :box (:line-width 10 :color ,bg-mode-line-active))))
     `(mode-line-inactive ((,c :underline ,border-mode-line-inactive
                               :overline ,border-mode-line-inactive
                               :box (:line-width 10 :color ,bg-mode-line-inactive)))))))

;; ESSENTIAL to make the underline move to the bottom of the box:
(setq x-underline-at-descent-line t)

(add-hook 'modus-themes-after-load-theme-hook #'my-modus-themes-custom-faces)
</pre>
</div>

<p>
The reason we no longer provide this option is because it depends on a
non-<code>nil</code> value for <code>x-underline-at-descent-line</code>.  That variable
affects ALL underlines, including those of links.  The effect is
intrusive and looks awkward in prose.
</p>

<p>
As such, the Modus themes no longer provide that option but instead
offer this piece of documentation to make the user fully aware of the
state of affairs.
</p>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:7a93cb6f-4eca-4d56-a85c-9dcd813d6b0f" class="outline-3">
<h3 id="h:7a93cb6f-4eca-4d56-a85c-9dcd813d6b0f"><span class="section-number-3">8.9.</span> DIY Remap face with local value</h3>
<div class="outline-text-3" id="text-h:7a93cb6f-4eca-4d56-a85c-9dcd813d6b0f">
<p>
There are cases where we need to change the buffer-local attributes of a
face.  This might be because we have our own minor mode that reuses a
face for a particular purpose, such as a line selection tool that
activates <code>hl-line-mode</code>, but we wish to keep it distinct from other
buffers.  This is where <code>face-remap-add-relative</code> can be applied and may
be combined with <code>modus-themes-with-colors</code> to deliver consistent results.
</p>

<p>
<a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with modus-themes-with-colors</a>.
</p>

<p>
In this example we will write a simple interactive function that adjusts
the background color of the <code>region</code> face.  This is the sample code:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar my-rainbow-region-colors
  (modus-themes-with-colors
    `((red . ,bg-red-subtle)
      (green . ,bg-green-subtle)
      (yellow . ,bg-yellow-subtle)
      (blue . ,bg-blue-subtle)
      (magenta . ,bg-magenta-subtle)
      (cyan . ,bg-cyan-subtle)))
  "Sample list of color values for `my-rainbow-region'.")

(defun my-rainbow-region (color)
  "Remap buffer-local attribute of `region' using COLOR."
  (interactive
   (list
    (completing-read "Pick a color: " my-rainbow-region-colors)))
  (face-remap-add-relative
   'region
   `( :background ,(alist-get (intern color) my-rainbow-region-colors)
      :foreground ,(face-attribute 'default :foreground))))
</pre>
</div>

<p>
When <code>my-rainbow-region</code> is called interactively, it prompts for a color
to use.  The list of candidates is drawn from the car of each
association in <code>my-rainbow-region-colors</code> (so &ldquo;red&rdquo;, &ldquo;green&rdquo;, etc.).
</p>

<p>
To extend this principle, we may write wrapper functions that pass a
color directly.  Those can be useful in tandem with hooks.  Consider
this example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-rainbow-region-magenta ()
  (my-rainbow-region 'magenta))

(add-hook 'diff-mode-hook #'my-rainbow-region-magenta)
</pre>
</div>

<p>
Whenever we enter a <code>diff-mode</code> buffer, we now get a magenta-colored
region.
</p>

<p>
Perhaps you may wish to generalize those findings in to a set of
functions that also accept an arbitrary face.  We shall leave the
experimentation up to you.
</p>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:defcf4fc-8fa8-4c29-b12e-7119582cc929" class="outline-3">
<h3 id="h:defcf4fc-8fa8-4c29-b12e-7119582cc929"><span class="section-number-3">8.10.</span> DIY Font configurations for Org and others</h3>
<div class="outline-text-3" id="text-h:defcf4fc-8fa8-4c29-b12e-7119582cc929">
<p>
[ Consider using the <code>fontaine</code> package from GNU ELPA (by Protesilaos)
  for all font-related configurations. ]
</p>

<p>
The themes are designed to optionally cope well with mixed font
configurations.  This mostly concerns <code>org-mode</code> and <code>markdown-mode</code>, though
expect to find it elsewhere like in <code>Info-mode</code>.
</p>

<p>
<a href="#h:115e6c23-ee35-4a16-8cef-e2fcbb08e28b">Option for font mixing</a>.
</p>

<p>
In practice it means that the user can safely opt for a more
prose-friendly proportionately spaced typeface as their default, while
spacing-sensitive elements like tables and inline code always use a
monospaced font, by inheriting from the <code>fixed-pitch</code> face.
</p>

<p>
Users can try the built-in M-x variable-pitch-mode to see the
effect in action.
</p>

<p>
To make everything use your desired font families, you need to configure
the <code>variable-pitch</code> (proportional spacing) and <code>fixed-pitch</code> (monospaced)
faces respectively.  It may also be convenient to set your main typeface
by configuring the <code>default</code> face the same way.
</p>

<p>
Put something like this in your initialization file (also consider
reading the doc string of <code>set-face-attribute</code>):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Main typeface
(set-face-attribute 'default nil :family "DejaVu Sans Mono" :height 110)

;; Proportionately spaced typeface
(set-face-attribute 'variable-pitch nil :family "DejaVu Serif" :height 1.0)

;; Monospaced typeface
(set-face-attribute 'fixed-pitch nil :family "DejaVu Sans Mono" :height 1.5)
</pre>
</div>

<p>
Or employ the <code>face-attribute</code> function to read an existing value, such as
if you want to make <code>fixed-pitch</code> use the font family of the <code>default</code> face:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-attribute 'fixed-pitch nil :family (face-attribute 'default :family))
</pre>
</div>

<p>
The next section shows how to make those work in a more elaborate setup
that is robust to changes between the Modus themes.
</p>

<p>
<a href="#h:2793a224-2109-4f61-a106-721c57c01375">Configure bold and italic faces</a>.
</p>

<p>
Note the differences in the <code>:height</code> property.  The <code>default</code> face must
specify an absolute value, which is the point size × 10.  So if you want
to use a font at point size <code>11</code>, you set the height to <code>110</code>.<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>  Whereas every other face must either not specify a
height or have a value that is relative to the default, represented as a
floating point.  If you use an integer, then that means an absolute
height.  This is of paramount importance: it ensures that all fonts can
scale gracefully when using something like the <code>text-scale-adjust</code> command
which only operates on the base font size (i.e. the <code>default</code> face&rsquo;s
absolute height).
</p>

<p>
<a href="#h:e6c5451f-6763-4be7-8fdb-b4706a422a4c">Note for EWW and Elfeed fonts</a>.
</p>
</div>
</div>
<div id="outline-container-h:2793a224-2109-4f61-a106-721c57c01375" class="outline-3">
<h3 id="h:2793a224-2109-4f61-a106-721c57c01375"><span class="section-number-3">8.11.</span> DIY Configure bold and italic faces</h3>
<div class="outline-text-3" id="text-h:2793a224-2109-4f61-a106-721c57c01375">
<p>
[ Consider using the <code>fontaine</code> package from GNU ELPA (by Protesilaos)
  for all font-related configurations. ]
</p>

<p>
The Modus themes do not hardcode a <code>:weight</code> or <code>:slant</code> attribute in the
thousands of faces they cover.  Instead, they configure the generic
faces called <code>bold</code> and <code>italic</code> to use the appropriate styles and then
instruct all relevant faces that require emphasis to inherit from them.
</p>

<p>
This practically means that users can change the particularities of what
it means for a construct to be bold/italic, by tweaking the <code>bold</code> and
<code>italic</code> faces.  Cases where that can be useful include:
</p>

<ul class="org-ul">
<li>The default typeface does not have a variant with slanted glyphs
(e.g. Fira Mono/Code as of this writing on 2021-07-07), so the user
wants to add another family for the italics, such as Hack.</li>

<li>The typeface of choice provides a multitude of weights and the user
prefers the light one by default.  To prevent the bold weight from
being too heavy compared to the light one, they opt to make <code>bold</code> use a
semibold weight.</li>

<li>The typeface distinguishes between oblique and italic forms by
providing different font variants (the former are just slanted
versions of the upright forms, while the latter have distinguishing
features as well).  In this case, the user wants to specify the font
that applies to the <code>italic</code> face.</li>
</ul>

<p>
To achieve those effects, one must first be sure that the fonts they use
have support for those features.  It then is a matter of following the
instructions for all typeface tweaks.
</p>

<p>
<a href="#h:defcf4fc-8fa8-4c29-b12e-7119582cc929">Font configurations for Org and others</a>.
</p>

<p>
In this example, we set the default font family to Fira Code, while we
choose to render italics in the Hack typeface (obviously you need to
pick fonts that work well together):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-attribute 'default nil :family "Fira Code" :height 110)
(set-face-attribute 'italic nil :family "Hack")
</pre>
</div>

<p>
And here we play with different weights, using Source Code Pro:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-attribute 'default nil :family "Source Code Pro" :height 110 :weight 'light)
(set-face-attribute 'bold nil :weight 'semibold)
</pre>
</div>

<p>
To reset the font family, one can use this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-attribute 'italic nil :family 'unspecified)
</pre>
</div>

<p>
To ensure that the effects persist after switching between the Modus
themes (such as with M-x modus-themes-toggle), the user
needs to write their configurations to a function and pass it to the
<code>modus-themes-after-load-theme-hook</code> (<a href="#h:3f3c3728-1b34-437d-9d0c-b110f5b161a9">Enable and load</a>).  This is
necessary because themes set the styles of faces upon activation,
overriding prior values where conflicts occur between the previous and
the current states (otherwise changing themes would not be possible).
</p>

<p>
<a href="#h:86f6906b-f090-46cc-9816-1fe8aeb38776">A theme-agnostic hook for theme loading</a>.
</p>

<p>
This is a minimal setup to preserve font configurations across theme
load phases.  For a more permanent setup, it is better to rely on the
<code>custom-set-faces</code> function: <code>set-face-attribute</code> works just fine, though it
probably is better suited for quick previews or for smaller scale
operations (<code>custom-set-faces</code> follows the format used in the source code
of the themes, which can make it easier to redefine faces in bulk).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; our generic function
(defun my-modes-themes-bold-italic-faces (&amp;rest _)
  (set-face-attribute 'default nil :family "Source Code Pro" :height 110)
  (set-face-attribute 'bold nil :weight 'semibold))

;; or use this if you configure a lot of face and attributes and
;; especially if you plan to use `modus-themes-with-colors', as shown
;; elsewhere in the manual
(defun my-modes-themes-bold-italic-faces (&amp;rest _)
  (custom-set-faces
   '(default ((t :family "Source Code Pro" :height 110)))
   '(bold ((t :weight semibold)))))

;; and here is the hook
(add-hook 'modus-themes-after-load-theme-hook #'my-modes-themes-bold-italic-faces)
</pre>
</div>

<p>
<a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with modus-themes-with-colors</a>.
</p>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:89f0678d-c5c3-4a57-a526-668b2bb2d7ad" class="outline-3">
<h3 id="h:89f0678d-c5c3-4a57-a526-668b2bb2d7ad"><span class="section-number-3">8.12.</span> DIY Custom Org todo keyword and priority faces</h3>
<div class="outline-text-3" id="text-h:89f0678d-c5c3-4a57-a526-668b2bb2d7ad">
<p>
Users of <code>org-mode</code> have the option to configure various keywords and
priority cookies to better match their workflow.  User options are
<code>org-todo-keyword-faces</code> and <code>org-priority-faces</code>.
</p>

<p>
As those are meant to be custom faces, it is futile to have the themes
guess what each user wants to use, which keywords to target, and so on.
Instead, we can provide guidelines on how to customize things to one&rsquo;s
liking with the intent of retaining the overall aesthetic of the themes.
</p>

<p>
Please bear in mind that the end result of those is not controlled by
the active Modus theme but by how Org maps faces to its constructs.
Editing those while <code>org-mode</code> is active requires re-initialization of the
mode with M-x org-mode-restart for changes to take effect.
</p>

<p>
Let us assume you wish to visually differentiate your keywords.  You
have something like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-todo-keywords
      '((sequence "TODO(t)" "|" "DONE(D)" "CANCEL(C)")
        (sequence "MEET(m)" "|" "MET(M)")
        (sequence "STUDY(s)" "|" "STUDIED(S)")
        (sequence "WRITE(w)" "|" "WROTE(W)")))
</pre>
</div>

<p>
You could then use a variant of the following to inherit from a face
that uses the styles you want and also to preserve the attributes
applied by the <code>org-todo</code> face (in case there is a difference between
the two):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-todo-keyword-faces
      '(("MEET" . (:inherit (bold org-todo)))
        ("STUDY" . (:inherit (warning org-todo)))
        ("WRITE" . (:inherit (shadow org-todo)))))
</pre>
</div>

<p>
This will refashion the keywords you specify, while letting the other
items in <code>org-todo-keywords</code> use their original styles, which are
defined in the <code>org-todo</code> and <code>org-done</code> faces.
</p>

<p>
If you want back the defaults, try specifying just the <code>org-todo</code> face:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-todo-keyword-faces
      '(("MEET" . org-todo)
        ("STUDY" . org-todo)
        ("WRITE" . org-todo)))
</pre>
</div>

<p>
Or set <code>org-todo-keyword-faces</code> to <code>nil</code>.
</p>

<p>
When you inherit from multiple faces, you need to do it the way it is
shown further above.  The order is significant: the first entry is
applied on top of the second, overriding any attributes that are
explicitly set for both of them: any attribute that is not specified
is not overridden, so, for example, if <code>org-todo</code> has a background and
a foreground, while <code>font-lock-type-face</code> only has a foreground, the
merged face will include the background of the former and the
foreground of the latter.  If you do not want to blend multiple faces,
you only specify one by name without parentheses or an <code>:inherit</code>
keyword.  A pattern of <code>keyword . face</code> will suffice.
</p>

<p>
Both approaches can be used simultaneously, as illustrated in this
configuration of the priority cookies:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-priority-faces
      '((?A . (:inherit (bold org-priority)))
        (?B . org-priority)
        (?C . (:inherit (shadow org-priority)))))
</pre>
</div>

<p>
To find all the faces that are loaded in your current Emacs session, use
M-x list-faces-display.  Try M-x describe-variable as well and
then specify the name of each of those Org variables demonstrated above.
Their documentation strings will offer you further guidance.
</p>

<p>
Recall that the themes let you retrieve a color from their palette.  Do
it if you plan to control face attributes.
</p>

<p>
<a href="#h:02e25930-e71a-493d-828a-8907fc80f874">Check color combinations</a>.
</p>
</div>
</div>
<div id="outline-container-h:26026302-47f4-4471-9004-9665470e7029" class="outline-3">
<h3 id="h:26026302-47f4-4471-9004-9665470e7029"><span class="section-number-3">8.13.</span> DIY Custom Org emphasis faces</h3>
<div class="outline-text-3" id="text-h:26026302-47f4-4471-9004-9665470e7029">
<p>
Org provides the user option <code>org-emphasis-alist</code> which associates a
character with a face, list of faces, or face attributes.  The default
specification of that variable looks like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-emphasis-alist
      '(("*" bold)
        ("/" italic)
        ("_" underline)
        ("=" org-verbatim verbatim)
        ("~" org-code verbatim)
        ("+" (:strike-through t))))
</pre>
</div>

<p>
With the exception of <code>org-verbatim</code> and <code>org-code</code> faces, everything else
uses the corresponding type of emphasis: a bold typographic weight, or
italicised, underlined, and struck through text.
</p>

<p>
The best way for users to add some extra attributes, such as a
foreground color, is to define their own faces and assign them to the
given emphasis marker/character.
</p>

<p>
This is a custom face that extends the standard <code>bold</code> face with a red
foreground value (so it colorises the text in addition to the bold
weight):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defface my-org-emphasis-bold
  '((default :inherit bold)
    (((class color) (min-colors 88) (background light))
     :foreground "#a60000")
    (((class color) (min-colors 88) (background dark))
     :foreground "#ff8059"))
  "My bold emphasis for Org.")
</pre>
</div>

<p>
This face definition reads as follows:
</p>

<ul class="org-ul">
<li>Always inherit the <code>bold</code> face (<a href="#h:2793a224-2109-4f61-a106-721c57c01375">Configure bold and italic faces</a>).</li>
<li>For versions of Emacs that support at least 88 colors (graphical
Emacs, for example) and use a light background, apply the <code>#a60000</code>
value.</li>
<li>For the same kind of Emacs that has a dark background use the <code>#ff8059</code>
color instead.</li>
</ul>

<p>
Same principle for how to extend <code>italic</code> and <code>underline</code> with, for example,
green and yellow hues, respectively:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defface my-org-emphasis-italic
  '((default :inherit italic)
    (((class color) (min-colors 88) (background light))
     :foreground "#005e00")
    (((class color) (min-colors 88) (background dark))
     :foreground "#44bc44"))
  "My italic emphasis for Org.")

(defface my-org-emphasis-underline
  '((default :inherit underline)
    (((class color) (min-colors 88) (background light))
     :foreground "#813e00")
    (((class color) (min-colors 88) (background dark))
     :foreground "#d0bc00"))
  "My underline emphasis for Org.")
</pre>
</div>

<p>
In the case of a strike-through effect, we have no generic face to
inherit from, so we can write it as follows to also change the
foreground to a more subtle gray:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defface my-org-emphasis-strike-through
  '((default :strike-through t)
    (((class color) (min-colors 88) (background light))
     :foreground "#505050")
    (((class color) (min-colors 88) (background dark))
     :foreground "#a8a8a8"))
  "My strike-through emphasis for Org.")
</pre>
</div>

<p>
Or we can just change the color of the line that strikes through the
text to, for example, a shade of red:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defface my-org-emphasis-strike-through
  '((((class color) (min-colors 88) (background light))
     :strike-through "#972500")
    (((class color) (min-colors 88) (background dark))
     :strike-through "#ef8b50"))
  "My strike-through emphasis for Org.")
</pre>
</div>

<p>
It is possible to combine those effects:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defface my-org-emphasis-strike-through
  '((((class color) (min-colors 88) (background light))
     :strike-through "#972500" :foreground "#505050")
    (((class color) (min-colors 88) (background dark))
     :strike-through "#ef8b50" :foreground "#a8a8a8"))
  "My strike-through emphasis for Org.")
</pre>
</div>

<p>
One may inspect the variables <code>modus-themes-operandi-colors</code> and
<code>modus-themes-vivendi-colors</code> for possible color values.  Or call the
command <code>modus-themes-list-colors</code> to show a buffer that previews each
entry in the palette.
</p>

<p>
<a href="#h:f4d4b71b-2ca5-4c3d-b0b4-9bfd7aa7fb4d">Visualize the active Modus theme&rsquo;s palette</a>.
</p>

<p>
Once we have defined the faces we need, we must update the
<code>org-emphasis-alist</code>.  Given that <code>org-verbatim</code> and <code>org-code</code> are already
styled by the themes, it probably is best not to edit them:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-emphasis-alist
      '(("*" my-org-emphasis-bold)
        ("/" my-org-emphasis-italic)
        ("_" my-org-emphasis-underline)
        ("=" org-verbatim verbatim)
        ("~" org-code verbatim)
        ("+" my-org-emphasis-strike-through)))
</pre>
</div>

<p>
That&rsquo;s it!  For changes to take effect in already visited Org files,
invoke M-x org-mode-restart.
</p>
</div>
</div>
<div id="outline-container-h:8c842804-43b7-4287-b4e9-8c07d04d1f89" class="outline-3">
<h3 id="h:8c842804-43b7-4287-b4e9-8c07d04d1f89"><span class="section-number-3">8.14.</span> DIY Use colored Org source blocks per language</h3>
<div class="outline-text-3" id="text-h:8c842804-43b7-4287-b4e9-8c07d04d1f89">
<p>
<a href="#h:f44cc6e3-b0f1-4a5e-8a90-9e48fa557b50">DIY Make Org block colors more or less colorful</a>.
</p>

<p>
In versions of the Modus themes before <code>4.4.0</code> there was an option to
change the coloration of Org source blocks so that certain languages
would have a distinctly colored background. This was not flexible
enough, because (i) we cannot cover all languages effectively and (ii)
the user had no choice over the <code>language --&gt; color</code> mapping.
</p>

<p>
As such, the old user option is no more. Users can use the following
to achieve what they want:
</p>

<p>
[ All this is done by setting the Org user option <code>org-src-block-faces</code>,
  so it is not related to the palette overrides mechanism provided by
  the Modus themes. ]
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-org-block-faces (&amp;rest _)
  (modus-themes-with-colors
    ;; The `org-src-block-faces' does not get re-applied in existing
    ;; Org buffers.  Do M-x org-mode-restart for changes to take
    ;; effect.
    (setq org-src-block-faces
          `(("emacs-lisp" modus-themes-nuanced-magenta)
            ("elisp" modus-themes-nuanced-magenta)
            ("clojure" modus-themes-nuanced-magenta)
            ("clojurescript" modus-themes-nuanced-magenta)
            ("c" modus-themes-nuanced-blue)
            ("c++" modus-themes-nuanced-blue)
            ("sh" modus-themes-nuanced-yellow)
            ("shell" modus-themes-nuanced-yellow)
            ("python" modus-themes-nuanced-yellow)
            ("ipython" modus-themes-nuanced-yellow)
            ("r" modus-themes-nuanced-yellow)
            ("html" modus-themes-nuanced-green)
            ("xml" modus-themes-nuanced-green)
            ("css" modus-themes-nuanced-red)
            ("scss" modus-themes-nuanced-red)
            ("yaml" modus-themes-nuanced-cyan)
            ("conf" modus-themes-nuanced-cyan)
            ("docker" modus-themes-nuanced-cyan)))))

(add-hook 'modus-themes-after-load-theme-hook #'my-modus-themes-org-block-faces)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">DIY Use a hook at the post-load-theme phase</a>.
</p>

<p>
Note that the <code>org-src-block-faces</code> accepts a named face, as shown
above, as well as a list of face attributes. The latter approach is
not good enough because it hardcodes values in such a way that an
<code>org-mode-restart</code> is necessary. Whereas the indirection of the named
face lets the theme change the values while Org buffers continue to
show the right colors.
</p>

<p>
Still, if a user prefers to hardcode face attributes, here is the
idea:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; This is for the sake of completeness.  I DO NOT RECOMMEND THIS
;; method because it hardcodes values and thus requires
;; `org-mode-restart' every time you change a theme.
(defun my-modus-themes-org-block-faces (&amp;rest _)
  (modus-themes-with-colors
    (setq org-src-block-faces
          `(("emacs-lisp" (:inherit org-block :background ,bg-magenta-nuanced))
            ("elisp" (:inherit org-block :background ,bg-magenta-nuanced))
            ("clojure" (:inherit org-block :background ,bg-magenta-nuanced))
            ("clojurescript" (:inherit org-block :background ,bg-magenta-nuanced))
            ("c" (:inherit org-block :background ,bg-blue-nuanced))
            ("c++" (:inherit org-block :background ,bg-blue-nuanced))
            ("sh" (:inherit org-block :background ,bg-yellow-nuanced))
            ("shell" (:inherit org-block :background ,bg-yellow-nuanced))
            ("python" (:inherit org-block :background ,bg-yellow-nuanced))
            ("ipython" (:inherit org-block :background ,bg-yellow-nuanced))
            ("r" (:inherit org-block :background ,bg-yellow-nuanced))
            ("html" (:inherit org-block :background ,bg-green-nuanced))
            ("xml" (:inherit org-block :background ,bg-green-nuanced))
            ("css" (:inherit org-block :background ,bg-red-nuanced))
            ("scss" (:inherit org-block :background ,bg-red-nuanced))
            ("yaml" (:inherit org-block :background ,bg-cyan-nuanced))
            ("conf" (:inherit org-block :background ,bg-cyan-nuanced))
            ("docker" (:inherit org-block :background ,bg-cyan-nuanced))))))

(add-hook 'modus-themes-after-load-theme-hook #'my-modus-themes-org-block-faces)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:02e25930-e71a-493d-828a-8907fc80f874" class="outline-3">
<h3 id="h:02e25930-e71a-493d-828a-8907fc80f874"><span class="section-number-3">8.15.</span> DIY Measure color contrast</h3>
<div class="outline-text-3" id="text-h:02e25930-e71a-493d-828a-8907fc80f874">
<p>
The themes provide the functions <code>modus-themes-wcag-formula</code> and
<code>modus-themes-contrast</code>.  The former is a direct implementation of the
WCAG formula: <a href="https://www.w3.org/TR/WCAG20-TECHS/G18.html">https://www.w3.org/TR/WCAG20-TECHS/G18.html</a>.  It
calculates the relative luminance of a color value that is expressed in
hexadecimal RGB notation.  While the latter function is just a
convenient wrapper for comparing the relative luminance between two
colors.
</p>

<p>
In practice, one needs to work only with <code>modus-themes-contrast</code>.  It
accepts two color values and returns their contrast ratio.  Values range
from 1 to 21 (lowest to highest).  The themes are designed to always be
equal or higher than 7 for each combination of background and foreground
that they use (this is the WCAG AAA standard&#x2014;the most demanding of its
kind).
</p>

<p>
A couple of examples (rounded numbers):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Pure white with pure green
(modus-themes-contrast "#ffffff" "#00ff00")
;; =&gt; 1.37
;; That is an outright inaccessible combo

;; Pure black with pure green
(modus-themes-contrast "#000000" "#00ff00")
;; =&gt; 15.3
;; That is a highly accessible combo
</pre>
</div>

<p>
It does not matter which color value comes first.  The ratio is always
the same.
</p>

<p>
If one does not wish to read all the decimal points, it is possible to
try something like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(format "%0.2f" (modus-themes-contrast "#000000" "#00ff00"))
</pre>
</div>

<p>
While it is fine to perform such calculations on a case-by-case basis,
it is preferable to implement formulas and tables for more demanding
tasks.  Such instruments are provided by <code>org-mode</code> or <code>orgtbl-mode</code>, both
of which are built into Emacs.  Below is such a table that derives the
contrast ratio of all colors in the first column (pure red, green, blue)
relative to the color specified in the first row of the second column
(pure white) and rounds the results:
</p>

<pre class="example" id="orgf0a5fc2">
|         | #ffffff |
|---------+---------|
| #ff0000 |    4.00 |
| #00ff00 |    1.37 |
| #0000ff |    8.59 |
#+tblfm: $2='(modus-themes-contrast $1 @1$2);%0.2f
</pre>

<p>
To measure color contrast one needs to start from a known value.  This
typically is the background.  The Modus themes define an expanded
palette in large part because certain colors are only meant to be used
in combination with some others.  Consult the source code for the
minutia and relevant commentary.
</p>

<p>
Such knowledge may prove valuable while attempting to customize the
theme&rsquo;s color palette.
</p>
</div>
</div>
<div id="outline-container-h:1d1ef4b4-8600-4a09-993c-6de3af0ddd26" class="outline-3">
<h3 id="h:1d1ef4b4-8600-4a09-993c-6de3af0ddd26"><span class="section-number-3">8.16.</span> DIY Load theme depending on time of day</h3>
<div class="outline-text-3" id="text-h:1d1ef4b4-8600-4a09-993c-6de3af0ddd26">
<p>
While we do provide <code>modus-themes-toggle</code> to manually switch between the
themes, users may also set up their system to perform such a task
automatically at sunrise and sunset.
</p>

<p>
This can be accomplished by specifying the coordinates of one&rsquo;s
location using the built-in solar.el and then configuring
the <code>circadian</code> package:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package solar                      ; built-in
  :config
  (setq calendar-latitude 35.17
        calendar-longitude 33.36))

(use-package circadian                  ; you need to install this
  :ensure t
  :after solar
  :config
  (setq circadian-themes '((:sunrise . modus-operandi)
                           (:sunset  . modus-vivendi)))
  (circadian-setup))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ff69dfe1-29c0-447a-915c-b5ff7c5509cd" class="outline-3">
<h3 id="h:ff69dfe1-29c0-447a-915c-b5ff7c5509cd"><span class="section-number-3">8.17.</span> DIY Backdrop for pdf-tools</h3>
<div class="outline-text-3" id="text-h:ff69dfe1-29c0-447a-915c-b5ff7c5509cd">
<p>
Most PDF files use a white background for their page, making it
impossible to discern the file&rsquo;s boundaries in the buffer while using
the Modus Operandi theme.  To introduce a distinction between the
buffer&rsquo;s backdrop and the PDF page&rsquo;s background, the former must be
rendered as some shade of gray.  Ideally, <code>pdf-tools</code> would provide a face
that the themes could support directly, though this does not seem to be
the case for the time being.  We must thus employ the face remapping
technique that is documented elsewhere in this document to change the
buffer-local value of the <code>default</code> face.
</p>

<p>
<a href="#h:7a93cb6f-4eca-4d56-a85c-9dcd813d6b0f">Remap face with local value</a>.
</p>

<p>
To remap the buffer&rsquo;s backdrop, we start with a function like this one:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-pdf-tools-backdrop (&amp;rest _)
  (modus-themes-with-colors
    (face-remap-add-relative
     'default
     `(:background ,bg-dim))))

(add-hook 'pdf-tools-enabled-hook #'my-pdf-tools-backdrop)
</pre>
</div>

<p>
The idea is to assign that function to a hook that gets called when
<code>pdf-tools</code> renders the document: <code>pdf-tools-enabled-hook</code>.  This is enough
when you only use one theme.  However it has the downside of setting the
background color value only at render time.  In other words, the face
remapping function does not get evaluated anew whenever the theme
changes, such as upon invoking M-x modus-themes-toggle
(<a href="#h:4fbfed66-5a89-447a-a07d-a03f6819c5bd">Option for which themes to toggle</a>).
</p>

<p>
To have our face remapping adapt gracefully while switching between the
Modus themes, we need to also account for the current theme and control
the activation of <code>pdf-view-midnight-minor-mode</code>.  To which end we arrive
at something like the following, which builds on the above example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-pdf-tools-backdrop (&amp;rest _)
  (modus-themes-with-colors
    (face-remap-add-relative
     'default
     `(:background ,bg-dim))))

(defun my-pdf-tools-midnight-mode-toggle (&amp;rest _)
  (when (derived-mode-p 'pdf-view-mode)
    (if (eq (car custom-enabled-themes) 'modus-vivendi)
        (pdf-view-midnight-minor-mode 1)
      (pdf-view-midnight-minor-mode -1))
    (my-pdf-tools-backdrop)))

(defun my-pdf-tools-themes-toggle (&amp;rest _)
  (mapc
   (lambda (buf)
     (with-current-buffer buf
       (my-pdf-tools-midnight-mode-toggle)))
   (buffer-list)))

(add-hook 'pdf-tools-enabled-hook #'my-pdf-tools-midnight-mode-toggle)
(add-hook 'modus-themes-after-load-theme-hook #'my-pdf-tools-themes-toggle)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>

<p>
With those in place, PDFs have a distinct backdrop for their page, while
buffers with major-mode as <code>pdf-view-mode</code> automatically switches to dark
mode when <code>modus-themes-toggle</code> is called.
</p>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:b40aca50-a3b2-4c43-be58-2c26fcd14237" class="outline-3">
<h3 id="h:b40aca50-a3b2-4c43-be58-2c26fcd14237"><span class="section-number-3">8.18.</span> DIY Toggle themes without reloading them</h3>
<div class="outline-text-3" id="text-h:b40aca50-a3b2-4c43-be58-2c26fcd14237">
<p>
Users who have a stable setup and who only ever need to toggle between
the themes without triggering a full reload, are better off defining
their own command which calls <code>enable-theme</code> instead of <code>load-theme</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-toggle ()
  "Toggle between `modus-operandi' and `modus-vivendi' themes.
This uses `enable-theme' instead of the standard method of
`load-theme'.  The technicalities are covered in the Modus themes
manual."
  (interactive)
  (pcase (modus-themes--current-theme)
    ('modus-operandi (progn (enable-theme 'modus-vivendi)
                            (disable-theme 'modus-operandi)))
    ('modus-vivendi (progn (enable-theme 'modus-operandi)
                            (disable-theme 'modus-vivendi)))
    (_ (error "No Modus theme is loaded; evaluate `modus-themes-load-themes' first"))))
</pre>
</div>

<p>
<a href="#h:e68560b3-7fb0-42bc-a151-e015948f8a35">Differences between loading and enabling</a>.
</p>

<p>
Recall that <code>modus-themes-toggle</code> uses <code>load-theme</code>.
</p>
</div>
</div>
<div id="outline-container-h:43bcb5d0-e25f-470f-828c-662cee9e21f1" class="outline-3">
<h3 id="h:43bcb5d0-e25f-470f-828c-662cee9e21f1"><span class="section-number-3">8.19.</span> DIY Use more spacious margins or padding in Emacs frames</h3>
<div class="outline-text-3" id="text-h:43bcb5d0-e25f-470f-828c-662cee9e21f1">
<p>
[ UPDATE 2023-06-25: Instead of following these instructions, you can
  simply install my <code>spacious-padding</code> package from GNU ELPA.  It
  implements the padding and provides relevant user options. ]
</p>

<p>
By default, Emacs frames try to maximize the number of characters that
fit in the current visible portion of the buffer.  Users may prefer to
have some extra padding instead.  This can make Emacs frames look more
pleasant, but also make it easier to identify the currently active
window.
</p>

<p>
The way to implement such padding is two-fold:
</p>

<ol class="org-ol">
<li>In the <code>early-init.el</code> file instruct Emacs to use a higher value
for the <code>internal-border-width</code> of all frames, as well as for the
<code>right-divider-width</code>.  The former concerns the outer boundaries of
Emacs frames, while the latter pertains to dividers between Emacs
windows.</li>

<li>Make the relevant faces invisible by changing the value of their
relevant attributes to that of the current theme&rsquo;s main background.</li>
</ol>

<p>
The parameters of Emacs frames are specified in the variables
<code>initial-frame-alist</code> and <code>default-frame-alist</code>.  The &ldquo;initial frame&rdquo;
refers to the first frame that appears on Emacs startup.  The
&ldquo;default&rdquo; refers to the fallback values that apply to all other frames
that Emacs creates (unless those are explicitly overridden by a
bespoke <code>make-frame</code> call).
</p>

<p>
In detail, first we use the same values for the two frame alist variables:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; This must go in the early-init.el so that it applies to the initial
;; frame.
(dolist (var '(default-frame-alist initial-frame-alist))
  (add-to-list var '(right-divider-width . 20))
  (add-to-list var '(internal-border-width . 20)))
</pre>
</div>

<p>
What the <code>dolist</code> does is to call <code>add-to-list</code> for the two variables
we specify there.  This economizes on typing.
</p>

<p>
Then we define a function that makes the relevant faces invisible.
The reason we do this with a function is so we can hook it to the
&ldquo;post load&rdquo; phase of a theme, thus applying the new background value
(otherwise you keep the old background, which likely means that the
faces will no longer be invisible).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-invisible-dividers (&amp;rest _)
  "Make window dividers invisible.
Add this to the `modus-themes-post-load-hook'."
  (let ((bg (face-background 'default)))
    (custom-set-faces
     `(fringe ((t :background ,bg :foreground ,bg)))
     `(window-divider ((t :background ,bg :foreground ,bg)))
     `(window-divider-first-pixel ((t :background ,bg :foreground ,bg)))
     `(window-divider-last-pixel ((t :background ,bg :foreground ,bg))))))

(add-hook 'modus-themes-post-load-hook #'my-modus-themes-invisible-dividers)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>

<p>
The above will work only for themes that belong to the Modus family.
For users of Emacs version 29 or higher, there exists a theme-agnostic
hook that takes a function with one argument&#x2014;that of the theme&#x2014;and
calls in the the &ldquo;post enable&rdquo; phase of theme loading.  Here is the
above snippet, with the necessary tweaks:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-invisible-dividers (&amp;rest _)
  "Make window dividers for THEME invisible."
  (let ((bg (face-background 'default)))
    (custom-set-faces
     `(fringe ((t :background ,bg :foreground ,bg)))
     `(window-divider ((t :background ,bg :foreground ,bg)))
     `(window-divider-first-pixel ((t :background ,bg :foreground ,bg)))
     `(window-divider-last-pixel ((t :background ,bg :foreground ,bg))))))

(add-hook 'enable-theme-functions #'my-modus-themes-invisible-dividers)
</pre>
</div>

<p>
Users of older versions of Emacs can read the entry herein about
defining their own theme-agnostic hook (<a href="#h:86f6906b-f090-46cc-9816-1fe8aeb38776">A theme-agnostic hook for theme loading</a>).
</p>
</div>
</div>
<div id="outline-container-h:2ef83a21-2f0a-441e-9634-473feb940743" class="outline-3">
<h3 id="h:2ef83a21-2f0a-441e-9634-473feb940743"><span class="section-number-3">8.20.</span> DIY Custom hl-todo colors</h3>
<div class="outline-text-3" id="text-h:2ef83a21-2f0a-441e-9634-473feb940743">
<p>
The <code>hl-todo</code> package provides the user option
<code>hl-todo-keyword-faces</code>: it specifies a pair of keyword and
corresponding color value.  The Modus themes configure that option in
the interest of legibility.  While this works for our purposes, users
may still prefer to apply their custom values, in which case the
following approach is necessary:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-hl-todo-faces (&amp;rest _)
  (setq hl-todo-keyword-faces '(("TODO" . "#ff0000")
                                ("HACK" . "#ffff00")
                                ("XXX" . "#00ffff")
                                ("NOTE" . "#ff00ff"))))

(add-hook 'modus-themes-after-load-theme-hook #'my-modus-themes-hl-todo-faces)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>

<p>
Or include a <code>let</code> form, if needed:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-hl-todo-faces (&amp;rest _)
  (let ((red "#ff0000")
        (blue "#0000ff"))
    (setq hl-todo-keyword-faces `(("TODO" . ,blue)
                                  ("HACK" . ,red)
                                  ("XXX" . ,red)
                                  ("NOTE" . ,blue)))))

(add-hook 'modus-themes-after-load-theme-hook #'my-modus-themes-hl-todo-faces)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>

<p>
Normally, we do not touch user options, though this is an exception:
otherwise the defaults are not always legible.
</p>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:439c9e46-52e2-46be-b1dc-85841dd99671" class="outline-3">
<h3 id="h:439c9e46-52e2-46be-b1dc-85841dd99671"><span class="section-number-3">8.21.</span> DIY Add support for solaire-mode</h3>
<div class="outline-text-3" id="text-h:439c9e46-52e2-46be-b1dc-85841dd99671">
<p>
The <code>solaire-mode</code> package dims the background of what it considers
ancillary &ldquo;UI&rdquo; buffers, such as the minibuffer and Dired buffers.  The
Modus themes used to support Solaire on the premise that the user was
(i) opting in to it, (ii) understood why certain buffers were more gray,
and (iii) knew what other adjustments had to be made to prevent broken
visuals (e.g. the default style of the <code>modus-themes-completions</code> uses a
subtle gray background for the selection, which with Solaire becomes
practically invisible).
</p>

<p>
However, the assumption that users opt in to this feature does not
always hold true.  There are cases where it is enabled by defaultsuch as
in the popular Doom Emacs configuration.  Thus, the unsuspecting user
who loads <code>modus-operandi</code> or <code>modus-vivendi</code> without the requisite
customizations is getting a sub-par experience; an experience that we
did not intend and cannot genuinely fix.
</p>

<p>
Because the Modus themes are meant to work everywhere, we cannot make an
exception for Doom Emacs and/or Solaire users.  Furthermore, we shall
not introduce hacks, such as by adding a check in all relevant faces to
be adjusted based on Solaire or whatever other package.  Hacks of this
sort are unsustainable and penalize the entire userbase.  Besides, the
themes are built into Emacs and we must keep their standard high.
</p>

<p>
The fundamental constraint with Solaire is that Emacs does not have a
real distinction between &ldquo;content&rdquo; and &ldquo;UI&rdquo; buffers.  For themes to work
with Solaire, they need to be designed around that package.  Such is an
arrangement that compromises on our accessibility standards and/or
hinders our efforts to provide the best possible experience while using
the Modus themes.
</p>

<p>
As such, <code>solaire-mode</code> is not&#x2014;and will not be&#x2014;supported by the
Modus themes (or any other of my themes, for that matter).  Users who
want it must style the faces manually.  Below is some sample code, based
on what we cover at length elsewhere in this manual:
</p>

<p>
<a href="#h:f4651d55-8c07-46aa-b52b-bed1e53463bb">Advanced customization</a>.
</p>

<p>
<a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with modus-themes-with-colors</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-custom-faces (&amp;rest _)
  (modus-themes-with-colors
    (custom-set-faces
     `(solaire-default-face ((,c :inherit default :background ,bg-dim :foreground ,fg-dim)))
     `(solaire-line-number-face ((,c :inherit solaire-default-face :foreground ,fg-dim)))
     `(solaire-hl-line-face ((,c :background ,bg-active)))
     `(solaire-org-hide-face ((,c :background ,bg-dim :foreground ,bg-dim))))))

(add-hook 'modus-themes-after-load-theme-hook #'my-modus-themes-custom-faces)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>

<p>
Reload the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:caa5a5c4-18fb-4b9f-91f9-883f216fce41" class="outline-3">
<h3 id="h:caa5a5c4-18fb-4b9f-91f9-883f216fce41"><span class="section-number-3">8.22.</span> DIY Add support for meow-mode</h3>
<div class="outline-text-3" id="text-h:caa5a5c4-18fb-4b9f-91f9-883f216fce41">
<p>
The <code>meow</code> package provides a modal editing experience. It is meant to
build on top of the key bindings the user is already familiar with. My
problem as an outsider is that I cannot make sense of all the contexts
where its faces are used in, so I cannot make a good choice of which
styles to use. The following is but a basic attempt to get started.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; This is not complete, because it is difficult for a non-user to
;; make sense of where all the faces are used in.
(defun my-modus-themes-custom-faces (&amp;rest _)
  (modus-themes-with-colors
    (custom-set-faces
     ;; FIXME: What is a "region cursor" and should it differ from the position highlights below?
     `(meow-region-cursor-1 ((,c :inherit (bold modus-themes-search-current modus-themes-reset-soft))))
     `(meow-region-cursor-2 ((,c :inherit (bold modus-themes-search-current modus-themes-reset-soft))))
     `(meow-region-cursor-3 ((,c :inherit (bold modus-themes-search-current modus-themes-reset-soft))))

     `(meow-position-highlight-number-1 ((,c :inherit (bold modus-themes-search-current modus-themes-reset-soft))))
     `(meow-position-highlight-number-2 ((,c :inherit (bold modus-themes-search-current modus-themes-reset-soft))))
     `(meow-position-highlight-number-3 ((,c :inherit (bold modus-themes-search-current modus-themes-reset-soft)))))))

(add-hook 'enable-theme-functions #'my-modus-themes-custom-faces)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>
</div>
</div>
<div id="outline-container-h:e94bdd17-1c2d-41b5-86c5-83462bd8f30c" class="outline-3">
<h3 id="h:e94bdd17-1c2d-41b5-86c5-83462bd8f30c"><span class="section-number-3">8.23.</span> DIY Add support for combobulate</h3>
<div class="outline-text-3" id="text-h:e94bdd17-1c2d-41b5-86c5-83462bd8f30c">
<p>
The <code>combobulate</code> package provides the means to operate on text that
is underpinned by the <code>tree-sitter</code> program. Because this is a
specialized case that requires intimate knowledge of the
technicalities, I am not adding support for this package directly at
the theme level. Users can try this instead:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-custom-faces (&amp;rest _)
  (modus-themes-with-colors
    (custom-set-faces
     `(combobulate-active-indicator-face ((,c :foreground ,fg-main)))
     `(combobulate-dimmed-indicator-face ((,c :inherit shadow)))
     `(combobulate-error-indicator-face ((,c :inherit error)))
     `(combobulate-query-highlight-fiery-flames-face ((,c :inherit modus-themes-intense-red)))
     `(combobulate-query-highlight-gleaming-gold-face ((,c :inherit modus-themes-intense-yellow)))
     `(combobulate-query-highlight-majestic-mercury-face ((,c :inherit modus-themes-intense-cyan)))
     `(combobulate-query-highlight-mysterious-mauve-face ((,c :inherit modus-themes-intense-magenta)))
     `(combobulate-query-highlight-radiant-rind-face ((,c :inherit modus-themes-subtle-red)))
     `(combobulate-query-highlight-regal-ripples-face ((,c :inherit modus-themes-intense-blue)))
     `(combobulate-query-highlight-serene-shade-face ((,c :inherit modus-themes-subtle-green)))
     `(combobulate-query-highlight-silver-shadows-face ((,c :background ,bg-active :foreground ,fg-main)))
     `(combobulate-query-highlight-vibrant-veggie-face ((,c :inherit modus-themes-intense-green)))
     `(combobulate-query-query-anonymous-face ((,c :inherit modus-themes-bold :foreground ,fg-alt)))
     `(combobulate-query-query-builtin-face ((,c :inherit font-lock-builtin-face)))
     `(combobulate-query-query-constant-face ((,c :inherit font-lock-constant-face)))
     `(combobulate-query-query-doc-markup-face ((,c :inherit font-lock-doc-markup-face)))
     `(combobulate-query-query-keyword-face ((,c :inherit font-lock-keyword-face)))
     `(combobulate-query-query-predicate-builtin-face ((,c :inherit bold)))
     `(combobulate-query-query-string-face ((,c :inherit font-lock-string-face)))
     `(combobulate-refactor-choice-face ((,c :inherit modus-themes-slant :foreground ,info)))
     `(combobulate-refactor-cursor-face ((,c :foreground ,cursor)))
     `(combobulate-refactor-field-face ((,c :background ,bg-inactive :foreground ,fg-main :extend nil)))
     `(combobulate-refactor-highlight-face ((,c :inherit highlight)))
     `(combobulate-refactor-inactive-choice-face ((,c :inherit modus-themes-slant :foreground ,fg-dim)))
     `(combobulate-refactor-inactive-field-face ((,c :background ,bg-dim :foreground ,fg-dim :extend nil)))
     `(combobulate-refactor-label-face ((,c :inherit modus-themes-search-replace)))
     `(combobulate-tree-branch-face ((,c :inherit shadow)))
     `(combobulate-tree-highlighted-node-face ((,c :inherit success)))
     `(combobulate-tree-normal-node-face ((,c :foreground ,fg-main)))
     `(combobulate-tree-pulse-node-face ((,c :background ,bg-blue-intense :extend t))))))

(add-hook 'enable-theme-functions #'my-modus-themes-custom-faces)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>
</div>
</div>
<div id="outline-container-h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24" class="outline-3">
<h3 id="h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24"><span class="section-number-3">8.24.</span> DIY Use a hook at the post-load-theme phase</h3>
<div class="outline-text-3" id="text-h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">
<p>
Many of the Do-It-Yourself (DIY) snippets provided herein make use of
a hook to apply the desired changes. In most examples, this hook is
the <code>modus-themes-after-load-theme-hook</code> (alias <code>modus-themes-post-load-hook</code>).
This hook is provided by the Modus themes and is called at the end of
one the following:
</p>

<dl class="org-dl">
<dt>Command <code>modus-themes-toggle</code></dt><dd><a href="#h:4fbfed66-5a89-447a-a07d-a03f6819c5bd">Option for which themes to toggle</a>.</dd>

<dt>Command <code>modus-themes-select</code></dt><dd>Select a Modus theme using minibuffer
completion and then load it.</dd>

<dt>Function <code>modus-themes-load-theme</code></dt><dd>Called only from Lisp, such as
in the user&rsquo;s init file, with the quoted symbol of a Modus theme as
an argument (<a href="#h:adb0c49a-f1f9-4690-868b-013a080eed68">Option for disabling other themes while loading Modus</a>).
This function is used internally by <code>modus-themes-toggle</code> and
<code>modus-themes-select</code>.</dd>
</dl>

<p>
Users who switch between themes that are not limited to the Modus
collection cannot benefit from the aforementioned hook: it only works
with the Modus themes. A theme-agnostic hook is needed in such a case.
Before Emacs 29, this had to be set up manually (<a href="#h:86f6906b-f090-46cc-9816-1fe8aeb38776">DIY A theme-agnostic hook for theme loading</a>).
Starting with Emacs 29, the special hook <code>enable-theme-functions</code>
works with anything that uses the basic <code>enable-theme</code> function.
</p>

<p>
To use the <code>enable-theme-functions</code> just add the given function to it
the way it is done with every hook:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'enable-theme-functions 'MY-FUNCTION-HERE)
</pre>
</div>

<p>
Functions added to <code>enable-theme-functions</code> accept a single <code>THEME</code>
argument. The examples shown in this manual use the pattern <code>(&amp;rest
_)</code>, which is how a function accepts one or more arguments but
declares it will not use them (in plain terms, the code works with or
without <code>enable-theme-functions</code>).
</p>
</div>
<div id="outline-container-h:86f6906b-f090-46cc-9816-1fe8aeb38776" class="outline-4">
<h4 id="h:86f6906b-f090-46cc-9816-1fe8aeb38776"><span class="section-number-4">8.24.1.</span> DIY A theme-agnostic hook for theme loading</h4>
<div class="outline-text-4" id="text-h:86f6906b-f090-46cc-9816-1fe8aeb38776">
<p>
[ NOTE: The following is for versions of Emacs before 29. For Emacs 29
  or higher, users can rely on the built-in <code>enable-theme-functions</code>
  (<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>). ]
</p>

<p>
The themes are designed with the intent to be useful to Emacs users of
varying skill levels, from beginners to experts.  This means that we try
to make things easier by not expecting anyone reading this document to
be proficient in Emacs Lisp or programming in general.
</p>

<p>
Such a case is with the use of <code>modus-themes-after-load-theme-hook</code>,
which runs after the <code>modus-themes-load-theme</code> function (used by the
command <code>modus-themes-toggle</code>).  We recommend using that hook for
advanced customizations, because (1) we know for sure that it is
available once the themes are loaded, and (2) anyone consulting this
manual, especially the sections on enabling and loading the themes,
will be in a good position to benefit from that hook.
</p>

<p>
Advanced users who have a need to switch between the Modus themes and
other items will find that such a hook does not meet their requirements:
it only works with the Modus themes and only with the aforementioned
functions.
</p>

<p>
A theme-agnostic setup can be configured thus:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar after-enable-theme-hook nil
   "Normal hook run after enabling a theme.")

(defun run-after-enable-theme-hook (&amp;rest _args)
   "Run `after-enable-theme-hook'."
   (run-hooks 'after-enable-theme-hook))

(advice-add 'enable-theme :after #'run-after-enable-theme-hook)
</pre>
</div>

<p>
This creates the <code>after-enable-theme-hook</code> and makes it run after each
call to <code>enable-theme</code>, which means that it will work for all themes and
also has the benefit that it does not depend on functions such as
<code>modus-themes-toggle</code> and the others mentioned above.  <code>enable-theme</code> is
called internally by <code>load-theme</code>, so the hook works everywhere.
</p>

<p>
The downside of the theme-agnostic hook is that any functions added to
it will likely not be able to benefit from macro calls that read the
active theme, such as <code>modus-themes-with-colors</code>.  Not all Emacs
themes have the same capabilities.
</p>

<p>
In this document, we cover <code>modus-themes-after-load-theme-hook</code> though
the user can replace it with <code>after-enable-theme-hook</code> should they
need to (provided they understand the implications).
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-h:a9c8f29d-7f72-4b54-b74b-ddefe15d6a19" class="outline-2">
<h2 id="h:a9c8f29d-7f72-4b54-b74b-ddefe15d6a19"><span class="section-number-2">9.</span> Face coverage</h2>
<div class="outline-text-2" id="text-h:a9c8f29d-7f72-4b54-b74b-ddefe15d6a19">
<p>
The Modus themes try to provide as close to full face coverage as
possible.  This is necessary to ensure a consistently accessible reading
experience across all available interfaces.
</p>
</div>
<div id="outline-container-h:60ed4275-60d6-49f8-9287-9a64e54bea0e" class="outline-3">
<h3 id="h:60ed4275-60d6-49f8-9287-9a64e54bea0e"><span class="section-number-3">9.1.</span> Full support for packages or face groups</h3>
<div class="outline-text-3" id="text-h:60ed4275-60d6-49f8-9287-9a64e54bea0e">
<p>
This list will always be updated to reflect the current state of the
project.  The idea is to offer an overview of the known status of all
affected face groups.  The items with an appended asterisk <code>*</code> tend to
have lots of extensions, so the &ldquo;full support&rdquo; may not be 100% true…
</p>

<ul class="org-ul">
<li>abbrev</li>
<li>ace-window</li>
<li>agda2-mode</li>
<li>all-the-icons</li>
<li>all-the-icons-dired</li>
<li>all-the-icons-ibuffer</li>
<li>annotate</li>
<li>ansi-color</li>
<li>anzu</li>
<li>auctex and TeX</li>
<li>auto-dim-other-buffers</li>
<li>avy</li>
<li>bbdb</li>
<li>binder</li>
<li>breadcrumb</li>
<li>bongo</li>
<li>boon</li>
<li>bookmark</li>
<li>calendar and diary</li>
<li>centaur-tabs</li>
<li>change-log and log-view (such as <code>vc-print-log</code>, <code>vc-print-root-log</code>)</li>
<li>chart</li>
<li>cider</li>
<li>circe</li>
<li>citar</li>
<li>clojure-mode</li>
<li>column-enforce-mode</li>
<li>company-mode*</li>
<li>compilation-mode</li>
<li>completions</li>
<li>consult</li>
<li>corfu</li>
<li>corfu-candidate-overlay</li>
<li>corfu-quick</li>
<li>counsel*</li>
<li>cperl-mode</li>
<li>crontab-mode</li>
<li>csv-mode</li>
<li>ctrlf</li>
<li>custom (what you get with M-x customize)</li>
<li>dashboard</li>
<li>deadgrep</li>
<li>debbugs</li>
<li>deft</li>
<li>denote</li>
<li>devdocs</li>
<li>dictionary</li>
<li>diff-hl</li>
<li>diff-mode</li>
<li>dim-autoload</li>
<li>dired</li>
<li>dired-async</li>
<li>dired-git</li>
<li>dired-git-info</li>
<li>dired-narrow</li>
<li>dired-subtree</li>
<li>diredfl</li>
<li>disk-usage</li>
<li>display-fill-column-indicator-mode</li>
<li>doom-modeline</li>
<li>ediff</li>
<li>ein (Emacs IPython Notebook)</li>
<li>eglot</li>
<li>el-search</li>
<li>eldoc-box</li>
<li>elfeed</li>
<li>elfeed-score</li>
<li>elpher</li>
<li>embark</li>
<li>ement</li>
<li>emms</li>
<li>enh-ruby-mode (enhanced-ruby-mode)</li>
<li>epa</li>
<li>erc</li>
<li>ert</li>
<li>erts-mode</li>
<li>eshell</li>
<li>eshell-fringe-status</li>
<li>evil* (evil-mode)</li>
<li>eww</li>
<li>exwm</li>
<li>eyebrowse</li>
<li>flycheck</li>
<li>flycheck-color-mode-line</li>
<li>flycheck-indicator</li>
<li>flymake</li>
<li>flyspell</li>
<li>flx</li>
<li>focus</li>
<li>fold-this</li>
<li>font-lock (generic syntax highlighting)</li>
<li>forge</li>
<li>geiser</li>
<li>git-commit</li>
<li>git-gutter (and variants)</li>
<li>git-rebase</li>
<li>git-timemachine</li>
<li>gnus</li>
<li>gotest</li>
<li>golden-ratio-scroll-screen</li>
<li>helpful</li>
<li>hexl-mode</li>
<li>highlight-numbers</li>
<li>highlight-parentheses (<a href="#h:24bab397-dcb2-421d-aa6e-ec5bd622b913">Note on highlight-parentheses.el</a>)</li>
<li>highlight-thing</li>
<li>hl-fill-column</li>
<li>hl-line-mode</li>
<li>hl-todo</li>
<li>howm</li>
<li>hydra</li>
<li>ibuffer</li>
<li>icomplete</li>
<li>ido-mode</li>
<li>iedit</li>
<li>iflipb</li>
<li>image-dired</li>
<li>imenu-list</li>
<li>indium</li>
<li>info</li>
<li>info+ (info-plus)</li>
<li>info-colors</li>
<li>ioccur</li>
<li>isearch, occur, etc.</li>
<li>ivy*</li>
<li>ivy-posframe</li>
<li>jabber</li>
<li>japanese-holidays</li>
<li>jira (org-jira)</li>
<li>jit-spell</li>
<li>jinx</li>
<li>journalctl-mode</li>
<li>js2-mode</li>
<li>julia</li>
<li>kaocha-runner</li>
<li>keycast</li>
<li>kmacro-menu</li>
<li>ledger-mode</li>
<li>leerzeichen</li>
<li>line numbers (<code>display-line-numbers-mode</code> and global variant)</li>
<li>magit</li>
<li>make-mode</li>
<li>man</li>
<li>marginalia</li>
<li>markdown-mode</li>
<li>markup-faces (<code>adoc-mode</code>)</li>
<li>mb-depth</li>
<li>mct</li>
<li>messages</li>
<li>minimap</li>
<li>mode-line</li>
<li>mood-line</li>
<li>mpdel</li>
<li>mu4e</li>
<li>multiple-cursors</li>
<li>nerd-icons</li>
<li>nerd-icons-completion</li>
<li>nerd-icons-dired</li>
<li>nerd-icons-ibuffer</li>
<li>neotree</li>
<li>notmuch</li>
<li>num3-mode</li>
<li>nxml-mode</li>
<li>olivetti</li>
<li>orderless</li>
<li>org*</li>
<li>org-journal</li>
<li>org-noter</li>
<li>org-pomodoro</li>
<li>org-recur</li>
<li>org-roam</li>
<li>org-superstar</li>
<li>org-table-sticky-header</li>
<li>org-tree-slide</li>
<li>origami</li>
<li>outline-mode</li>
<li>outline-minor-faces</li>
<li>package (what you get with M-x list-packages)</li>
<li>page-break-lines</li>
<li>pandoc-mode</li>
<li>paren-face</li>
<li>pass</li>
<li>pdf-tools</li>
<li>persp-mode</li>
<li>perspective</li>
<li>popup</li>
<li>powerline</li>
<li>prism (<a href="#h:a94272e0-99da-4149-9e80-11a7e67a2cf2">Note for prism.el</a>)</li>
<li>prescient</li>
<li>proced</li>
<li>prodigy</li>
<li>pulse</li>
<li>pyim</li>
<li>quick-peek</li>
<li>rainbow-delimiters</li>
<li>rcirc</li>
<li>rcirc-color</li>
<li>recursion-indicator</li>
<li>regexp-builder (also known as <code>re-builder</code>)</li>
<li>rg (rg.el)</li>
<li>ripgrep</li>
<li>rmail</li>
<li>rst-mode</li>
<li>ruler-mode</li>
<li>sesman</li>
<li>shell-script-mode</li>
<li>shortdoc</li>
<li>show-paren-mode</li>
<li>shr</li>
<li>side-notes</li>
<li>sieve-mode</li>
<li>skewer-mode</li>
<li>slime (slbd)</li>
<li>sly</li>
<li>smart-mode-line</li>
<li>smerge</li>
<li>spacious-padding</li>
<li>speedbar</li>
<li>spell-fu</li>
<li>stripes</li>
<li>suggest</li>
<li>switch-window</li>
<li>swiper</li>
<li>symbol-overlay</li>
<li>syslog-mode</li>
<li>tab-bar-mode</li>
<li>tab-line-mode</li>
<li>table (built-in table.el)</li>
<li>telega</li>
<li>terraform-mode</li>
<li>term</li>
<li>textsec</li>
<li>tldr</li>
<li>transient (pop-up windows such as Magit&rsquo;s)</li>
<li>trashed</li>
<li>treemacs</li>
<li>tree-sitter</li>
<li>tty-menu</li>
<li>tuareg</li>
<li>typescript</li>
<li>undo-tree</li>
<li>vc (vc-dir.el, vc-hooks.el)</li>
<li>vertico</li>
<li>vertico-quick</li>
<li>vimish-fold</li>
<li>viper</li>
<li>visible-mark</li>
<li>visual-regexp</li>
<li>vtable</li>
<li>vterm</li>
<li>vundo</li>
<li>wcheck-mode</li>
<li>web-mode</li>
<li>wgrep</li>
<li>which-function-mode</li>
<li>which-key</li>
<li>whitespace-mode</li>
<li>window-divider-mode</li>
<li>window-tool-bar</li>
<li>writegood-mode</li>
<li>woman</li>
<li>xah-elisp-mode</li>
<li>xterm-color (and ansi-colors)</li>
<li>yaml-mode</li>
<li>yasnippet</li>
<li>ztree</li>
</ul>

<p>
Plus many other miscellaneous faces that are provided by Emacs.
</p>
</div>
</div>
<div id="outline-container-h:2cb359c7-3a84-4262-bab3-dcdc1d0034d7" class="outline-3">
<h3 id="h:2cb359c7-3a84-4262-bab3-dcdc1d0034d7"><span class="section-number-3">9.2.</span> Indirectly covered packages</h3>
<div class="outline-text-3" id="text-h:2cb359c7-3a84-4262-bab3-dcdc1d0034d7">
<p>
These do not require any extra styles because they are configured to
inherit from some basic faces or their dependencies which are directly
supported by the themes.
</p>

<ul class="org-ul">
<li>ag</li>
<li>apropos</li>
<li>apt-sources-list</li>
<li>bbdb</li>
<li>bm</li>
<li>breakpoint (provided by the built-in gdb-mi.el library)</li>
<li>buffer-expose</li>
<li>bufler</li>
<li>counsel-notmuch</li>
<li>counsel-org-capture-string</li>
<li>css-mode</li>
<li>dashboard (emacs-dashboard)</li>
<li>define-word</li>
<li>denote</li>
<li>disk-usage</li>
<li>dtache</li>
<li>dynamic-ruler</li>
<li>easy-kill</li>
<li>ebdb</li>
<li>edit-indirect</li>
<li>egerrit</li>
<li>elfeed-summary</li>
<li>evil-owl</li>
<li>flyspell-correct</li>
<li>fortran-mode</li>
<li>freeze-it</li>
<li>git-walktree</li>
<li>goggles</li>
<li>highlight-defined</li>
<li>highlight-escape-sequences (<code>hes-mode</code>)</li>
<li>icomplete-vertical</li>
<li>i3wm-config-mode</li>
<li>lin</li>
<li>minibuffer-line</li>
<li>no-emoji</li>
<li>org-remark</li>
<li>parrot</li>
<li>perl-mode</li>
<li>php-mode</li>
<li>pulsar</li>
<li>rjsx-mode</li>
<li>side-hustle</li>
<li>spell-fu</li>
<li>swift-mode</li>
<li>tab-bar-echo-area</li>
<li>tide</li>
<li>undo-hl</li>
<li>vdiff</li>
<li>vertico-indexed</li>
<li>vertico-mouse</li>
<li>xref</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:4c4d901a-84d7-4f20-bd99-0808c2b06eba" class="outline-2">
<h2 id="h:4c4d901a-84d7-4f20-bd99-0808c2b06eba"><span class="section-number-2">10.</span> Notes on individual packages</h2>
<div class="outline-text-2" id="text-h:4c4d901a-84d7-4f20-bd99-0808c2b06eba">
<p>
This section covers information that may be of interest to users of
individual packages.
</p>
</div>
<div id="outline-container-h:b2db46fb-32f4-44fd-8e11-d2b261cf51ae" class="outline-3">
<h3 id="h:b2db46fb-32f4-44fd-8e11-d2b261cf51ae"><span class="section-number-3">10.1.</span> Note on calendar.el weekday and weekend colors</h3>
<div class="outline-text-3" id="text-h:b2db46fb-32f4-44fd-8e11-d2b261cf51ae">
<p>
By default, the M-x calendar interface differentiates weekdays from
weekends by applying a gray color to the former and a faint red to the
latter.  The idea for this approach is that the weekend should serve as
a subtle warning that no work is supposed to be done on that day, per
the design of traditional calendars.
</p>

<p>
Users who prefer all days to look the same can configure the variable
<code>calendar-weekend-days</code> to either use gray of weekdays or the faint red of
weekends uniformly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; All are treated like weekdays (gray color)
(setq calendar-weekend-days nil)

;; All are treated like weekends (red-faint color)
(setq calendar-weekend-days (number-sequence 0 6))

;; The default marks the Saturday and Sunday as the weekend
(setq calendar-weekend-days '(0 6))
</pre>
</div>

<p>
For changes to take effect, the Calendar buffer needs to be generated
anew.
</p>
</div>
</div>
<div id="outline-container-h:a195e37c-e58c-4148-b254-8ba1ed8a731a" class="outline-3">
<h3 id="h:a195e37c-e58c-4148-b254-8ba1ed8a731a"><span class="section-number-3">10.2.</span> Note on git-gutter in Doom Emacs</h3>
<div class="outline-text-3" id="text-h:a195e37c-e58c-4148-b254-8ba1ed8a731a">
<p>
The <code>git-gutter</code> and <code>git-gutter-fr</code> packages default to drawing
bitmaps for the indicators they display (e.g. bitmap of a plus sign
for added lines).  In Doom Emacs, these bitmaps are replaced with
contiguous lines which may look nicer, but require a change to the
foreground of the relevant faces to yield the desired color
combinations.
</p>

<p>
Since this is Doom-specific, we urge users to apply changes in their
local setup.  Below is some sample code, based on what we cover at
length elsewhere in this manual:
</p>

<p>
<a href="#h:f4651d55-8c07-46aa-b52b-bed1e53463bb">Advanced customization</a>.
</p>

<p>
<a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with modus-themes-with-colors</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-modus-themes-custom-faces (&amp;rest _)
  (modus-themes-with-colors
    (custom-set-faces
     ;; Make foreground the same as background for a uniform bar on
     ;; Doom Emacs.
     ;;
     ;; Doom should not be implementing such hacks because themes
     ;; cannot support them:
     ;; &lt;https://protesilaos.com/codelog/2022-08-04-doom-git-gutter-modus-themes/&gt;.
     `(git-gutter-fr:added ((,c :foreground ,bg-added-fringe)))
     `(git-gutter-fr:deleted ((,c :foreground ,bg-removed-fringe)))
     `(git-gutter-fr:modified ((,c :foreground ,bg-changed-fringe))))))

(add-hook 'modus-themes-after-load-theme-hook #'my-modus-themes-custom-faces)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>

<p>
As always, re-load the theme for changes to take effect.
</p>

<p>
If the above does not work, try this instead:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! modus-themes
  (modus-themes-with-colors
    (custom-set-faces
     ;; Make foreground the same as background for a uniform bar on
     ;; Doom Emacs.
     ;;
     ;; Doom should not be implementing such hacks because themes
     ;; cannot support them:
     ;; &lt;https://protesilaos.com/codelog/2022-08-04-doom-git-gutter-modus-themes/&gt;.
     `(git-gutter-fr:added ((,c :foreground ,bg-added-intense)))
     `(git-gutter-fr:deleted ((,c :foreground ,bg-removed-intense)))
     `(git-gutter-fr:modified ((,c :foreground ,bg-changed-intense))))))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d0a3157b-9c04-46e8-8742-5fb2a7ae8798" class="outline-3">
<h3 id="h:d0a3157b-9c04-46e8-8742-5fb2a7ae8798"><span class="section-number-3">10.3.</span> Note on php-mode multiline comments</h3>
<div class="outline-text-3" id="text-h:d0a3157b-9c04-46e8-8742-5fb2a7ae8798">
<p>
Depending on your build of Emacs and/or the environment it runs in,
multiline comments in PHP with the <code>php-mode</code> package use the
<code>font-lock-doc-face</code> instead of <code>font-lock-comment-face</code>.
</p>

<p>
This seems to make all comments use the appropriate face:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-multine-comments (&amp;rest _)
  (setq-local c-doc-face-name 'font-lock-comment-face))

(add-hook 'php-mode-hook #'my-multine-comments)
</pre>
</div>

<p>
As always, re-load the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:420f5a33-c7a9-4112-9b04-eaf2cbad96bd" class="outline-3">
<h3 id="h:420f5a33-c7a9-4112-9b04-eaf2cbad96bd"><span class="section-number-3">10.4.</span> Note on underlines in compilation buffers</h3>
<div class="outline-text-3" id="text-h:420f5a33-c7a9-4112-9b04-eaf2cbad96bd">
<p>
Various buffers that produce compilation results or run tests on code
apply an underline to the file names they reference or to relevant
messages.  Users may consider this unnecessary or excessive.
</p>

<p>
To outright disable the effect, use this (buffers need to be generated
anew):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq compilation-message-face nil)
</pre>
</div>

<p>
If some element of differentiation is still desired, a good option is to
render the affected text with the <code>italic</code> face:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq compilation-message-face 'italic)
</pre>
</div>

<p>
<a href="#h:2793a224-2109-4f61-a106-721c57c01375">Configure bold and italic faces</a>.
</p>
</div>
</div>
<div id="outline-container-h:dd8478da-f56a-45cd-b199-b836c85c3c5a" class="outline-3">
<h3 id="h:dd8478da-f56a-45cd-b199-b836c85c3c5a"><span class="section-number-3">10.5.</span> Note on inline Latex in Org buffers</h3>
<div class="outline-text-3" id="text-h:dd8478da-f56a-45cd-b199-b836c85c3c5a">
<p>
Org can work with inline latex and related syntax.  To actually fontify
those constructs, set the variable <code>org-highlight-latex-and-related</code> to
the desired list of values (per its doc string).  For example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-highlight-latex-and-related '(latex script))
</pre>
</div>

<p>
Remember to use M-x org-mode-restart for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:8eb4b758-d318-4480-9ead-357a571beb93" class="outline-3">
<h3 id="h:8eb4b758-d318-4480-9ead-357a571beb93"><span class="section-number-3">10.6.</span> Note on dimmer.el</h3>
<div class="outline-text-3" id="text-h:8eb4b758-d318-4480-9ead-357a571beb93">
<p>
The dimmer.el library by Neil Okamoto can be configured to
automatically dim the colors of inactive Emacs windows.  To guarantee
consistent results with the Modus themes, we suggest some tweaks to the
default styles, such as in this minimal setup:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package dimmer
  :config
  (setq dimmer-fraction 0.3)
  (setq dimmer-adjustment-mode :foreground)
  (setq dimmer-use-colorspace :rgb)

  (dimmer-mode 1))
</pre>
</div>

<p>
Of the above, we strongly recommend the RGB color space because it is
the one that remains faithful to the hueness of the colors used by the
themes.  Whereas the default CIELAB space has a tendency to distort
colors in addition to applying the dim effect, which can be somewhat
disorienting.
</p>

<p>
The value of the <code>dimmer-fraction</code> has been selected empirically.  Users
might prefer to tweak it further (increasing it makes the dim effect
more pronounced).
</p>

<p>
Changing the <code>dimmer-adjustment-mode</code> is a matter of preference.  Though
because the Modus themes use black and white as their base colors, any
other value for that variable will turn the main background gray.  This
inadvertently leads to the opposite of the intended utility of this
package: it draws too much attention to unfocused windows.
</p>
</div>
</div>
<div id="outline-container-h:2a602816-bc1b-45bf-9675-4cbbd7bf6cab" class="outline-3">
<h3 id="h:2a602816-bc1b-45bf-9675-4cbbd7bf6cab"><span class="section-number-3">10.7.</span> Note on display-fill-column-indicator-mode</h3>
<div class="outline-text-3" id="text-h:2a602816-bc1b-45bf-9675-4cbbd7bf6cab">
<p>
The <code>display-fill-column-indicator-mode</code> uses a typographic character to
draw its line.  This has the downside of creating a dashed line.  The
dashes are further apart depending on how tall the font&rsquo;s glyph height
is and what integer the <code>line-spacing</code> is set to.
</p>

<p>
At the theme level we eliminate this effect by making the character one
pixel tall: the line is contiguous.  Users who prefer the dashed line
are advised to change the <code>fill-column-indicator</code> face, as explained
elsewhere in this document.  For example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(modus-themes-with-colors
  (custom-set-faces
   `(fill-column-indicator ((,c :foreground ,bg-active)))))
</pre>
</div>

<p>
<a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with modus-themes-with-colors</a>.
</p>

<p>
To make the line thicker, set the height to be equal to the base font
size instead of the one pixel we use.  This is done by specifying a rate
instead of an absolute number, as in <code>:height 1.0</code> versus <code>:height 1</code>.
For example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(modus-themes-with-colors
  (custom-set-faces
   `(fill-column-indicator ((,c :height 1.0 :background ,bg-inactive :foreground ,bg-inactive)))))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:24bab397-dcb2-421d-aa6e-ec5bd622b913" class="outline-3">
<h3 id="h:24bab397-dcb2-421d-aa6e-ec5bd622b913"><span class="section-number-3">10.8.</span> Note on highlight-parentheses.el</h3>
<div class="outline-text-3" id="text-h:24bab397-dcb2-421d-aa6e-ec5bd622b913">
<p>
The <code>highlight-parentheses</code> package provides contextual coloration of
surrounding parentheses, highlighting only those which are around the
point.  The package expects users to customize the applicable colors
on their own by configuring certain variables.
</p>

<p>
To make the Modus themes work as expected with this, we need to use some
of the techniques that are discussed at length in the various
&ldquo;Do-It-Yourself&rdquo; (DIY) sections, which provide insight into the more
advanced customization options of the themes.
</p>

<p>
<a href="#h:f4651d55-8c07-46aa-b52b-bed1e53463bb">Advanced customization</a>.
</p>

<p>
In the following example, we are assuming that the user wants to (i)
reuse color variables provided by the themes, (ii) be able to retain
their tweaks while switching between <code>modus-operandi</code> and <code>modus-vivendi</code>,
and (iii) have the option to highlight either the foreground of the
parentheses or the background as well.
</p>

<p>
We start by defining our own variable, which will serve as a toggle
between foreground and background coloration styles:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar my-highlight-parentheses-use-background t
  "Prefer `highlight-parentheses-background-colors'.")
</pre>
</div>

<p>
Then we can update our preference with this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Set to nil to disable backgrounds.
(setq my-highlight-parentheses-use-background nil)
</pre>
</div>

<p>
To reuse colors from the themes, we must wrap our code in the
<code>modus-themes-with-colors</code> macro.  Our implementation must interface with
the variables <code>highlight-parentheses-background-colors</code> and/or
<code>highlight-parentheses-colors</code>.
</p>

<p>
So we can have something like this (the doc string of
<code>modus-themes-with-colors</code> explains where the names of the colors can be
found):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(modus-themes-with-colors
    ;; Our preference for setting either background or foreground
    ;; styles, depending on `my-highlight-parentheses-use-background'.
    (if my-highlight-parentheses-use-background

        ;; Here we set color combinations that involve both a background
        ;; and a foreground value.
        (setq highlight-parentheses-background-colors (list bg-cyan-intense
                                                            bg-magenta-intense
                                                            bg-green-intense
                                                            bg-yellow-intense)
              highlight-parentheses-colors (list cyan
                                                 magenta
                                                 green
                                                 yellow))

      ;; And here we pass only foreground colors while disabling any
      ;; backgrounds.
      (setq highlight-parentheses-colors (list green-intense
                                               magenta-intense
                                               blue-intense
                                               red-intense)
            highlight-parentheses-background-colors nil)))

;; Include this if you also want to make the parentheses bold:
(set-face-attribute 'highlight-parentheses-highlight nil :inherit 'bold)

;; Our changes must be evaluated before enabling the relevant mode, so
;; this comes last.
(global-highlight-parentheses-mode 1)
</pre>
</div>

<p>
For our changes to persist while switching between the Modus themes, we
need to include them in a function which can then get passed to
<code>modus-themes-after-load-theme-hook</code>.  This is the complete
implementation:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Configurations for `highlight-parentheses':
(require 'highlight-parentheses)

(defvar my-highlight-parentheses-use-background t
  "Prefer `highlight-parentheses-background-colors'.")

(setq my-highlight-parentheses-use-background nil) ; Set to nil to disable backgrounds

(defun my-modus-themes-highlight-parentheses (&amp;rest _)
  (modus-themes-with-colors
    ;; Our preference for setting either background or foreground
    ;; styles, depending on `my-highlight-parentheses-use-background'.
    (if my-highlight-parentheses-use-background

        ;; Here we set color combinations that involve both a background
        ;; and a foreground value.
        (setq highlight-parentheses-background-colors (list bg-cyan-intense
                                                            bg-magenta-intense
                                                            bg-green-intense
                                                            bg-yellow-intense)
              highlight-parentheses-colors (list cyan
                                                 magenta
                                                 green
                                                 yellow))

      ;; And here we pass only foreground colors while disabling any
      ;; backgrounds.
      (setq highlight-parentheses-colors (list green-intense
                                               magenta-intense
                                               blue-intense
                                               red-intense)
            highlight-parentheses-background-colors nil)))

  ;; Include this if you also want to make the parentheses bold:
  (set-face-attribute 'highlight-parentheses-highlight nil :inherit 'bold)

  ;; Our changes must be evaluated before enabling the relevant mode, so
  ;; this comes last.
  (global-highlight-parentheses-mode 1))

(add-hook 'modus-themes-after-load-theme-hook #'my-modus-themes-highlight-parentheses)
</pre>
</div>

<p>
<a href="#h:d87673fe-2ce1-4c80-a4b8-be36ca9f2d24">Using a hook at the post-load-theme phase</a>.
</p>

<p>
As always, re-load the theme for changes to take effect.
</p>
</div>
</div>
<div id="outline-container-h:99cf0d6c-e478-4e26-9932-3bf3427d13f6" class="outline-3">
<h3 id="h:99cf0d6c-e478-4e26-9932-3bf3427d13f6"><span class="section-number-3">10.9.</span> Note on mmm-mode.el background colors</h3>
<div class="outline-text-3" id="text-h:99cf0d6c-e478-4e26-9932-3bf3427d13f6">
<p>
The faces used by mmm-mode.el are expected to have a colorful
background, while they should not touch any foreground value.  The idea
is that they must not interfere with existing fontification.  Those
background colors need to be distinct from each other, such as an
unambiguous red juxtaposed with a clear blue.
</p>

<p>
While this design may be internally consistent with the raison d&rsquo;être of
that library, it inevitably produces inaccessible color combinations.
</p>

<p>
There are two competing goals at play:
</p>

<ol class="org-ol">
<li>Legibility of the text, understood as the contrast ratio between the
background and the foreground.</li>

<li>Semantic precision of each face which entails faithfulness to
color-coding of the underlying background.</li>
</ol>

<p>
As the Modus themes are designed with the express purpose of conforming
with the first point, we have to forgo the apparent color-coding of the
background elements.  Instead we use subtle colors that do not undermine
the legibility of the affected text while they still offer a sense of
added context.
</p>

<p>
Users who might prefer to fall below the minimum 7:1 contrast ratio in
relative luminance (the accessibility target we conform with), can opt
to configure the relevant faces on their own.
</p>

<p>
<a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with modus-themes-with-colors</a>.
</p>

<p>
This example uses more vivid background colors, though it comes at the
very high cost of degraded legibility.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(modus-themes-with-colors
  (custom-set-faces
   `(mmm-cleanup-submode-face ((,c :background ,bg-yellow-intense)))
   `(mmm-code-submode-face ((,c :background ,bg-inactive)))
   `(mmm-comment-submode-face ((,c :background ,bg-blue-intense)))
   `(mmm-declaration-submode-face ((,c :background ,bg-cyan-intense)))
   `(mmm-default-submode-face ((,c :background ,bg-dim)))
   `(mmm-init-submode-face ((,c :background ,bg-magenta-intense)))
   `(mmm-output-submode-face ((,c :background ,bg-red-intense)))
   `(mmm-special-submode-face ((,c :background ,bg-green-intense)))))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a94272e0-99da-4149-9e80-11a7e67a2cf2" class="outline-3">
<h3 id="h:a94272e0-99da-4149-9e80-11a7e67a2cf2"><span class="section-number-3">10.10.</span> Note on prism.el</h3>
<div class="outline-text-3" id="text-h:a94272e0-99da-4149-9e80-11a7e67a2cf2">
<p>
This package by Adam Porter, aka &ldquo;alphapapa&rdquo; or &ldquo;github-alphapapa&rdquo;,
implements an alternative to the typical coloration of code.  Instead of
highlighting the syntactic constructs, it applies color to different
levels of depth in the code structure.
</p>

<p>
As prism.el offers a broad range of customizations, we
cannot style it directly at the theme level: that would run contrary
to the spirit of the package.  Instead, we may offer preset color
schemes.  Those should offer a starting point for users to adapt to
their needs.
</p>

<p>
In the following code snippets, we employ the <code>modus-themes-with-colors</code>
macro: <a href="#h:51ba3547-b8c8-40d6-ba5a-4586477fd4ae">Use theme colors in code with modus-themes-with-colors</a>.
</p>

<p>
These are the minimum recommended settings with 16 colors:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq prism-num-faces 16)

(prism-set-colors
  :desaturations '(0) ; do not change---may lower the contrast ratio
  :lightens '(0)      ; same
  :colors (modus-themes-with-colors
            (list fg-main
                  magenta
                  cyan-cooler
                  magenta-cooler
                  blue
                  magenta-warmer
                  cyan-warmer
                  red-cooler
                  green
                  fg-main
                  cyan
                  yellow
                  blue-warmer
                  red-warmer
                  green-cooler
                  yellow-faint)))
</pre>
</div>

<p>
With 8 colors:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq prism-num-faces 8)

(prism-set-colors
  :desaturations '(0) ; do not change---may lower the contrast ratio
  :lightens '(0)      ; same
  :colors (modus-themes-with-colors
            (list blue
                  magenta
                  magenta-cooler
                  cyan-cooler
                  fg-main
                  blue-warmer
                  red-cooler
                  cyan)))
</pre>
</div>

<p>
And this is with 4 colors, which produces results that are the closest
to the themes&rsquo; default aesthetic:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq prism-num-faces 4)

(prism-set-colors
  :desaturations '(0) ; do not change---may lower the contrast ratio
  :lightens '(0)      ; same
  :colors (modus-themes-with-colors
            (list blue
                  magenta
                  magenta-cooler
                  green-warmer)))
</pre>
</div>

<p>
If you need to apply desaturation and lightening, you can use what the
prism.el documentation recommends, like this (adapting to the
examples with the 4, 8, 16 colors):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(prism-set-colors
  :desaturations (cl-loop for i from 0 below 16 collect (* i 2.5))
  :lightens (cl-loop for i from 0 below 16 collect (* i 2.5))
  :colors (modus-themes-with-colors
            (list fg-main
                  cyan-cooler
                  magenta-cooler
                  magenta)))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:20cef8c4-d11f-4053-8b2c-2872925780b1" class="outline-3">
<h3 id="h:20cef8c4-d11f-4053-8b2c-2872925780b1"><span class="section-number-3">10.11.</span> Note on company-mode overlay pop-up</h3>
<div class="outline-text-3" id="text-h:20cef8c4-d11f-4053-8b2c-2872925780b1">
<p>
By default, the <code>company-mode</code> pop-up that lists completion candidates is
drawn using an overlay.  This creates alignment issues every time it is
placed above a piece of text that has a different height than the
default.
</p>

<p>
The solution recommended by the project&rsquo;s maintainer is to use an
alternative front-end for drawing the pop-up which draws child frames
instead of overlays.<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup><sup>, </sup><sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup>
</p>

<p>
Also consider the <code>corfu</code> package.
</p>
</div>
</div>
<div id="outline-container-h:98bdf319-1e32-4469-8a01-771200fba65c" class="outline-3">
<h3 id="h:98bdf319-1e32-4469-8a01-771200fba65c"><span class="section-number-3">10.12.</span> Note on ERC escaped color sequences</h3>
<div class="outline-text-3" id="text-h:98bdf319-1e32-4469-8a01-771200fba65c">
<p>
The built-in IRC client <code>erc</code> has the ability to colorize any text using
escape sequences that start with <code>^C</code> (inserted with C-q C-c) and are
followed by a number for the foreground and background.<sup><a id="fnr.4" class="footref" href="#fn.4" role="doc-backlink">4</a></sup> Possible numbers are 0-15, with the
first entry being the foreground and the second the background,
separated by a comma.  Like this <code>^C1,6</code>.  The minimum setup is this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'erc-modules 'irccontrols)
(setq erc-interpret-controls-p t
      erc-interpret-mirc-color t)
</pre>
</div>

<p>
As this allows users the chance to make arbitrary combinations, it is
impossible to guarantee a consistently high contrast ratio.  All we can
we do is provide guidance on the combinations that satisfy the
accessibility standard of the themes:
</p>

<dl class="org-dl">
<dt>Modus Operandi</dt><dd>Use foreground color 1 for all backgrounds from
2-15.  Like so: C-q C-c1 where <code>N</code> is the background.</dd>

<dt>Modus Vivendi</dt><dd>Use foreground color 0 for all backgrounds from
2-13.  Use foreground <code>1</code> for backgrounds 14, 15.</dd>
</dl>

<p>
Colors 0 and 1 are white and black respectively.  So combine them
together, if you must.
</p>
</div>
</div>
<div id="outline-container-h:9130a8ba-d8e3-41be-a58b-3cb1eb7b6d17" class="outline-3">
<h3 id="h:9130a8ba-d8e3-41be-a58b-3cb1eb7b6d17"><span class="section-number-3">10.13.</span> Note on powerline or spaceline</h3>
<div class="outline-text-3" id="text-h:9130a8ba-d8e3-41be-a58b-3cb1eb7b6d17">
<p>
Both Powerline and Spaceline package users will likely need to use the
command <code>powerline-reset</code> whenever they make changes to their themes
and/or mode line setup.
</p>
</div>
</div>
<div id="outline-container-h:4cc767dc-ffef-4c5c-9f10-82eb7b8921bf" class="outline-3">
<h3 id="h:4cc767dc-ffef-4c5c-9f10-82eb7b8921bf"><span class="section-number-3">10.14.</span> Note on SHR colors</h3>
<div class="outline-text-3" id="text-h:4cc767dc-ffef-4c5c-9f10-82eb7b8921bf">
<p>
Emacs&rsquo; HTML rendering library (shr.el) may need explicit
configuration to respect the theme&rsquo;s colors instead of whatever
specifications the webpage provides.
</p>

<p>
Consult the doc string of <code>shr-use-colors</code>.
</p>
</div>
</div>
<div id="outline-container-h:e6c5451f-6763-4be7-8fdb-b4706a422a4c" class="outline-3">
<h3 id="h:e6c5451f-6763-4be7-8fdb-b4706a422a4c"><span class="section-number-3">10.15.</span> Note on SHR fonts</h3>
<div class="outline-text-3" id="text-h:e6c5451f-6763-4be7-8fdb-b4706a422a4c">
<p>
By default, packages that build on top of the Simple HTML Remember
(<code>shr</code>) use proportionately spaced fonts.  This is controlled by the
user option <code>shr-use-fonts</code>, which is set to non-<code>nil</code> by default.  To
use the standard font instead, set that variable to <code>nil</code>.
</p>

<p>
<a href="#h:defcf4fc-8fa8-4c29-b12e-7119582cc929">Font configurations for Org and others</a>.
</p>

<p>
Packages affected by this are:
</p>

<ul class="org-ul">
<li>elfeed</li>
<li>ement</li>
<li>eww</li>
</ul>

<p>
This is a non-exhaustive list.
</p>
</div>
</div>
<div id="outline-container-h:8e636056-356c-4ca7-bc78-ebe61031f585" class="outline-3">
<h3 id="h:8e636056-356c-4ca7-bc78-ebe61031f585"><span class="section-number-3">10.16.</span> Note on Ement colors and fonts</h3>
<div class="outline-text-3" id="text-h:8e636056-356c-4ca7-bc78-ebe61031f585">
<p>
The ement.el library by Adam Porter (also known as
&ldquo;alphapapa&rdquo;) defaults to a method of colorizing usernames in a rainbow
style.  This is controlled by the user option <code>ement-room-prism</code> and
can be disabled with:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq ement-room-prism nil)
</pre>
</div>

<p>
The contrast ratio of these colors is governed by another user option:
<code>ement-room-prism-minimum-contrast</code>.  By default, it is set to 6 which is
slightly below our nominal target.  Try this instead:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq ement-room-prism-minimum-contrast 7)
</pre>
</div>

<p>
With regard to fonts, Ement depends on <code>shr</code> (<a href="#h:e6c5451f-6763-4be7-8fdb-b4706a422a4c">Note on SHR fonts</a>).
</p>

<p>
Since we are here, here is an excerpt from Ement&rsquo;s source code:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defcustom ement-room-prism-minimum-contrast 6
  "Attempt to enforce this minimum contrast ratio for user faces.
This should be a reasonable number from, e.g. 0-7 or so."
  ;; Prot would almost approve of this default.  :) I would go all the way
  ;; to 7, but 6 already significantly dilutes the colors in some cases.
  :type 'number)
</pre>
</div>

<p>
Yes, I do approve of that default.  Even a 4.5 (the WCAG AA rating)
would be a good baseline for many themes and/or user configurations.
Our target is the highest of the sort, though we do not demand that
everyone conforms with it.
</p>
</div>
</div>
<div id="outline-container-h:2659d13e-b1a5-416c-9a89-7c3ce3a76574" class="outline-3">
<h3 id="h:2659d13e-b1a5-416c-9a89-7c3ce3a76574"><span class="section-number-3">10.17.</span> Note on pdf-tools link hints</h3>
<div class="outline-text-3" id="text-h:2659d13e-b1a5-416c-9a89-7c3ce3a76574">
<p>
Hints are drawn by <a href="https://imagemagick.org/">ImageMagick</a>, not Emacs, i.e., ImageMagick doesn&rsquo;t
know about the hint face unless you tell ImageMagick about it.  By
default, only the foreground and background color attributes are
passed.  The below snippet adds to those the various font attributes.  As
it queries various faces, specifically <code>pdf-links-read-link</code> and the faces
it inherits, it needs to be added to your initialization file after
you&rsquo;ve customized any faces.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package pdf-links
  :config
  (let ((spec
         (apply #'append
                (mapcar
                 (lambda (name)
                   (list name
                         (face-attribute 'pdf-links-read-link
                                         name nil 'default)))
                 '(:family :width :weight :slant)))))
    (setq pdf-links-read-link-convert-commands
          `("-density"    "96"
            "-family"     ,(plist-get spec :family)
            "-stretch"    ,(let* ((width (plist-get spec :width))
                                  (name (symbol-name width)))
                             (replace-regexp-in-string "-" ""
                                                       (capitalize name)))
            "-weight"     ,(pcase (plist-get spec :weight)
                             ('ultra-light "Thin")
                             ('extra-light "ExtraLight")
                             ('light       "Light")
                             ('semi-bold   "SemiBold")
                             ('bold        "Bold")
                             ('extra-bold  "ExtraBold")
                             ('ultra-bold  "Black")
                             (_weight      "Normal"))
            "-style"      ,(pcase (plist-get spec :slant)
                             ('italic  "Italic")
                             ('oblique "Oblique")
                             (_slant   "Normal"))
            "-pointsize"  "%P"
            "-undercolor" "%f"
            "-fill"       "%b"
            "-draw"       "text %X,%Y '%c'"))))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:636af312-54a5-4918-84a6-0698e85a3c6d" class="outline-3">
<h3 id="h:636af312-54a5-4918-84a6-0698e85a3c6d"><span class="section-number-3">10.18.</span> Note on the Notmuch logo</h3>
<div class="outline-text-3" id="text-h:636af312-54a5-4918-84a6-0698e85a3c6d">
<p>
By default, the &ldquo;hello&rdquo; buffer of Notmuch includes a header with the
programs&rsquo; logo and a couple of buttons.  The logo has the effect of
enlarging the height of the line, which negatively impacts the shape of
those buttons.  Disabling the logo fixes the problem:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq notmuch-show-logo nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:2d74236a-e41c-4616-8735-75f949a67334" class="outline-3">
<h3 id="h:2d74236a-e41c-4616-8735-75f949a67334"><span class="section-number-3">10.19.</span> Note on goto-address-mode faces</h3>
<div class="outline-text-3" id="text-h:2d74236a-e41c-4616-8735-75f949a67334">
<p>
The built-in <code>goto-address-mode</code> uses heuristics to identify URLs and
email addresses in the current buffer.  It then applies a face to them
to change their style.  Some packages, such as <code>notmuch</code>, use this
minor-mode automatically.
</p>

<p>
The faces are not declared with <code>defface</code>, meaning that it is better
that the theme does not modify them.  The user is thus encouraged to
consider including (or equivalent) this in their setup:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq goto-address-url-face 'link
      goto-address-url-mouse-face 'highlight
      goto-address-mail-face 'link
      goto-address-mail-mouse-face 'highlight)
</pre>
</div>

<p>
My personal preference is to set <code>goto-address-mail-face</code> to <code>nil</code>, as
it otherwise adds too much visual noise to the buffer (email addresses
stand out more, due to the use of the uncommon <code>@</code> character but also
because they are often enclosed in angled brackets).
</p>
</div>
</div>
</div>
<div id="outline-container-h:b3384767-30d3-4484-ba7f-081729f03a47" class="outline-2">
<h2 id="h:b3384767-30d3-4484-ba7f-081729f03a47"><span class="section-number-2">11.</span> Frequently Asked Questions</h2>
<div class="outline-text-2" id="text-h:b3384767-30d3-4484-ba7f-081729f03a47">
<p>
In this section we provide answers related to some aspects of the Modus
themes&rsquo; design and application.
</p>
</div>
<div id="outline-container-h:5ce7ae2e-9348-4e55-b4cf-9302345b1826" class="outline-3">
<h3 id="h:5ce7ae2e-9348-4e55-b4cf-9302345b1826"><span class="section-number-3">11.1.</span> Is the contrast ratio about adjacent colors?</h3>
<div class="outline-text-3" id="text-h:5ce7ae2e-9348-4e55-b4cf-9302345b1826">
<p>
The minimum contrast ratio in relative luminance that the themes conform
with always refers to any given combination of background and foreground
colors.  If we have some blue colored text next to a magenta one, both
against a white background, we do not mean to imply that blue:magenta is
7:1 in terms of relative luminance.  Rather, we state that blue:white
and magenta:white each are 7:1 or higher.
</p>

<p>
The point of reference is always the background.  Because colors have
about the same minimum distance in luminance from their backdrop, they
necessarily are fairly close to each other in this measure.  A possible
blue:magenta combination would naturally be around 1:1 in contrast of
the sort here considered.
</p>

<p>
To differentiate between sequential colors, we rely on hueness by
mapping contrasting hues to adjacent constructs, while avoiding
exaggerations.  A blue next to a magenta can be told apart regardless of
their respective contrast ratio against their common background.
Exceptions would be tiny characters in arguably not so realistic cases,
such as two dots drawn side-by-side which for some reason would need to
be colored differently.  They would still be legible though, which is
the primary objective of the Modus themes.
</p>
</div>
</div>
<div id="outline-container-h:44284e1f-fab8-4c4f-92f0-544728a7c91e" class="outline-3">
<h3 id="h:44284e1f-fab8-4c4f-92f0-544728a7c91e"><span class="section-number-3">11.2.</span> What does it mean to avoid exaggerations?</h3>
<div class="outline-text-3" id="text-h:44284e1f-fab8-4c4f-92f0-544728a7c91e">
<p>
The Modus themes are designed with restraint, so that their default
looks do not overdo it with the application of color.
</p>

<p>
<a href="#h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f">Customization Options</a>.
</p>

<p>
This is the non-quantifiable aspect of the themes&rsquo; design: the artistic
part, if you will.  There are a lot of cases where color can be used
inconsiderately, without accounting for layout, typographic, or other
properties of the presentation.  For example, two headings with distinct
markers, such as leading asterisks in Org buffers, do not have to have
highly contrasting hues between them in order to be told apart: the
added element of contrast in hueness does not contribute significantly
more to the distinction between the headings than colors whose hues are
relatively closer to each other in the color space.
</p>

<p>
Exaggerations can be hard to anticipate or identify.  Multiple shades of
blue and magenta in the same context may not seem optimal: one might
think that it would be better to use highly contrasting hues to ensure
that all colors stand out, such as by placing blue next to yellow, next
to magenta, and green.  That would, however, be a case of design for its
own sake; a case where color is being applied without consideration of
its end results in the given context.  Too many contrasting hues in
close proximity force an erratic rate to how the eye jumps from one
piece of text to the next.  Whereas multiple shades of, say, blue and
magenta can suffice to tell things apart and avoid excess coloration: a
harmonious rhythm.
</p>
</div>
</div>
<div id="outline-container-h:0b26cb47-9733-4cb1-87d9-50850cb0386e" class="outline-3">
<h3 id="h:0b26cb47-9733-4cb1-87d9-50850cb0386e"><span class="section-number-3">11.3.</span> Why are colors mostly variants of blue, magenta, cyan?</h3>
<div class="outline-text-3" id="text-h:0b26cb47-9733-4cb1-87d9-50850cb0386e">
<p>
Due to the innate properties of color, some options are better than
others for the accessibility purposes of the themes, the stylistic
consistency between <code>modus-operandi</code> and <code>modus-vivendi</code>, and the avoidance
of exaggerations in design.
</p>

<p>
<a href="#h:44284e1f-fab8-4c4f-92f0-544728a7c91e">What does it mean to avoid exaggerations?</a>
</p>

<p>
What we describe as color is a function of three distinct channels of
light: red, green, blue.  In hexadecimal RGB notation, a color value is
read as three pairs of red, green, and blue light: <code>#RRGGBB</code>.  Of those
three, the most luminant is green, while the least luminant is blue.
</p>

<p>
The three basic colors represent each of the channels of light.  They
can be intermixed to give us six colors: red and green derive yellow,
green and blue make cyan, red and blue turn into magenta.
</p>

<p>
We can test the luminance of each of those against white and black to
get a sense of how not all colors are equally good for accessibility
(white is <code>#ffffff</code>, which means that all three light channels are fully
luminated, while black is <code>#000000</code> meaning that no light is present
(notwithstanding display technology)).
</p>

<pre class="example" id="org6004492">
| Name    |         | #ffffff | #000000 |
|---------+---------+---------+---------|
| red     | #ff0000 |    4.00 |    5.25 |
| yellow  | #ffff00 |    1.07 |   19.56 |
| green   | #00ff00 |    1.37 |   15.30 |
| cyan    | #00ffff |    1.25 |   16.75 |
| blue    | #0000ff |    8.59 |    2.44 |
| magenta | #ff00ff |    3.14 |    6.70 |
</pre>

<p>
<a href="#h:02e25930-e71a-493d-828a-8907fc80f874">Measure color contrast</a>.
</p>

<p>
By reading this table we learn that every color that has a high level of
green light (green, yellow, cyan) is virtually unreadable against a
white background and, conversely, can be easily read against black.
</p>

<p>
We can then infer that red and blue, in different combinations, with
green acting as calibrator for luminance, will give us fairly moderate
colors that pass the 7:1 target.  Blue with a bit of green produce
appropriate variants of cyan.  Similarly, blue combined with some red
and hints of green give us suitable shades of purple.
</p>

<p>
Due to the need of maintaining some difference in hueness between
adjacent colors, it is not possible to make red, green, and yellow the
main colors, because blue cannot be used to control their luminance and,
thus the relevant space will shrink considerably.
</p>

<p>
<a href="#h:5ce7ae2e-9348-4e55-b4cf-9302345b1826">Is the contrast ratio about adjacent colors?</a>
</p>

<p>
This phenomenon is best illustrated by the following table that measures
the relative luminance of shades of red, yellow, magenta against white:
</p>

<pre class="example" id="org1051103">
|         | #ffffff |
|---------+---------|
| #990000 |    8.92 |
| #995500 |    5.75 |
| #990099 |    7.46 |
</pre>

<p>
We notice that equal values of red and blue light in <code>#990099</code> (magenta
shade) do not lead to a considerable change in luminance compared with
<code>#990000</code> (red variant).  Whereas less amount of green light in <code>#995500</code>
leads to a major drop in luminance relative to white.  It follows that
using the green channel of light to calibrate the luminance of colors is
more effective than trying to do the same with either red or blue (the
latter is the least effective in that regard).
</p>

<p>
When we need to work with several colors, it is always better to have
sufficient manoeuvring space, especially since we cannot pick arbitrary
colors but only those that satisfy the accessibility objectives of the
themes.
</p>

<p>
As for why we do not mostly use green, yellow, cyan for the dark theme,
it is because those colors are far more luminant than their counterparts
on the other side of the spectrum, so to ensure that they all have about
the same contrast ratios we would have to alter their hueness
considerably.  In short, the effect would not be optimal as it would
lead to exaggerations.  Plus, it would make <code>modus-vivendi</code> look
completely different than <code>modus-operandi</code>, to the effect that the two
could not be properly considered part of the same project.
</p>
</div>
</div>
<div id="outline-container-h:f60cc2ae-129d-47c0-9849-4f6bbd87d8be" class="outline-3">
<h3 id="h:f60cc2ae-129d-47c0-9849-4f6bbd87d8be"><span class="section-number-3">11.4.</span> What is the best setup for legibility?</h3>
<div class="outline-text-3" id="text-h:f60cc2ae-129d-47c0-9849-4f6bbd87d8be">
<p>
The Modus themes can be conceptually simplified as combinations of color
values that account for relative luminance and inner harmony.  Those
qualities do not guarantee that every end-user will have the same
experience, due to differences between people, but also because of
variances in hardware capabilities and configurations.  For the purposes
of this document, we may only provide suggestions pertaining to the
latter case.
</p>

<p>
<code>modus-operandi</code> is best used outdoors or in a room that either gets
direct sunlight or has plenty of light.  Whereas <code>modus-vivendi</code> works
better when there is not a lot of sunshine or the room has a source of
light that is preferably a faint and/or warm one.  It is possible to use
<code>modus-operandi</code> at night and <code>modus-vivendi</code> during the day, though that
will depend on several variables, such as one&rsquo;s overall perception of
color, the paint on the walls and how that contributes to the impression
of lightness in the room, the sense of space within the eye&rsquo;s peripheral
vision, hardware specifications, and environmental factors.
</p>

<p>
In general, an additional source of light other than that of the monitor
can help reduce eye strain: the eyes are more relaxed when they do not
have to focus on one point to gather light.
</p>

<p>
The monitor&rsquo;s display settings must be accounted for.  Gamma values, in
particular, need to be calibrated to neither amplify nor distort the
perception of black.  Same principle for sharpness, brightness, and
contrast as determined by the hardware, which all have an effect on how
text is read on the screen.
</p>

<p>
There are software level methods on offer, such as the XrandR utility
for the X Window System (X.org), which can make gamma corrections for
each of the three channels of light (red, green, blue).  For example:
</p>

<pre class="example">
xrandr --output LVDS1 --brightness 1.0 --gamma 0.76:0.75:0.68
</pre>


<p>
Typography is another variable.  Some font families are blurry at small
point sizes.  Others may have a regular weight that is lighter (thinner)
than that of their peers which may, under certain circumstances, cause a
halo effect around each glyph.
</p>

<p>
The gist is that legibility cannot be fully solved at the theme level.
The color combinations may have been optimized for accessibility, though
the remaining contributing factors in each case need to be considered in
full.
</p>
</div>
</div>
<div id="outline-container-h:a956dbd3-8fd2-4f5d-8b01-5f881268cf2b" class="outline-3">
<h3 id="h:a956dbd3-8fd2-4f5d-8b01-5f881268cf2b"><span class="section-number-3">11.5.</span> Are these color schemes?</h3>
<div class="outline-text-3" id="text-h:a956dbd3-8fd2-4f5d-8b01-5f881268cf2b">
<p>
No, the Modus themes are not color schemes.
</p>

<p>
A color scheme is a collection of colors.  A good color scheme is a
combination of colors with an inner logic or abstract structure.
</p>

<p>
A theme is a set of patterns that are applied across different contexts.
A good theme is one that does so with consistency, though not
uniformity.
</p>

<p>
In practical terms, a color scheme is what one uses when, for example,
they replace the first sixteen escape sequences of a terminal emulator
with color values of their preference.  The terminal offers the option
to choose, say, the exact value of what counts as &ldquo;red&rdquo;, but does not
provide the means to control where that is mapped to and whether it
should also have other qualities such as a bold weight for the
underlying text or an added background color.  In contradistinction,
Emacs uses constructs known as &ldquo;faces&rdquo; which allow the user/developer
to specify where a given color will be used and whether it should be
accompanied by other typographic or stylistic attributes.
</p>

<p>
By configuring the multitude of faces on offer we thus control both
which colors are applied and how they appear in their context.  When a
package wants to render each instance of &ldquo;foo&rdquo; with the &ldquo;bar&rdquo; face, it
is not requesting a specific color, which makes things considerably more
flexible as we can treat &ldquo;bar&rdquo; in its own right without necessarily
having to use some color value that we hardcoded somewhere.
</p>

<p>
Which brings us to the distinction between consistency and uniformity
where our goal is always the former: we want things to look similar
across all interfaces, but we must never force a visual identity where
that runs contrary to the functionality of the given interface.  For
instance, all links are underlined by default yet there are cases such
as when viewing listings of emails in Gnus (and Mu4e, Notmuch) where (i)
it is already understood that one must follow the indicator or headline
to view its contents and (ii) underlining everything would make the
interface virtually unusable.
</p>

<p>
Again, one must exercise judgement in order to avoid discrimination,
where &ldquo;discrimination&rdquo; refers to:
</p>

<ul class="org-ul">
<li>The treatment of substantially different magnitudes as if they were of
the same class.</li>
<li>Or the treatment of the same class of magnitudes as if they were of a
different class.</li>
</ul>

<p>
(To treat similar things differently; to treat dissimilar things alike.)
</p>

<p>
If, in other words, one is to enforce uniformity without accounting
for the particular requirements of each case&#x2014;the contextual demands
for usability beyond matters of color&#x2014;they are making a
not-so-obvious error of treating different cases as if they were the
same.
</p>

<p>
The Modus themes prioritize &ldquo;thematic consistency&rdquo; over abstract harmony
or regularity among their applicable colors.  In concrete terms, we do
not claim that, say, our yellows are the best complements for our blues
because we generally avoid using complementary colors side-by-side, so
it is wrong to optimize for a decontextualised blue+yellow combination.
Not to imply that our colors do not work well together because they do,
just to clarify that consistency of context is what themes must strive
for, and that requires widening the scope of the design beyond the
particularities of a color scheme.
</p>

<p>
Long story short: color schemes and themes have different requirements.
Please do not conflate the two.
</p>
</div>
</div>
<div id="outline-container-h:7156b949-917d-488e-9a72-59f70d80729c" class="outline-3">
<h3 id="h:7156b949-917d-488e-9a72-59f70d80729c"><span class="section-number-3">11.6.</span> Port the Modus themes to other platforms?</h3>
<div class="outline-text-3" id="text-h:7156b949-917d-488e-9a72-59f70d80729c">
<p>
There is no plan to port the themes to other platforms or text editors.
I (Protesilaos) only use GNU Emacs and thus cannot maintain code that
targets software I am either not familiar with or am not using on a
daily basis.
</p>

<p>
While it is possible to produce a simulacrum based on a given template,
doing so would run contrary to how this project is maintained where
details matter greatly.
</p>

<p>
Each program has its own requirements so it won&rsquo;t always be
possible&#x2014;or indeed desirable&#x2014;to have 1:1 correspondence between
what applies to Emacs and what should be done elsewhere.  No port
should ever strive to be a copy of the Emacs implementation, as no
other program is an Emacs equivalent, but instead try to follow the
spirit of the design.  For example, some of the customization options
accept a list as their value, or an alist, which may not be possible
to reproduce on other platforms.
</p>

<p>
<a href="#h:bf1c82f2-46c7-4eb2-ad00-dd11fdd8b53f">Customization options</a>.
</p>

<p>
In other words, if something must be done differently on a certain
editor then that is acceptable so long as (i) the accessibility
standards are not compromised and (ii) the overall character of the
themes remains consistent.
</p>

<p>
The former criterion should be crystal clear as it pertains to the
scientific foundations of the themes: high legibility and taking care
of the needs of users with red-green/blue-yellow color deficiency
(deuteranopia and tritanopia) by avoiding red+green color coding
paradigms and/or by providing yellow+blue variants for deuteranopia
and red+cyan for tritanopia (<a href="#h:f0f3dbcb-602d-40cf-b918-8f929c441baf">Overview</a>).
</p>

<p>
The latter criterion is the &ldquo;je ne sais quoi&rdquo; of the artistic aspect of
the themes, which is partially fleshed out in this manual.
</p>

<p>
<a href="#h:b3384767-30d3-4484-ba7f-081729f03a47">Frequently Asked Questions</a>.
</p>

<p>
With regard to the artistic aspect (where &ldquo;art&rdquo; qua skill may amount to
an imprecise science), there is no hard-and-fast rule in effect as it
requires one to exercize discretion and make decisions based on
context-dependent information or constraints.  As is true with most
things in life, when in doubt, do not cling on to the letter of the law
but try to understand its spirit.
</p>

<p>
For a trivial example: the curly underline that Emacs draws for spelling
errors is thinner than, e.g., what a graphical web browser has, so if I
was to design for an editor than has a thicker curly underline I would
make the applicable colors less intense to counterbalance the
typographic intensity of the added thickness.
</p>

<p>
With those granted, if anyone is willing to develop a port of the
themes, they are welcome to contact me and I will do my best to help
them in their efforts.
</p>
</div>
</div>
</div>
<div id="outline-container-h:9c3cd842-14b7-44d7-84b2-a5c8bc3fc3b1" class="outline-2">
<h2 id="h:9c3cd842-14b7-44d7-84b2-a5c8bc3fc3b1"><span class="section-number-2">12.</span> Contributing</h2>
<div class="outline-text-2" id="text-h:9c3cd842-14b7-44d7-84b2-a5c8bc3fc3b1">
<p>
This section documents the canonical sources of the themes and the ways
in which you can contribute to their ongoing development.
</p>
</div>
<div id="outline-container-h:89504f1c-c9a1-4bd9-ab39-78fd0eddb47c" class="outline-3">
<h3 id="h:89504f1c-c9a1-4bd9-ab39-78fd0eddb47c"><span class="section-number-3">12.1.</span> Sources of the themes</h3>
<div class="outline-text-3" id="text-h:89504f1c-c9a1-4bd9-ab39-78fd0eddb47c">
<ul class="org-ul">
<li>Package name (GNU ELPA): <code>modus-themes</code></li>
<li>Official manual: <a href="https://protesilaos.com/emacs/modus-themes">https://protesilaos.com/emacs/modus-themes</a></li>
<li>Change log: <a href="https://protesilaos.com/emacs/modus-themes-changelog">https://protesilaos.com/emacs/modus-themes-changelog</a></li>
<li>Color palette: <a href="https://protesilaos.com/emacs/modus-themes-colors">https://protesilaos.com/emacs/modus-themes-colors</a></li>
<li>Sample pictures: <a href="https://protesilaos.com/emacs/modus-themes-pictures">https://protesilaos.com/emacs/modus-themes-pictures</a></li>
<li>Git repo on SourceHut: <a href="https://git.sr.ht/~protesilaos/modus-themes">https://git.sr.ht/~protesilaos/modus-themes</a>
<ul class="org-ul">
<li>Mirrors:
<ul class="org-ul">
<li>GitHub: <a href="https://github.com/protesilaos/modus-themes">https://github.com/protesilaos/modus-themes</a></li>
<li>GitLab: <a href="https://gitlab.com/protesilaos/modus-themes">https://gitlab.com/protesilaos/modus-themes</a></li>
</ul></li>
</ul></li>
<li>Mailing list: <a href="https://lists.sr.ht/~protesilaos/modus-themes">https://lists.sr.ht/~protesilaos/modus-themes</a></li>
<li>Backronym: My Old Display Unexpectedly Sharpened &#x2026; themes</li>
</ul>
</div>
</div>
<div id="outline-container-h:6536c8d5-3f98-43ab-a787-b94120e735e8" class="outline-3">
<h3 id="h:6536c8d5-3f98-43ab-a787-b94120e735e8"><span class="section-number-3">12.2.</span> Issues you can help with</h3>
<div class="outline-text-3" id="text-h:6536c8d5-3f98-43ab-a787-b94120e735e8">
<p>
A few tasks you can help with by sending an email to the general
<a href="https://lists.sr.ht/~protesilaos/modus-themes">modus-themes public mailing list</a>.
</p>

<ul class="org-ul">
<li>Suggest refinements to packages that are covered.</li>
<li>Report packages not covered thus far.</li>
<li>Report bugs, inconsistencies, shortcomings.</li>
<li>Help expand the documentation of covered-but-not-styled packages.</li>
<li>Suggest refinements to the color palette.</li>
<li>Help expand this document or any other piece of documentation.</li>
<li>Send patches for code refinements (if you need, ask me for help with
Git&#x2014;we all start out as beginners).</li>
</ul>

<p>
<a href="#h:111773e2-f26f-4b68-8c4f-9794ca6b9633">Patches require copyright assignment to the FSF</a>.
</p>

<p>
It is preferable that your feedback includes some screenshots, GIFs, or
short videos, as well as further instructions to reproduce a given
setup.  Though this is not a requirement.
</p>

<p>
Whatever you do, bear in mind the overarching objective of the Modus
themes: to keep a contrast ratio that is greater or equal to 7:1 between
background and foreground colors.  If a compromise is ever necessary
between aesthetics and accessibility, it shall always be made in the
interest of the latter.
</p>
</div>
</div>
<div id="outline-container-h:111773e2-f26f-4b68-8c4f-9794ca6b9633" class="outline-3">
<h3 id="h:111773e2-f26f-4b68-8c4f-9794ca6b9633"><span class="section-number-3">12.3.</span> Patches require copyright assignment to the FSF</h3>
<div class="outline-text-3" id="text-h:111773e2-f26f-4b68-8c4f-9794ca6b9633">
<p>
Code contributions are most welcome.  For any major edit (more than 15
lines, or so, in aggregate per person), you need to make a copyright
assignment to the Free Software Foundation.  This is necessary because
the themes are part of the upstream Emacs distribution: the FSF must at
all times be in a position to enforce the GNU General Public License.
</p>

<p>
Copyright assignment is a simple process.  Check the request form below
(please adapt it accordingly).  You must write an email to the address
mentioned in the form and then wait for the FSF to send you a legal
agreement.  Sign the document and file it back to them.  This could all
happen via email and take about a week.  You are encouraged to go
through this process.  You only need to do it once.  It will allow you
to make contributions to Emacs in general.
</p>

<pre class="example" id="org6b9dea0">
Please email the following information to assign@gnu.org, and we
will send you the assignment form for your past and future changes.

Please use your full legal name (in ASCII characters) as the subject
line of the message.

REQUEST: SEND FORM FOR PAST AND FUTURE CHANGES

[What is the name of the program or package you're contributing to?]

GNU Emacs

[Did you copy any files or text written by someone else in these changes?
Even if that material is free software, we need to know about it.]

Copied a few snippets from the same files I edited.  Their author,
Protesilaos Stavrou, has already assigned copyright to the Free Software
Foundation.

[Do you have an employer who might have a basis to claim to own
your changes?  Do you attend a school which might make such a claim?]


[For the copyright registration, what country are you a citizen of?]


[What year were you born?]


[Please write your email address here.]


[Please write your postal address here.]





[Which files have you changed so far, and which new files have you written
so far?]

</pre>
</div>
</div>
</div>
<div id="outline-container-h:95c3da23-217f-404e-b5f3-56c75760ebcf" class="outline-2">
<h2 id="h:95c3da23-217f-404e-b5f3-56c75760ebcf"><span class="section-number-2">13.</span> Acknowledgements</h2>
<div class="outline-text-2" id="text-h:95c3da23-217f-404e-b5f3-56c75760ebcf">
<p>
The Modus themes are a collective effort.  Every bit of work matters.
</p>

<dl class="org-dl">
<dt>Author/maintainer</dt><dd>Protesilaos Stavrou.</dd>

<dt>Contributions to code or documentation</dt><dd>Aleksei Gusev, Alex
Griffin, Anders Johansson, Antonio Ruiz, Basil L.
Contovounesios, Björn Lindström, Carlo Zancanaro, Christian Tietze,
Daniel Mendler, David Edmondson, Eli Zaretskii, Fritz Grabo, Gautier
Ponsinet, Illia Ostapyshyn, Jared Finder, Kévin Le Gouguec, Koen van
Greevenbroek, Kostadin Ninev, Leilei332, Madhavan Krishnan, Manuel
Giraud, Markus Beppler, Matthew Stevenson, Mauro Aranda, Nacho
Barrientos, Niall Dooley, Nicolas De Jaeghere, Paul David, Pavel
Novichkov, Philip Kaludercic, Pierre Téchoueyres, Rahul M.
Juliato, Rudolf Adamkovič, Sergey Nichiporchik,
Shreyas Ragavan, Stefan Kangas, Stephen Berman, Stephen Gildea,
Steve Downey, Thanos Apollo, Tomasz Hołubowicz, Utkarsh Singh,
Vincent Murphy, Xinglu Chen, Yuanchen Xie, fluentpwn, okamsn.</dd>

<dt>Ideas and user feedback</dt><dd>Aaron Jensen, Adam Porter, Adam Spiers,
Adrian Manea, Aleksei Pirogov, Alex Griffin, Alex Koen, Alex
Peitsinis, Alexey Shmalko, Alok Singh, Anders Johansson, André
Alexandre Gomes, Andrew Tropin, Antonio Hernández Blas, Arif Rezai,
Augusto Stoffel, Basil L. Contovounesios, Bernd
Rellermeyer, Burgess Chang, Charlotte Van Petegem, Christian Tietze,
Christopher Dimech, Christopher League, Damien Cassou, Daniel
Mendler, Dario Gjorgjevski, David Edmondson, Davor Rotim, Divan
Santana, Eliraz Kedmi, Emanuele Michele Alberto Monterosso, Farasha
Euker, Feng Shu, Filippo Argiolas, Gautier Ponsinet, Gerry Agbobada,
Gianluca Recchia, Gonçalo Marrafa, Guilherme Semente, Gustavo
Barros, Hörmetjan Yiltiz, Ilja Kocken, Imran Khan, Iris Garcia, Ivan
Popovych, Jabir Ali Ouassou, James Ferguson, Jeremy Friesen, Jerry
Zhang, Johannes Grødem, John Haman, John Wick, Jonas Collberg, Jorge
Morais, Joshua O&rsquo;Connor, Julio C. Villasante, Kenta Usami, Kevin
Fleming, Kévin Le Gouguec, Kevin Kainan Li, Kostadin Ninev, Laith
Bahodi, Lasse Lindner, Len Trigg, Lennart C. Karssen,
Luis Miguel Castañeda, Magne Hov, Manuel Giraud, Manuel Uberti, Mark
Bestley, Mark Burton, Mark Simpson, Marko Kocic, Markus Beppler,
Matt Armstrong, Matthias Fuchs, Mattias Engdegård, Mauro Aranda,
Maxime Tréca, Michael Goldenberg, Morgan Smith, Morgan Willcock,
Murilo Pereira, Nicky van Foreest, Nicolas De Jaeghere, Nicolas
Semrau, Olaf Meeuwissen, Oliver Epper, Pablo Stafforini, Paul
Poloskov, Pengji Zhang, Pete Kazmier, Peter Wu, Philip Kaludercic,
Pierre Téchoueyres, Przemysław Kryger, Robert Hepple, Roman Rudakov,
Russell Sim, Ryan Phillips, Rytis Paškauskas, Rudolf Adamkovič, Sam
Kleinman, Samuel Culpepper, Saša Janiška, Shreyas Ragavan, Simon
Pugnet, Steve Downey, Tassilo Horn, Thanos Apollo, Thibaut Verron,
Thomas Heartman, Togan Muftuoglu, Tony Zorman, Trey Merkley, Tomasz
Hołubowicz, Toon Claes, Uri Sharf, Utkarsh Singh, Vincent Foley,
Zoltan Kiraly. As well as users: Ben, CsBigDataHub1, Emacs Contrib,
Eugene, Fourchaux, Fredrik, Moesasji, Nick, Summer Emacs, TheBlob42,
TitusMu, Trey, ZharMeny, bepolymathe, bit9tream, bangedorrunt,
derek-upham, doolio, fleimgruber, gitrj95, iSeeU, jixiuf, ltmsyvag,
okamsn, pedro-nonfree, pRot0ta1p, shipmints, soaringbird, tumashu,
wakamenod.</dd>

<dt>Packaging</dt><dd>Basil L. Contovounesios, Eli Zaretskii,
Glenn Morris, Mauro Aranda, Richard Stallman, Stefan Kangas (core
Emacs), Stefan Monnier (GNU Elpa), André Alexandre Gomes, Andrew
Tropin, Dimakakos Dimos, Morgan Smith, Nicolas Goaziou (Guix), Dhavan
Vaidya (Debian).</dd>

<dt>Inspiration for certain features</dt><dd>Bozhidar Batsov (zenburn-theme),
Fabrice Niessen (leuven-theme).</dd>
</dl>

<p>
Special thanks (from A-Z) to Daniel Mendler, Gustavo Barros, Manuel
Uberti, Nicolas De Jaeghere, and Omar Antolín Camarena for their long
time contributions and insightful commentary on key aspects of the
themes&rsquo; design and/or aspects of their functionality.
</p>

<p>
All errors are my own.
</p>
</div>
</div>
<div id="outline-container-h:3077c3d2-7f90-4228-8f0a-73124f4026f6" class="outline-2">
<h2 id="h:3077c3d2-7f90-4228-8f0a-73124f4026f6"><span class="section-number-2">14.</span> GNU Free Documentation License</h2>
<div class="outline-text-2" id="text-h:3077c3d2-7f90-4228-8f0a-73124f4026f6">
<pre>

                GNU Free Documentation License
                 Version 1.3, 3 November 2008


 Copyright (C) 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
     <https://fsf.org/>
 Everyone is permitted to copy and distribute verbatim copies
 of this license document, but changing it is not allowed.

0. PREAMBLE

The purpose of this License is to make a manual, textbook, or other
functional and useful document "free" in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

This License is a kind of "copyleft", which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.


1. APPLICABILITY AND DEFINITIONS

This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The "Document", below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as "you".  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

A "Modified Version" of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

A "Secondary Section" is a named appendix or a front-matter section of
the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

The "Invariant Sections" are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

The "Cover Texts" are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

A "Transparent" copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not "Transparent" is called "Opaque".

Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input format, SGML
or XML using a publicly available DTD, and standard-conforming simple
HTML, PostScript or PDF designed for human modification.  Examples of
transparent image formats include PNG, XCF and JPG.  Opaque formats
include proprietary formats that can be read and edited only by
proprietary word processors, SGML or XML for which the DTD and/or
processing tools are not generally available, and the
machine-generated HTML, PostScript or PDF produced by some word
processors for output purposes only.

The "Title Page" means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, "Title Page" means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

The "publisher" means any person or entity that distributes copies of
the Document to the public.

A section "Entitled XYZ" means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as "Acknowledgements",
"Dedications", "Endorsements", or "History".)  To "Preserve the Title"
of such a section when you modify the Document means that it remains a
section "Entitled XYZ" according to this definition.

The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.

2. VERBATIM COPYING

You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no
other conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

You may also lend copies, under the same conditions stated above, and
you may publicly display copies.


3. COPYING IN QUANTITY

If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to
give them a chance to provide you with an updated version of the
Document.


4. MODIFICATIONS

You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

A. Use in the Title Page (and on the covers, if any) a title distinct
   from that of the Document, and from those of previous versions
   (which should, if there were any, be listed in the History section
   of the Document).  You may use the same title as a previous version
   if the original publisher of that version gives permission.
B. List on the Title Page, as authors, one or more persons or entities
   responsible for authorship of the modifications in the Modified
   Version, together with at least five of the principal authors of the
   Document (all of its principal authors, if it has fewer than five),
   unless they release you from this requirement.
C. State on the Title page the name of the publisher of the
   Modified Version, as the publisher.
D. Preserve all the copyright notices of the Document.
E. Add an appropriate copyright notice for your modifications
   adjacent to the other copyright notices.
F. Include, immediately after the copyright notices, a license notice
   giving the public permission to use the Modified Version under the
   terms of this License, in the form shown in the Addendum below.
G. Preserve in that license notice the full lists of Invariant Sections
   and required Cover Texts given in the Document's license notice.
H. Include an unaltered copy of this License.
I. Preserve the section Entitled "History", Preserve its Title, and add
   to it an item stating at least the title, year, new authors, and
   publisher of the Modified Version as given on the Title Page.  If
   there is no section Entitled "History" in the Document, create one
   stating the title, year, authors, and publisher of the Document as
   given on its Title Page, then add an item describing the Modified
   Version as stated in the previous sentence.
J. Preserve the network location, if any, given in the Document for
   public access to a Transparent copy of the Document, and likewise
   the network locations given in the Document for previous versions
   it was based on.  These may be placed in the "History" section.
   You may omit a network location for a work that was published at
   least four years before the Document itself, or if the original
   publisher of the version it refers to gives permission.
K. For any section Entitled "Acknowledgements" or "Dedications",
   Preserve the Title of the section, and preserve in the section all
   the substance and tone of each of the contributor acknowledgements
   and/or dedications given therein.
L. Preserve all the Invariant Sections of the Document,
   unaltered in their text and in their titles.  Section numbers
   or the equivalent are not considered part of the section titles.
M. Delete any section Entitled "Endorsements".  Such a section
   may not be included in the Modified Version.
N. Do not retitle any existing section to be Entitled "Endorsements"
   or to conflict in title with any Invariant Section.
O. Preserve any Warranty Disclaimers.

If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice.
These titles must be distinct from any other section titles.

You may add a section Entitled "Endorsements", provided it contains
nothing but endorsements of your Modified Version by various
parties--for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.


5. COMBINING DOCUMENTS

You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

In the combination, you must combine any sections Entitled "History"
in the various original documents, forming one section Entitled
"History"; likewise combine any sections Entitled "Acknowledgements",
and any sections Entitled "Dedications".  You must delete all sections
Entitled "Endorsements".


6. COLLECTIONS OF DOCUMENTS

You may make a collection consisting of the Document and other
documents released under this License, and replace the individual
copies of this License in the various documents with a single copy
that is included in the collection, provided that you follow the rules
of this License for verbatim copying of each of the documents in all
other respects.

You may extract a single document from such a collection, and
distribute it individually under this License, provided you insert a
copy of this License into the extracted document, and follow this
License in all other respects regarding verbatim copying of that
document.


7. AGGREGATION WITH INDEPENDENT WORKS

A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an "aggregate" if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.


8. TRANSLATION

Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

If a section in the Document is Entitled "Acknowledgements",
"Dedications", or "History", the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.


9. TERMINATION

You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.

However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.


10. FUTURE REVISIONS OF THIS LICENSE

The Free Software Foundation may publish new, revised versions of the
GNU Free Documentation License from time to time.  Such new versions
will be similar in spirit to the present version, but may differ in
detail to address new problems or concerns.  See
https://www.gnu.org/licenses/.

Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License "or any later version" applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.

11. RELICENSING

"Massive Multiauthor Collaboration Site" (or "MMC Site") means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
"Massive Multiauthor Collaboration" (or "MMC") contained in the site
means any set of copyrightable works thus published on the MMC site.

"CC-BY-SA" means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.

"Incorporate" means to publish or republish a Document, in whole or in
part, as part of another Document.

An MMC is "eligible for relicensing" if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole or
in part into the MMC, (1) had no cover texts or invariant sections, and
(2) were thus incorporated prior to November 1, 2008.

The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.


ADDENDUM: How to use this License for your documents

To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

    Copyright (c)  YEAR  YOUR NAME.
    Permission is granted to copy, distribute and/or modify this document
    under the terms of the GNU Free Documentation License, Version 1.3
    or any later version published by the Free Software Foundation;
    with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
    A copy of the license is included in the section entitled "GNU
    Free Documentation License".

If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the "with...Texts." line with this:

    with the Invariant Sections being LIST THEIR TITLES, with the
    Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.

If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</pre>

<!--
</div>
</div>
<div id="outline-container-h:55104b26-8e94-46cf-9975-43ea00316489" class="outline-2">
<h2 id="h:55104b26-8e94-46cf-9975-43ea00316489"><span class="section-number-2">15.</span> Indices</h2>
<div class="outline-text-2" id="text-h:55104b26-8e94-46cf-9975-43ea00316489">
</div>
<div id="outline-container-h:6bec5005-529c-4521-ae05-3d990baffb5b" class="outline-3">
<h3 id="h:6bec5005-529c-4521-ae05-3d990baffb5b"><span class="section-number-3">15.1.</span> Function index</h3>
<div class="outline-text-3" id="text-h:6bec5005-529c-4521-ae05-3d990baffb5b">
</div>
</div>
<div id="outline-container-h:16ad8df6-b015-40a9-9259-03d4f7a23ee4" class="outline-3">
<h3 id="h:16ad8df6-b015-40a9-9259-03d4f7a23ee4"><span class="section-number-3">15.2.</span> Variable index</h3>
<div class="outline-text-3" id="text-h:16ad8df6-b015-40a9-9259-03d4f7a23ee4">
</div>
</div>
<div id="outline-container-h:6aa7a656-884b-4c39-b759-087e412eec13" class="outline-3">
<h3 id="h:6aa7a656-884b-4c39-b759-087e412eec13"><span class="section-number-3">15.3.</span> Concept index</h3>
<div class="outline-text-3" id="text-h:6aa7a656-884b-4c39-b759-087e412eec13">
-->
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara"><code>:height</code>
values do not need to be rounded to multiples of ten: the likes of <code>115</code>
are perfectly valid—some typefaces will change to account for those
finer increments.</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara"><a href="https://github.com/company-mode/company-mode/issues/1010">https://github.com/company-mode/company-mode/issues/1010</a></p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara"><a href="https://github.com/tumashu/company-posframe/">https://github.com/tumashu/company-posframe/</a></p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">This page
explains the basics, though it is not specific to Emacs:
<a href="https://www.mirc.com/colors.html">https://www.mirc.com/colors.html</a></p></div></div>


</div>
</div>
